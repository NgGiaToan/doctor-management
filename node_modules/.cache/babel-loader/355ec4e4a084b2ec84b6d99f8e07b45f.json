{"ast":null,"code":"import _slicedToArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _ from'@lodash';import FormControl from'@mui/material/FormControl';import InputLabel from'@mui/material/InputLabel';import MenuItem from'@mui/material/MenuItem';import Select from'@mui/material/Select';import TextField from'@mui/material/TextField';import Typography from'@mui/material/Typography';import{motion}from'framer-motion';import{useEffect,useMemo,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Box}from'@mui/system';import Switch from'@mui/material/Switch';import{FormControlLabel}from'@mui/material';import FusePageSimple from'@fuse/core/FusePageSimple';import useThemeMediaQuery from'@fuse/hooks/useThemeMediaQuery';import{selectCategories}from'../store/categoriesSlice';import{getCourses,selectCourses}from'../store/coursesSlice';import CourseCard from'./CourseCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Courses(props){var dispatch=useDispatch();var courses=useSelector(selectCourses);var categories=useSelector(selectCategories);var isMobile=useThemeMediaQuery(function(theme){return theme.breakpoints.down('lg');});// const theme = useTheme();\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),filteredData=_useState2[0],setFilteredData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState('all'),_useState6=_slicedToArray(_useState5,2),selectedCategory=_useState6[0],setSelectedCategory=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hideCompleted=_useState8[0],setHideCompleted=_useState8[1];useEffect(function(){dispatch(getCourses());},[dispatch]);useEffect(function(){function getFilteredArray(){if(searchText.length===0&&selectedCategory==='all'&&!hideCompleted){return courses;}return _.filter(courses,function(item){if(selectedCategory!=='all'&&item.category!==selectedCategory){return false;}if(hideCompleted&&item.progress.completed>0){return false;}return item.title.toLowerCase().includes(searchText.toLowerCase());});}if(courses){setFilteredData(getFilteredArray());}},[courses,hideCompleted,searchText,selectedCategory]);function handleSelectedCategory(event){setSelectedCategory(event.target.value);}function handleSearchText(event){setSearchText(event.target.value);}return/*#__PURE__*/_jsx(FusePageSimple,{header:/*#__PURE__*/_jsxs(Box,{className:\"relative overflow-hidden flex shrink-0 items-center justify-center px-16 py-32 md:p-64\",sx:{backgroundColor:'primary.main',color:function color(theme){return theme.palette.getContrastText(theme.palette.primary.main);}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center  mx-auto w-full\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0}},children:/*#__PURE__*/_jsx(Typography,{color:\"inherit\",className:\"text-18 font-semibold\",children:\"FUSE ACADEMY\"})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0}},children:/*#__PURE__*/_jsx(Typography,{color:\"inherit\",className:\"text-center text-32 sm:text-48 font-extrabold tracking-tight mt-4\",children:\"What do you want to learn today?\"})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0.3}},children:/*#__PURE__*/_jsx(Typography,{color:\"inherit\",className:\"text-16 sm:text-20 mt-16 sm:mt-24 opacity-75 tracking-tight max-w-md text-center\",children:\"Our courses will step you through the process of a building small applications, or adding new features to existing applications.\"})})]}),/*#__PURE__*/_jsx(\"svg\",{className:\"absolute inset-0 pointer-events-none\",viewBox:\"0 0 960 540\",width:\"100%\",height:\"100%\",preserveAspectRatio:\"xMidYMax slice\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsxs(\"g\",{className:\"text-gray-700 opacity-25\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"100\",children:[/*#__PURE__*/_jsx(\"circle\",{r:\"234\",cx:\"196\",cy:\"23\"}),/*#__PURE__*/_jsx(\"circle\",{r:\"234\",cx:\"790\",cy:\"491\"})]})})]}),content:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-1 w-full mx-auto px-24 pt-24 sm:p-40\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col shrink-0 sm:flex-row items-center justify-between space-y-16 sm:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row w-full sm:w-auto items-center space-y-16 sm:space-y-0 sm:space-x-16\",children:[/*#__PURE__*/_jsxs(FormControl,{className:\"flex w-full sm:w-136\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"category-select-label\",children:\"Category\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"category-select-label\",id:\"category-select\",label:\"Category\",value:selectedCategory,onChange:handleSelectedCategory,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"all\",children:/*#__PURE__*/_jsx(\"em\",{children:\" All \"})}),categories.map(function(category){return/*#__PURE__*/_jsx(MenuItem,{value:category.slug,children:category.title},category.id);})]})]}),/*#__PURE__*/_jsx(TextField,{label:\"Search for a course\",placeholder:\"Enter a keyword...\",className:\"flex w-full sm:w-256 mx-8\",value:searchText,inputProps:{'aria-label':'Search'},onChange:handleSearchText,variant:\"outlined\",InputLabelProps:{shrink:true}})]}),/*#__PURE__*/_jsx(FormControlLabel,{label:\"Hide completed\",control:/*#__PURE__*/_jsx(Switch,{onChange:function onChange(ev){setHideCompleted(ev.target.checked);},checked:hideCompleted,name:\"hideCompleted\"})})]}),useMemo(function(){var container={show:{transition:{staggerChildren:0.1}}};var item={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return filteredData&&(filteredData.length>0?/*#__PURE__*/_jsx(motion.div,{className:\"flex grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-32 mt-32 sm:mt-40\",variants:container,initial:\"hidden\",animate:\"show\",children:filteredData.map(function(course){return/*#__PURE__*/_jsx(motion.div,{variants:item,children:/*#__PURE__*/_jsx(CourseCard,{course:course})},course.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-1 items-center justify-center\",children:/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",className:\"text-24 my-24\",children:\"No courses found!\"})}));},[filteredData])]}),scroll:isMobile?'normal':'page'});}export default Courses;","map":null,"metadata":{},"sourceType":"module"}