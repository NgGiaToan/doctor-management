{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{yupResolver}from'@hookform/resolvers/yup';import{Controller,useForm}from'react-hook-form';import Button from'@mui/material/Button';import IconButton from'@mui/material/IconButton';import TextField from'@mui/material/TextField';import{useEffect,useState}from'react';import*as yup from'yup';import _ from'@lodash';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import ToolbarMenu from'./ToolbarMenu';import ChecklistModel from'../../../../model/ChecklistModel';/**\r\n * Form Validation Schema\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({name:yup.string().required('You must enter a title')});function CheckListMenu(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var _useForm=useForm({mode:'onChange',defaultValues:{name:props.name},resolver:yupResolver(schema)}),control=_useForm.control,formState=_useForm.formState,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var isValid=formState.isValid,dirtyFields=formState.dirtyFields,errors=formState.errors;useEffect(function(){if(!anchorEl){reset({name:props.name});}},[anchorEl,reset,props.name]);function handleMenuOpen(event){setAnchorEl(event.currentTarget);}function handleMenuClose(){setAnchorEl(null);}function onSubmit(data){props.onAddCheckList(ChecklistModel(data));handleMenuClose();}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleMenuOpen,size:\"large\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:check-circle\"})}),/*#__PURE__*/_jsx(ToolbarMenu,{state:anchorEl,onClose:handleMenuClose,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"p-16 flex flex-col items-end\",children:[/*#__PURE__*/_jsx(Controller,{name:\"name\",control:control,render:function render(_ref){var _errors$name;var field=_ref.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{label:\"Checklist title\",error:!!errors.name,helperText:errors===null||errors===void 0?void 0:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message,fullWidth:true,className:\"mb-12\",variant:\"outlined\",required:true,autoFocus:true}));}}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",type:\"submit\",disabled:_.isEmpty(dirtyFields)||!isValid,variant:\"contained\",children:\"Add\"})]})})]});}export default CheckListMenu;","map":null,"metadata":{},"sourceType":"module"}