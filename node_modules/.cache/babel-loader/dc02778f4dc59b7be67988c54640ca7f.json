{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{yupResolver}from'@hookform/resolvers/yup';import{Controller,useForm}from'react-hook-form';import _ from'@lodash';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import*as yup from'yup';import{useSelector}from'react-redux';import{selectMemberById}from'../../../../store/membersSlice';import CommentModel from'../../../../model/CommentModel';/**\r\n * Form Validation Schema\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({message:yup.string().required('You must enter a comment')});var defaultValues={idMember:'baa88231-0ee6-4028-96d5-7f187e0f4cd5',message:''};function CardComment(props){var user=useSelector(function(state){return selectMemberById(state,defaultValues.idMember);});var _useForm=useForm({mode:'onChange',defaultValues:defaultValues,resolver:yupResolver(schema)}),control=_useForm.control,formState=_useForm.formState,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var isValid=formState.isValid,dirtyFields=formState.dirtyFields,errors=formState.errors;function onSubmit(data){props.onCommentAdd(CommentModel(_objectSpread(_objectSpread({},defaultValues),data)));reset(defaultValues);}if(!user){return null;}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex -mx-8\",children:[/*#__PURE__*/_jsx(Avatar,{className:\"w-32 h-32 mx-8\",alt:user.name,src:user.avatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start flex-1 mx-8\",children:[/*#__PURE__*/_jsx(Controller,{name:\"message\",control:control,render:function render(_ref){var _errors$message;var field=_ref.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{className:\"flex flex-1\",fullWidth:true,error:!!errors.message,helperText:errors===null||errors===void 0?void 0:(_errors$message=errors.message)===null||_errors$message===void 0?void 0:_errors$message.message,row:3,variant:\"outlined\",label:\"Add comment\",placeholder:\"Write a comment...\"}));}}),/*#__PURE__*/_jsx(Button,{className:\"mt-16\",\"aria-label\":\"save\",variant:\"contained\",color:\"secondary\",type:\"submit\",size:\"small\",disabled:_.isEmpty(dirtyFields)||!isValid,children:\"Save\"})]})]});}export default CardComment;","map":null,"metadata":{},"sourceType":"module"}