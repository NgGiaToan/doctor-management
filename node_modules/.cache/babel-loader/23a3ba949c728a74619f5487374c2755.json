{"ast":null,"code":"import FuseScrollbars from'@fuse/core/FuseScrollbars';import{styled}from'@mui/material/styles';import IconButton from'@mui/material/IconButton';import SwipeableDrawer from'@mui/material/SwipeableDrawer';import Typography from'@mui/material/Typography';import withReducer from'app/store/withReducer';import{useSnackbar}from'notistack';import{memo,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useLocation}from'react-router-dom';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import Button from'@mui/material/Button';import NotificationTemplate from'app/theme-layouts/shared-components/notificationPanel/NotificationTemplate';import NotificationModel from'./model/NotificationModel';import NotificationCard from'./NotificationCard';import{addNotification,dismissAll,dismissItem,getNotifications,selectNotifications}from'./store/dataSlice';import reducer from'./store';import{closeNotificationPanel,selectNotificationPanelState,toggleNotificationPanel}from'./store/stateSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledSwipeableDrawer=styled(SwipeableDrawer)(function(_ref){var theme=_ref.theme;return{'& .MuiDrawer-paper':{backgroundColor:theme.palette.background.default,width:320}};});function NotificationPanel(props){var location=useLocation();var dispatch=useDispatch();var state=useSelector(selectNotificationPanelState);var notifications=useSelector(selectNotifications);var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar,closeSnackbar=_useSnackbar.closeSnackbar;useEffect(function(){/*\r\n\t\tGet Notifications from db\r\n\t\t */dispatch(getNotifications());},[dispatch]);useEffect(function(){if(state){dispatch(closeNotificationPanel());}// eslint-disable-next-line\n},[location,dispatch]);function handleClose(){dispatch(closeNotificationPanel());}function handleDismiss(id){dispatch(dismissItem(id));}function handleDismissAll(){dispatch(dismissAll());}function demoNotification(){var item=NotificationModel({title:'Great Job! this is awesome.'});enqueueSnackbar(item.title,{key:item.id,// autoHideDuration: 3000,\ncontent:function content(){return/*#__PURE__*/_jsx(NotificationTemplate,{item:item,onClose:function onClose(){closeSnackbar(item.id);}});}});dispatch(addNotification(item));}return/*#__PURE__*/_jsxs(StyledSwipeableDrawer,{open:state,anchor:\"right\",onOpen:function onOpen(ev){},onClose:function onClose(ev){return dispatch(toggleNotificationPanel());},disableSwipeToOpen:true,children:[/*#__PURE__*/_jsx(IconButton,{className:\"m-4 absolute top-0 right-0 z-999\",onClick:handleClose,size:\"large\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{color:\"action\",children:\"heroicons-outline:x\"})}),notifications.length>0?/*#__PURE__*/_jsx(FuseScrollbars,{className:\"p-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-end pt-136 mb-36\",children:[/*#__PURE__*/_jsx(Typography,{className:\"text-28 font-semibold leading-none\",children:\"Notifications\"}),/*#__PURE__*/_jsx(Typography,{className:\"text-12 underline cursor-pointer\",color:\"secondary\",onClick:handleDismissAll,children:\"dismiss all\"})]}),notifications.map(function(item){return/*#__PURE__*/_jsx(NotificationCard,{className:\"mb-16\",item:item,onClose:handleDismiss},item.id);})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-1 items-center justify-center p-16\",children:/*#__PURE__*/_jsx(Typography,{className:\"text-24 text-center\",color:\"text.secondary\",children:\"There are no notifications for now.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-16\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:demoNotification,children:\"Create a notification example\"})})]});}export default withReducer('notificationPanel',reducer)(/*#__PURE__*/memo(NotificationPanel));","map":null,"metadata":{},"sourceType":"module"}