{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RemoveXInternal = void 0;\n\nconst utils_1 = require(\"../../utils\");\n\nconst ref_utils_1 = require(\"../../ref-utils\");\n\nconst DEFAULT_INTERNAL_PROPERTY_NAME = 'x-internal';\n\nconst RemoveXInternal = _ref => {\n  let {\n    internalFlagProperty\n  } = _ref;\n  const hiddenTag = internalFlagProperty || DEFAULT_INTERNAL_PROPERTY_NAME;\n\n  function removeInternal(node, ctx) {\n    var _a, _b, _c, _d;\n\n    const {\n      parent,\n      key\n    } = ctx;\n    let didDelete = false;\n\n    if (Array.isArray(node)) {\n      for (let i = 0; i < node.length; i++) {\n        if (ref_utils_1.isRef(node[i])) {\n          const resolved = ctx.resolve(node[i]);\n\n          if ((_a = resolved.node) === null || _a === void 0 ? void 0 : _a[hiddenTag]) {\n            node.splice(i, 1);\n            didDelete = true;\n            i--;\n          }\n        }\n\n        if ((_b = node[i]) === null || _b === void 0 ? void 0 : _b[hiddenTag]) {\n          node.splice(i, 1);\n          didDelete = true;\n          i--;\n        }\n      }\n    } else if (utils_1.isPlainObject(node)) {\n      for (const key of Object.keys(node)) {\n        node = node;\n\n        if (ref_utils_1.isRef(node[key])) {\n          const resolved = ctx.resolve(node[key]);\n\n          if ((_c = resolved.node) === null || _c === void 0 ? void 0 : _c[hiddenTag]) {\n            delete node[key];\n            didDelete = true;\n          }\n        }\n\n        if ((_d = node[key]) === null || _d === void 0 ? void 0 : _d[hiddenTag]) {\n          delete node[key];\n          didDelete = true;\n        }\n      }\n    }\n\n    if (didDelete && (utils_1.isEmptyObject(node) || utils_1.isEmptyArray(node))) {\n      delete parent[key];\n    }\n  }\n\n  return {\n    any: {\n      enter: (node, ctx) => {\n        removeInternal(node, ctx);\n      }\n    }\n  };\n};\n\nexports.RemoveXInternal = RemoveXInternal;","map":{"version":3,"names":["Object","defineProperty","exports","value","RemoveXInternal","utils_1","require","ref_utils_1","DEFAULT_INTERNAL_PROPERTY_NAME","internalFlagProperty","hiddenTag","removeInternal","node","ctx","_a","_b","_c","_d","parent","key","didDelete","Array","isArray","i","length","isRef","resolved","resolve","splice","isPlainObject","keys","isEmptyObject","isEmptyArray","any","enter"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@redocly/openapi-core/lib/decorators/common/remove-x-internal.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemoveXInternal = void 0;\nconst utils_1 = require(\"../../utils\");\nconst ref_utils_1 = require(\"../../ref-utils\");\nconst DEFAULT_INTERNAL_PROPERTY_NAME = 'x-internal';\nconst RemoveXInternal = ({ internalFlagProperty }) => {\n    const hiddenTag = internalFlagProperty || DEFAULT_INTERNAL_PROPERTY_NAME;\n    function removeInternal(node, ctx) {\n        var _a, _b, _c, _d;\n        const { parent, key } = ctx;\n        let didDelete = false;\n        if (Array.isArray(node)) {\n            for (let i = 0; i < node.length; i++) {\n                if (ref_utils_1.isRef(node[i])) {\n                    const resolved = ctx.resolve(node[i]);\n                    if ((_a = resolved.node) === null || _a === void 0 ? void 0 : _a[hiddenTag]) {\n                        node.splice(i, 1);\n                        didDelete = true;\n                        i--;\n                    }\n                }\n                if ((_b = node[i]) === null || _b === void 0 ? void 0 : _b[hiddenTag]) {\n                    node.splice(i, 1);\n                    didDelete = true;\n                    i--;\n                }\n            }\n        }\n        else if (utils_1.isPlainObject(node)) {\n            for (const key of Object.keys(node)) {\n                node = node;\n                if (ref_utils_1.isRef(node[key])) {\n                    const resolved = ctx.resolve(node[key]);\n                    if ((_c = resolved.node) === null || _c === void 0 ? void 0 : _c[hiddenTag]) {\n                        delete node[key];\n                        didDelete = true;\n                    }\n                }\n                if ((_d = node[key]) === null || _d === void 0 ? void 0 : _d[hiddenTag]) {\n                    delete node[key];\n                    didDelete = true;\n                }\n            }\n        }\n        if (didDelete && (utils_1.isEmptyObject(node) || utils_1.isEmptyArray(node))) {\n            delete parent[key];\n        }\n    }\n    return {\n        any: {\n            enter: (node, ctx) => {\n                removeInternal(node, ctx);\n            }\n        }\n    };\n};\nexports.RemoveXInternal = RemoveXInternal;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}