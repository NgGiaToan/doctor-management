{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolvePreset = exports.resolveLint = exports.resolveApis = exports.resolvePlugins = exports.resolveConfig = void 0;\n\nconst path = require(\"path\");\n\nconst colorette_1 = require(\"colorette\");\n\nconst ref_utils_1 = require(\"../ref-utils\");\n\nconst resolve_1 = require(\"../resolve\");\n\nconst builtIn_1 = require(\"./builtIn\");\n\nconst utils_1 = require(\"./utils\");\n\nconst utils_2 = require(\"../utils\");\n\nconst config_1 = require(\"./config\");\n\nfunction resolveConfig(rawConfig, configPath) {\n  var _a, _b, _c, _d, _e;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    if ((_b = (_a = rawConfig.lint) === null || _a === void 0 ? void 0 : _a.extends) === null || _b === void 0 ? void 0 : _b.some(utils_2.isNotString)) {\n      throw new Error(`Error configuration format not detected in extends value must contain strings`);\n    }\n\n    const resolver = new resolve_1.BaseResolver(utils_1.getResolveConfig(rawConfig.resolve));\n    const configExtends = (_d = (_c = rawConfig === null || rawConfig === void 0 ? void 0 : rawConfig.lint) === null || _c === void 0 ? void 0 : _c.extends) !== null && _d !== void 0 ? _d : ['recommended'];\n    const recommendedFallback = !((_e = rawConfig === null || rawConfig === void 0 ? void 0 : rawConfig.lint) === null || _e === void 0 ? void 0 : _e.extends);\n    const lintConfig = Object.assign(Object.assign({}, rawConfig === null || rawConfig === void 0 ? void 0 : rawConfig.lint), {\n      extends: configExtends,\n      recommendedFallback\n    });\n    const apis = yield resolveApis({\n      rawConfig: Object.assign(Object.assign({}, rawConfig), {\n        lint: lintConfig\n      }),\n      configPath,\n      resolver\n    });\n    const lint = yield resolveLint({\n      lintConfig,\n      configPath,\n      resolver\n    });\n    return new config_1.Config(Object.assign(Object.assign({}, rawConfig), {\n      apis,\n      lint\n    }), configPath);\n  });\n}\n\nexports.resolveConfig = resolveConfig;\n\nfunction resolvePlugins(plugins) {\n  let configPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  if (!plugins) return []; // @ts-ignore\n\n  const requireFunc = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require;\n  const seenPluginIds = new Map();\n  return plugins.map(p => {\n    if (utils_2.isString(p) && ref_utils_1.isAbsoluteUrl(p)) {\n      throw new Error(colorette_1.red(`We don't support remote plugins yet.`));\n    } // TODO: resolve npm packages similar to eslint\n\n\n    const pluginModule = utils_2.isString(p) ? requireFunc(path.resolve(path.dirname(configPath), p)) : p;\n    const id = pluginModule.id;\n\n    if (typeof id !== 'string') {\n      throw new Error(colorette_1.red(`Plugin must define \\`id\\` property in ${colorette_1.blue(p.toString())}.`));\n    }\n\n    if (seenPluginIds.has(id)) {\n      const pluginPath = seenPluginIds.get(id);\n      throw new Error(colorette_1.red(`Plugin \"id\" must be unique. Plugin ${colorette_1.blue(p.toString())} uses id \"${colorette_1.blue(id)}\" already seen in ${colorette_1.blue(pluginPath)}`));\n    }\n\n    seenPluginIds.set(id, p.toString());\n    const plugin = Object.assign(Object.assign({\n      id\n    }, pluginModule.configs ? {\n      configs: pluginModule.configs\n    } : {}), pluginModule.typeExtension ? {\n      typeExtension: pluginModule.typeExtension\n    } : {});\n\n    if (pluginModule.rules) {\n      if (!pluginModule.rules.oas3 && !pluginModule.rules.oas2) {\n        throw new Error(`Plugin rules must have \\`oas3\\` or \\`oas2\\` rules \"${p}.`);\n      }\n\n      plugin.rules = {};\n\n      if (pluginModule.rules.oas3) {\n        plugin.rules.oas3 = utils_1.prefixRules(pluginModule.rules.oas3, id);\n      }\n\n      if (pluginModule.rules.oas2) {\n        plugin.rules.oas2 = utils_1.prefixRules(pluginModule.rules.oas2, id);\n      }\n    }\n\n    if (pluginModule.preprocessors) {\n      if (!pluginModule.preprocessors.oas3 && !pluginModule.preprocessors.oas2) {\n        throw new Error(`Plugin \\`preprocessors\\` must have \\`oas3\\` or \\`oas2\\` preprocessors \"${p}.`);\n      }\n\n      plugin.preprocessors = {};\n\n      if (pluginModule.preprocessors.oas3) {\n        plugin.preprocessors.oas3 = utils_1.prefixRules(pluginModule.preprocessors.oas3, id);\n      }\n\n      if (pluginModule.preprocessors.oas2) {\n        plugin.preprocessors.oas2 = utils_1.prefixRules(pluginModule.preprocessors.oas2, id);\n      }\n    }\n\n    if (pluginModule.decorators) {\n      if (!pluginModule.decorators.oas3 && !pluginModule.decorators.oas2) {\n        throw new Error(`Plugin \\`decorators\\` must have \\`oas3\\` or \\`oas2\\` decorators \"${p}.`);\n      }\n\n      plugin.decorators = {};\n\n      if (pluginModule.decorators.oas3) {\n        plugin.decorators.oas3 = utils_1.prefixRules(pluginModule.decorators.oas3, id);\n      }\n\n      if (pluginModule.decorators.oas2) {\n        plugin.decorators.oas2 = utils_1.prefixRules(pluginModule.decorators.oas2, id);\n      }\n    }\n\n    return plugin;\n  }).filter(utils_2.notUndefined);\n}\n\nexports.resolvePlugins = resolvePlugins;\n\nfunction resolveApis(_ref) {\n  let {\n    rawConfig,\n    configPath = '',\n    resolver\n  } = _ref;\n\n  var _a, _b;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    const {\n      apis = {},\n      lint: lintConfig = {}\n    } = rawConfig;\n    let resolvedApis = {};\n\n    for (const [apiName, apiContent] of Object.entries(apis || {})) {\n      if ((_b = (_a = apiContent.lint) === null || _a === void 0 ? void 0 : _a.extends) === null || _b === void 0 ? void 0 : _b.some(utils_2.isNotString)) {\n        throw new Error(`Error configuration format not detected in extends value must contain strings`);\n      }\n\n      const rawLintConfig = getMergedLintRawConfig(lintConfig, apiContent.lint);\n      const apiLint = yield resolveLint({\n        lintConfig: rawLintConfig,\n        configPath,\n        resolver\n      });\n      resolvedApis[apiName] = Object.assign(Object.assign({}, apiContent), {\n        lint: apiLint\n      });\n    }\n\n    return resolvedApis;\n  });\n}\n\nexports.resolveApis = resolveApis;\n\nfunction resolveAndMergeNestedLint(_ref2) {\n  let {\n    lintConfig,\n    configPath = '',\n    resolver = new resolve_1.BaseResolver()\n  } = _ref2;\n  let parentConfigPaths = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let extendPaths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  var _a, _b, _c;\n\n  return __awaiter(this, void 0, void 0, function* () {\n    if (parentConfigPaths.includes(configPath)) {\n      throw new Error(`Circular dependency in config file: \"${configPath}\"`);\n    }\n\n    const plugins = utils_1.getUniquePlugins(resolvePlugins([...((lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.plugins) || []), builtIn_1.defaultPlugin], configPath));\n    const pluginPaths = (_a = lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.plugins) === null || _a === void 0 ? void 0 : _a.filter(utils_2.isString).map(p => path.resolve(path.dirname(configPath), p));\n    const resolvedConfigPath = ref_utils_1.isAbsoluteUrl(configPath) ? configPath : configPath && path.resolve(configPath);\n    const extendConfigs = yield Promise.all(((_b = lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.extends) === null || _b === void 0 ? void 0 : _b.map(presetItem => __awaiter(this, void 0, void 0, function* () {\n      if (!ref_utils_1.isAbsoluteUrl(presetItem) && !path.extname(presetItem)) {\n        return resolvePreset(presetItem, plugins);\n      }\n\n      const pathItem = ref_utils_1.isAbsoluteUrl(presetItem) ? presetItem : ref_utils_1.isAbsoluteUrl(configPath) ? new URL(presetItem, configPath).href : path.resolve(path.dirname(configPath), presetItem);\n      const extendedLintConfig = yield loadExtendLintConfig(pathItem, resolver);\n      return yield resolveAndMergeNestedLint({\n        lintConfig: extendedLintConfig,\n        configPath: pathItem,\n        resolver: resolver\n      }, [...parentConfigPaths, resolvedConfigPath], extendPaths);\n    }))) || []);\n\n    const _d = utils_1.mergeExtends([...extendConfigs, Object.assign(Object.assign({}, lintConfig), {\n      plugins,\n      extends: undefined,\n      extendPaths: [...parentConfigPaths, resolvedConfigPath],\n      pluginPaths\n    })]),\n          {\n      plugins: mergedPlugins = []\n    } = _d,\n          lint = __rest(_d, [\"plugins\"]);\n\n    return Object.assign(Object.assign({}, lint), {\n      extendPaths: (_c = lint.extendPaths) === null || _c === void 0 ? void 0 : _c.filter(path => path && !ref_utils_1.isAbsoluteUrl(path)),\n      plugins: utils_1.getUniquePlugins(mergedPlugins),\n      recommendedFallback: lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.recommendedFallback,\n      doNotResolveExamples: lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.doNotResolveExamples\n    });\n  });\n}\n\nfunction resolveLint(lintOpts) {\n  let parentConfigPaths = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let extendPaths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  return __awaiter(this, void 0, void 0, function* () {\n    const resolvedLint = yield resolveAndMergeNestedLint(lintOpts, parentConfigPaths, extendPaths);\n    return Object.assign(Object.assign({}, resolvedLint), {\n      rules: resolvedLint.rules && groupLintAssertionRules(resolvedLint.rules)\n    });\n  });\n}\n\nexports.resolveLint = resolveLint;\n\nfunction resolvePreset(presetName, plugins) {\n  var _a;\n\n  const {\n    pluginId,\n    configName\n  } = utils_1.parsePresetName(presetName);\n  const plugin = plugins.find(p => p.id === pluginId);\n\n  if (!plugin) {\n    throw new Error(`Invalid config ${colorette_1.red(presetName)}: plugin ${pluginId} is not included.`);\n  }\n\n  const preset = (_a = plugin.configs) === null || _a === void 0 ? void 0 : _a[configName];\n\n  if (!preset) {\n    throw new Error(pluginId ? `Invalid config ${colorette_1.red(presetName)}: plugin ${pluginId} doesn't export config with name ${configName}.` : `Invalid config ${colorette_1.red(presetName)}: there is no such built-in config.`);\n  }\n\n  return preset;\n}\n\nexports.resolvePreset = resolvePreset;\n\nfunction loadExtendLintConfig(filePath, resolver) {\n  return __awaiter(this, void 0, void 0, function* () {\n    try {\n      const fileSource = yield resolver.loadExternalRef(filePath);\n      const rawConfig = utils_1.transformConfig(utils_2.parseYaml(fileSource.body));\n\n      if (!rawConfig.lint) {\n        throw new Error(`Lint configuration format not detected: \"${filePath}\"`);\n      }\n\n      return rawConfig.lint;\n    } catch (error) {\n      throw new Error(`Failed to load \"${filePath}\": ${error.message}`);\n    }\n  });\n}\n\nfunction getMergedLintRawConfig(configLint, apiLint) {\n  const resultLint = Object.assign(Object.assign(Object.assign({}, configLint), apiLint), {\n    rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.rules),\n    oas2Rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas2Rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas2Rules),\n    oas3_0Rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_0Rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_0Rules),\n    oas3_1Rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_1Rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_1Rules),\n    preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.preprocessors),\n    oas2Preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas2Preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas2Preprocessors),\n    oas3_0Preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_0Preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_0Preprocessors),\n    oas3_1Preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_1Preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_1Preprocessors),\n    decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.decorators),\n    oas2Decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas2Decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas2Decorators),\n    oas3_0Decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_0Decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_0Decorators),\n    oas3_1Decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_1Decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_1Decorators),\n    recommendedFallback: (apiLint === null || apiLint === void 0 ? void 0 : apiLint.extends) ? false : configLint.recommendedFallback\n  });\n  return resultLint;\n}\n\nfunction groupLintAssertionRules(rules) {\n  if (!rules) {\n    return rules;\n  } // Create a new record to avoid mutating original\n\n\n  const transformedRules = {}; // Collect assertion rules\n\n  const assertions = [];\n\n  for (const [ruleKey, rule] of Object.entries(rules)) {\n    if (ruleKey.startsWith('assert/') && typeof rule === 'object' && rule !== null) {\n      const assertion = rule;\n      assertions.push(Object.assign(Object.assign({}, assertion), {\n        assertionId: ruleKey.replace('assert/', '')\n      }));\n    } else {\n      // If it's not an assertion, keep it as is\n      transformedRules[ruleKey] = rule;\n    }\n  }\n\n  if (assertions.length > 0) {\n    transformedRules.assertions = assertions;\n  }\n\n  return transformedRules;\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defineProperty","exports","resolvePreset","resolveLint","resolveApis","resolvePlugins","resolveConfig","path","require","colorette_1","ref_utils_1","resolve_1","builtIn_1","utils_1","utils_2","config_1","rawConfig","configPath","_a","_b","_c","_d","_e","lint","extends","some","isNotString","Error","resolver","BaseResolver","getResolveConfig","configExtends","recommendedFallback","lintConfig","assign","apis","Config","plugins","requireFunc","__webpack_require__","__non_webpack_require__","seenPluginIds","Map","map","isString","isAbsoluteUrl","red","pluginModule","dirname","id","blue","toString","has","pluginPath","get","set","plugin","configs","typeExtension","rules","oas3","oas2","prefixRules","preprocessors","decorators","filter","notUndefined","resolvedApis","apiName","apiContent","entries","rawLintConfig","getMergedLintRawConfig","apiLint","resolveAndMergeNestedLint","parentConfigPaths","extendPaths","includes","getUniquePlugins","defaultPlugin","pluginPaths","resolvedConfigPath","extendConfigs","all","presetItem","extname","pathItem","URL","href","extendedLintConfig","loadExtendLintConfig","mergeExtends","undefined","mergedPlugins","doNotResolveExamples","lintOpts","resolvedLint","groupLintAssertionRules","presetName","pluginId","configName","parsePresetName","find","preset","filePath","fileSource","loadExternalRef","transformConfig","parseYaml","body","error","message","configLint","resultLint","oas2Rules","oas3_0Rules","oas3_1Rules","oas2Preprocessors","oas3_0Preprocessors","oas3_1Preprocessors","oas2Decorators","oas3_0Decorators","oas3_1Decorators","transformedRules","assertions","ruleKey","rule","startsWith","assertion","push","assertionId","replace"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@redocly/openapi-core/lib/config/config-resolvers.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolvePreset = exports.resolveLint = exports.resolveApis = exports.resolvePlugins = exports.resolveConfig = void 0;\nconst path = require(\"path\");\nconst colorette_1 = require(\"colorette\");\nconst ref_utils_1 = require(\"../ref-utils\");\nconst resolve_1 = require(\"../resolve\");\nconst builtIn_1 = require(\"./builtIn\");\nconst utils_1 = require(\"./utils\");\nconst utils_2 = require(\"../utils\");\nconst config_1 = require(\"./config\");\nfunction resolveConfig(rawConfig, configPath) {\n    var _a, _b, _c, _d, _e;\n    return __awaiter(this, void 0, void 0, function* () {\n        if ((_b = (_a = rawConfig.lint) === null || _a === void 0 ? void 0 : _a.extends) === null || _b === void 0 ? void 0 : _b.some(utils_2.isNotString)) {\n            throw new Error(`Error configuration format not detected in extends value must contain strings`);\n        }\n        const resolver = new resolve_1.BaseResolver(utils_1.getResolveConfig(rawConfig.resolve));\n        const configExtends = (_d = (_c = rawConfig === null || rawConfig === void 0 ? void 0 : rawConfig.lint) === null || _c === void 0 ? void 0 : _c.extends) !== null && _d !== void 0 ? _d : ['recommended'];\n        const recommendedFallback = !((_e = rawConfig === null || rawConfig === void 0 ? void 0 : rawConfig.lint) === null || _e === void 0 ? void 0 : _e.extends);\n        const lintConfig = Object.assign(Object.assign({}, rawConfig === null || rawConfig === void 0 ? void 0 : rawConfig.lint), { extends: configExtends, recommendedFallback });\n        const apis = yield resolveApis({\n            rawConfig: Object.assign(Object.assign({}, rawConfig), { lint: lintConfig }),\n            configPath,\n            resolver,\n        });\n        const lint = yield resolveLint({\n            lintConfig,\n            configPath,\n            resolver,\n        });\n        return new config_1.Config(Object.assign(Object.assign({}, rawConfig), { apis,\n            lint }), configPath);\n    });\n}\nexports.resolveConfig = resolveConfig;\nfunction resolvePlugins(plugins, configPath = '') {\n    if (!plugins)\n        return [];\n    // @ts-ignore\n    const requireFunc = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require;\n    const seenPluginIds = new Map();\n    return plugins\n        .map((p) => {\n        if (utils_2.isString(p) && ref_utils_1.isAbsoluteUrl(p)) {\n            throw new Error(colorette_1.red(`We don't support remote plugins yet.`));\n        }\n        // TODO: resolve npm packages similar to eslint\n        const pluginModule = utils_2.isString(p)\n            ? requireFunc(path.resolve(path.dirname(configPath), p))\n            : p;\n        const id = pluginModule.id;\n        if (typeof id !== 'string') {\n            throw new Error(colorette_1.red(`Plugin must define \\`id\\` property in ${colorette_1.blue(p.toString())}.`));\n        }\n        if (seenPluginIds.has(id)) {\n            const pluginPath = seenPluginIds.get(id);\n            throw new Error(colorette_1.red(`Plugin \"id\" must be unique. Plugin ${colorette_1.blue(p.toString())} uses id \"${colorette_1.blue(id)}\" already seen in ${colorette_1.blue(pluginPath)}`));\n        }\n        seenPluginIds.set(id, p.toString());\n        const plugin = Object.assign(Object.assign({ id }, (pluginModule.configs ? { configs: pluginModule.configs } : {})), (pluginModule.typeExtension ? { typeExtension: pluginModule.typeExtension } : {}));\n        if (pluginModule.rules) {\n            if (!pluginModule.rules.oas3 && !pluginModule.rules.oas2) {\n                throw new Error(`Plugin rules must have \\`oas3\\` or \\`oas2\\` rules \"${p}.`);\n            }\n            plugin.rules = {};\n            if (pluginModule.rules.oas3) {\n                plugin.rules.oas3 = utils_1.prefixRules(pluginModule.rules.oas3, id);\n            }\n            if (pluginModule.rules.oas2) {\n                plugin.rules.oas2 = utils_1.prefixRules(pluginModule.rules.oas2, id);\n            }\n        }\n        if (pluginModule.preprocessors) {\n            if (!pluginModule.preprocessors.oas3 && !pluginModule.preprocessors.oas2) {\n                throw new Error(`Plugin \\`preprocessors\\` must have \\`oas3\\` or \\`oas2\\` preprocessors \"${p}.`);\n            }\n            plugin.preprocessors = {};\n            if (pluginModule.preprocessors.oas3) {\n                plugin.preprocessors.oas3 = utils_1.prefixRules(pluginModule.preprocessors.oas3, id);\n            }\n            if (pluginModule.preprocessors.oas2) {\n                plugin.preprocessors.oas2 = utils_1.prefixRules(pluginModule.preprocessors.oas2, id);\n            }\n        }\n        if (pluginModule.decorators) {\n            if (!pluginModule.decorators.oas3 && !pluginModule.decorators.oas2) {\n                throw new Error(`Plugin \\`decorators\\` must have \\`oas3\\` or \\`oas2\\` decorators \"${p}.`);\n            }\n            plugin.decorators = {};\n            if (pluginModule.decorators.oas3) {\n                plugin.decorators.oas3 = utils_1.prefixRules(pluginModule.decorators.oas3, id);\n            }\n            if (pluginModule.decorators.oas2) {\n                plugin.decorators.oas2 = utils_1.prefixRules(pluginModule.decorators.oas2, id);\n            }\n        }\n        return plugin;\n    })\n        .filter(utils_2.notUndefined);\n}\nexports.resolvePlugins = resolvePlugins;\nfunction resolveApis({ rawConfig, configPath = '', resolver, }) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        const { apis = {}, lint: lintConfig = {} } = rawConfig;\n        let resolvedApis = {};\n        for (const [apiName, apiContent] of Object.entries(apis || {})) {\n            if ((_b = (_a = apiContent.lint) === null || _a === void 0 ? void 0 : _a.extends) === null || _b === void 0 ? void 0 : _b.some(utils_2.isNotString)) {\n                throw new Error(`Error configuration format not detected in extends value must contain strings`);\n            }\n            const rawLintConfig = getMergedLintRawConfig(lintConfig, apiContent.lint);\n            const apiLint = yield resolveLint({\n                lintConfig: rawLintConfig,\n                configPath,\n                resolver,\n            });\n            resolvedApis[apiName] = Object.assign(Object.assign({}, apiContent), { lint: apiLint });\n        }\n        return resolvedApis;\n    });\n}\nexports.resolveApis = resolveApis;\nfunction resolveAndMergeNestedLint({ lintConfig, configPath = '', resolver = new resolve_1.BaseResolver(), }, parentConfigPaths = [], extendPaths = []) {\n    var _a, _b, _c;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (parentConfigPaths.includes(configPath)) {\n            throw new Error(`Circular dependency in config file: \"${configPath}\"`);\n        }\n        const plugins = utils_1.getUniquePlugins(resolvePlugins([...((lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.plugins) || []), builtIn_1.defaultPlugin], configPath));\n        const pluginPaths = (_a = lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.plugins) === null || _a === void 0 ? void 0 : _a.filter(utils_2.isString).map((p) => path.resolve(path.dirname(configPath), p));\n        const resolvedConfigPath = ref_utils_1.isAbsoluteUrl(configPath)\n            ? configPath\n            : configPath && path.resolve(configPath);\n        const extendConfigs = yield Promise.all(((_b = lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.extends) === null || _b === void 0 ? void 0 : _b.map((presetItem) => __awaiter(this, void 0, void 0, function* () {\n            if (!ref_utils_1.isAbsoluteUrl(presetItem) && !path.extname(presetItem)) {\n                return resolvePreset(presetItem, plugins);\n            }\n            const pathItem = ref_utils_1.isAbsoluteUrl(presetItem)\n                ? presetItem\n                : ref_utils_1.isAbsoluteUrl(configPath)\n                    ? new URL(presetItem, configPath).href\n                    : path.resolve(path.dirname(configPath), presetItem);\n            const extendedLintConfig = yield loadExtendLintConfig(pathItem, resolver);\n            return yield resolveAndMergeNestedLint({\n                lintConfig: extendedLintConfig,\n                configPath: pathItem,\n                resolver: resolver,\n            }, [...parentConfigPaths, resolvedConfigPath], extendPaths);\n        }))) || []);\n        const _d = utils_1.mergeExtends([\n            ...extendConfigs,\n            Object.assign(Object.assign({}, lintConfig), { plugins, extends: undefined, extendPaths: [...parentConfigPaths, resolvedConfigPath], pluginPaths }),\n        ]), { plugins: mergedPlugins = [] } = _d, lint = __rest(_d, [\"plugins\"]);\n        return Object.assign(Object.assign({}, lint), { extendPaths: (_c = lint.extendPaths) === null || _c === void 0 ? void 0 : _c.filter((path) => path && !ref_utils_1.isAbsoluteUrl(path)), plugins: utils_1.getUniquePlugins(mergedPlugins), recommendedFallback: lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.recommendedFallback, doNotResolveExamples: lintConfig === null || lintConfig === void 0 ? void 0 : lintConfig.doNotResolveExamples });\n    });\n}\nfunction resolveLint(lintOpts, parentConfigPaths = [], extendPaths = []) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const resolvedLint = yield resolveAndMergeNestedLint(lintOpts, parentConfigPaths, extendPaths);\n        return Object.assign(Object.assign({}, resolvedLint), { rules: resolvedLint.rules && groupLintAssertionRules(resolvedLint.rules) });\n    });\n}\nexports.resolveLint = resolveLint;\nfunction resolvePreset(presetName, plugins) {\n    var _a;\n    const { pluginId, configName } = utils_1.parsePresetName(presetName);\n    const plugin = plugins.find((p) => p.id === pluginId);\n    if (!plugin) {\n        throw new Error(`Invalid config ${colorette_1.red(presetName)}: plugin ${pluginId} is not included.`);\n    }\n    const preset = (_a = plugin.configs) === null || _a === void 0 ? void 0 : _a[configName];\n    if (!preset) {\n        throw new Error(pluginId\n            ? `Invalid config ${colorette_1.red(presetName)}: plugin ${pluginId} doesn't export config with name ${configName}.`\n            : `Invalid config ${colorette_1.red(presetName)}: there is no such built-in config.`);\n    }\n    return preset;\n}\nexports.resolvePreset = resolvePreset;\nfunction loadExtendLintConfig(filePath, resolver) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const fileSource = yield resolver.loadExternalRef(filePath);\n            const rawConfig = utils_1.transformConfig(utils_2.parseYaml(fileSource.body));\n            if (!rawConfig.lint) {\n                throw new Error(`Lint configuration format not detected: \"${filePath}\"`);\n            }\n            return rawConfig.lint;\n        }\n        catch (error) {\n            throw new Error(`Failed to load \"${filePath}\": ${error.message}`);\n        }\n    });\n}\nfunction getMergedLintRawConfig(configLint, apiLint) {\n    const resultLint = Object.assign(Object.assign(Object.assign({}, configLint), apiLint), { rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.rules), oas2Rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas2Rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas2Rules), oas3_0Rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_0Rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_0Rules), oas3_1Rules: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_1Rules), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_1Rules), preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.preprocessors), oas2Preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas2Preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas2Preprocessors), oas3_0Preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_0Preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_0Preprocessors), oas3_1Preprocessors: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_1Preprocessors), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_1Preprocessors), decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.decorators), oas2Decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas2Decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas2Decorators), oas3_0Decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_0Decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_0Decorators), oas3_1Decorators: Object.assign(Object.assign({}, configLint === null || configLint === void 0 ? void 0 : configLint.oas3_1Decorators), apiLint === null || apiLint === void 0 ? void 0 : apiLint.oas3_1Decorators), recommendedFallback: (apiLint === null || apiLint === void 0 ? void 0 : apiLint.extends) ? false : configLint.recommendedFallback });\n    return resultLint;\n}\nfunction groupLintAssertionRules(rules) {\n    if (!rules) {\n        return rules;\n    }\n    // Create a new record to avoid mutating original\n    const transformedRules = {};\n    // Collect assertion rules\n    const assertions = [];\n    for (const [ruleKey, rule] of Object.entries(rules)) {\n        if (ruleKey.startsWith('assert/') && typeof rule === 'object' && rule !== null) {\n            const assertion = rule;\n            assertions.push(Object.assign(Object.assign({}, assertion), { assertionId: ruleKey.replace('assert/', '') }));\n        }\n        else {\n            // If it's not an assertion, keep it as is\n            transformedRules[ruleKey] = rule;\n        }\n    }\n    if (assertions.length > 0) {\n        transformedRules.assertions = assertions;\n    }\n    return transformedRules;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}