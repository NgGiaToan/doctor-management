{"ast":null,"code":"import Button from'@mui/material/Button';import NavLinkAdapter from'@fuse/core/NavLinkAdapter';import{useParams}from'react-router-dom';import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import FuseLoading from'@fuse/core/FuseLoading';import Avatar from'@mui/material/Avatar';import Typography from'@mui/material/Typography';import Chip from'@mui/material/Chip';import Divider from'@mui/material/Divider';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import Box from'@mui/system/Box';import format from'date-fns/format';import _ from'@lodash';import{getContact,selectContact}from'../store/contactSlice';import{selectCountries}from'../store/countriesSlice';import{selectTags}from'../store/tagsSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ContactView=function ContactView(){var contact=useSelector(selectContact);var countries=useSelector(selectCountries);var tags=useSelector(selectTags);var routeParams=useParams();var dispatch=useDispatch();useEffect(function(){dispatch(getContact(routeParams.id));},[dispatch,routeParams]);function getCountryByIso(iso){return countries.find(function(country){return country.iso===iso;});}if(!contact){return/*#__PURE__*/_jsx(FuseLoading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{className:\"relative w-full h-160 sm:h-192 px-32 sm:px-48\",sx:{backgroundColor:'background.default'},children:contact.background&&/*#__PURE__*/_jsx(\"img\",{className:\"absolute inset-0 object-cover w-full h-full\",src:contact.background,alt:\"user background\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex flex-col flex-auto items-center p-24 pt-0 sm:p-48 sm:pt-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-3xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-auto items-end -mt-64\",children:[/*#__PURE__*/_jsx(Avatar,{sx:{borderWidth:4,borderStyle:'solid',borderColor:'background.paper',backgroundColor:'background.default',color:'text.secondary'},className:\"w-128 h-128 text-64 font-bold\",src:contact.avatar,alt:contact.name,children:contact.name.charAt(0)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center ml-auto mb-4\",children:/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"secondary\",component:NavLinkAdapter,to:\"edit\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{size:20,children:\"heroicons-outline:pencil-alt\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-8\",children:\"Edit\"})]})})]}),/*#__PURE__*/_jsx(Typography,{className:\"mt-12 text-4xl font-bold truncate\",children:contact.name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap items-center mt-8\",children:contact.tags.map(function(id){return/*#__PURE__*/_jsx(Chip,{label:_.find(tags,{id:id}).title,className:\"mr-12 mb-12\",size:\"small\"},id);})}),/*#__PURE__*/_jsx(Divider,{className:\"mt-16 mb-24\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-32\",children:[contact.title&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:briefcase\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-24 leading-6\",children:contact.title})]}),contact.company&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:office-building\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-24 leading-6\",children:contact.company})]}),contact.emails.length&&contact.emails.some(function(item){return item.email.length>0;})&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"min-w-0 ml-24 space-y-4\",children:contact.emails.map(function(item){return item.email!==''&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center leading-6\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"hover:underline text-primary-500\",href:\"mailto: \".concat(item.email),target:\"_blank\",rel:\"noreferrer\",children:item.email}),item.label&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Typography,{className:\"text-md truncate\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-8\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:item.label})]})})]},item.email);})})]}),contact.phoneNumbers.length&&contact.phoneNumbers.some(function(item){return item.phoneNumber.length>0;})&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:phone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"min-w-0 ml-24 space-y-4\",children:contact.phoneNumbers.map(function(item,index){var _getCountryByIso,_getCountryByIso2;return item.phoneNumber!==''&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center leading-6\",children:[/*#__PURE__*/_jsx(Box,{className:\"hidden sm:flex w-24 h-16 overflow-hidden\",sx:{background:\"url('/assets/images/apps/contacts/flags.png') no-repeat 0 0\",backgroundSize:'24px 3876px',backgroundPosition:(_getCountryByIso=getCountryByIso(item.country))===null||_getCountryByIso===void 0?void 0:_getCountryByIso.flagImagePos}}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:ml-12 font-mono\",children:(_getCountryByIso2=getCountryByIso(item.country))===null||_getCountryByIso2===void 0?void 0:_getCountryByIso2.code}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-10 font-mono\",children:item.phoneNumber}),item.label&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Typography,{className:\"text-md truncate\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-8\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:item.label})]})})]},index);})})]}),contact.address&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:location-marker\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-24 leading-6\",children:contact.address})]}),contact.birthday&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:cake\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-24 leading-6\",children:format(new Date(contact.birthday),'MMMM d, y')})]}),contact.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:menu-alt-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-none ml-24 prose dark:prose-invert\",dangerouslySetInnerHTML:{__html:contact.notes}})]})]})]})})]});};export default ContactView;","map":null,"metadata":{},"sourceType":"module"}