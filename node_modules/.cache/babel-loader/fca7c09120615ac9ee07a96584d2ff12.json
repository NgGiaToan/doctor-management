{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\app\\\\main\\\\apps\\\\scrumboard\\\\board\\\\BoardTitle.js\",\n    _s = $RefreshSig$();\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Controller, useForm } from 'react-hook-form';\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\nimport IconButton from '@mui/material/IconButton';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as yup from 'yup';\nimport _ from '@lodash';\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\nimport { selectBoard, updateBoard } from '../store/boardSlice';\n/**\r\n * Form Validation Schema\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  title: yup.string().required('You must enter a title')\n});\n\nfunction BoardTitle(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const board = useSelector(selectBoard);\n  const [formOpen, setFormOpen] = useState(false);\n  const {\n    control,\n    formState,\n    handleSubmit,\n    reset\n  } = useForm({\n    mode: 'onChange',\n    defaultValues: {\n      title: board.title\n    },\n    resolver: yupResolver(schema)\n  });\n  const {\n    isValid,\n    dirtyFields,\n    errors\n  } = formState;\n  useEffect(() => {\n    if (!formOpen) {\n      reset({\n        title: board.title\n      });\n    }\n  }, [formOpen, reset, board.title]);\n\n  function handleOpenForm(ev) {\n    ev.stopPropagation();\n    setFormOpen(true);\n  }\n\n  function handleCloseForm() {\n    setFormOpen(false);\n  }\n\n  function onSubmit(data) {\n    dispatch(updateBoard(data));\n    handleCloseForm();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center min-w-0\",\n    children: formOpen ? /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n      onClickAway: handleCloseForm,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex w-full\",\n        onSubmit: handleSubmit(onSubmit),\n        children: /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"title\",\n          control: control,\n          render: _ref => {\n            let {\n              field\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(TextField, { ...field,\n              variant: \"filled\",\n              margin: \"none\",\n              autoFocus: true,\n              hiddenLabel: true,\n              InputProps: {\n                endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"end\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    type: \"submit\",\n                    disabled: _.isEmpty(dirtyFields) || !isValid,\n                    size: \"large\",\n                    children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                      children: \"heroicons-outline:check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 23\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center space-x-12\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: \"text-14  sm:text-24 md:text-32 font-extrabold tracking-tight leading-none cursor-pointer\",\n        onClick: handleOpenForm,\n        color: \"inherit\",\n        children: board.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), (board === null || board === void 0 ? void 0 : board.settings.subscribed) && /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n        children: \"heroicons-outline:eye\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BoardTitle, \"JBWZJsd+RiPXWnQeiLmKeU3AUt0=\", false, function () {\n  return [useDispatch, useSelector, useForm];\n});\n\n_c = BoardTitle;\nexport default BoardTitle;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardTitle\");","map":{"version":3,"names":["yupResolver","Controller","useForm","ClickAwayListener","IconButton","InputAdornment","TextField","Typography","useEffect","useState","useDispatch","useSelector","yup","_","FuseSvgIcon","selectBoard","updateBoard","schema","object","shape","title","string","required","BoardTitle","props","dispatch","board","formOpen","setFormOpen","control","formState","handleSubmit","reset","mode","defaultValues","resolver","isValid","dirtyFields","errors","handleOpenForm","ev","stopPropagation","handleCloseForm","onSubmit","data","field","endAdornment","isEmpty","settings","subscribed"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/scrumboard/board/BoardTitle.js"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Controller, useForm } from 'react-hook-form';\r\n\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as yup from 'yup';\r\nimport _ from '@lodash';\r\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\r\nimport { selectBoard, updateBoard } from '../store/boardSlice';\r\n\r\n/**\r\n * Form Validation Schema\r\n */\r\nconst schema = yup.object().shape({\r\n  title: yup.string().required('You must enter a title'),\r\n});\r\n\r\nfunction BoardTitle(props) {\r\n  const dispatch = useDispatch();\r\n  const board = useSelector(selectBoard);\r\n\r\n  const [formOpen, setFormOpen] = useState(false);\r\n\r\n  const { control, formState, handleSubmit, reset } = useForm({\r\n    mode: 'onChange',\r\n    defaultValues: {\r\n      title: board.title,\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const { isValid, dirtyFields, errors } = formState;\r\n\r\n  useEffect(() => {\r\n    if (!formOpen) {\r\n      reset({\r\n        title: board.title,\r\n      });\r\n    }\r\n  }, [formOpen, reset, board.title]);\r\n\r\n  function handleOpenForm(ev) {\r\n    ev.stopPropagation();\r\n    setFormOpen(true);\r\n  }\r\n\r\n  function handleCloseForm() {\r\n    setFormOpen(false);\r\n  }\r\n\r\n  function onSubmit(data) {\r\n    dispatch(updateBoard(data));\r\n    handleCloseForm();\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center min-w-0\">\r\n      {formOpen ? (\r\n        <ClickAwayListener onClickAway={handleCloseForm}>\r\n          <form className=\"flex w-full\" onSubmit={handleSubmit(onSubmit)}>\r\n            <Controller\r\n              name=\"title\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <TextField\r\n                  {...field}\r\n                  variant=\"filled\"\r\n                  margin=\"none\"\r\n                  autoFocus\r\n                  hiddenLabel\r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          type=\"submit\"\r\n                          disabled={_.isEmpty(dirtyFields) || !isValid}\r\n                          size=\"large\"\r\n                        >\r\n                          <FuseSvgIcon>heroicons-outline:check</FuseSvgIcon>\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n          </form>\r\n        </ClickAwayListener>\r\n      ) : (\r\n        <div className=\"flex items-center justify-center space-x-12\">\r\n          <Typography\r\n            className=\"text-14  sm:text-24 md:text-32 font-extrabold tracking-tight leading-none cursor-pointer\"\r\n            onClick={handleOpenForm}\r\n            color=\"inherit\"\r\n          >\r\n            {board.title}\r\n          </Typography>\r\n          {board?.settings.subscribed && <FuseSvgIcon>heroicons-outline:eye</FuseSvgIcon>}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BoardTitle;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}