{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\app\\\\main\\\\apps\\\\notes\\\\NewNote.js\",\n    _s = $RefreshSig$();\n\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\nimport Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport NoteForm from './note-form/NoteForm';\nimport { createNote } from './store/notesSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewNote(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [formOpen, setFormOpen] = useState(false);\n\n  function handleFormOpen(ev) {\n    ev.stopPropagation();\n    setFormOpen(true);\n    document.addEventListener('keydown', escFunction, false);\n  }\n\n  function handleFormClose() {\n    if (!formOpen) {\n      return;\n    }\n\n    setFormOpen(false);\n    document.removeEventListener('keydown', escFunction, false);\n  }\n\n  function handleCreate(note) {\n    dispatch(createNote(note));\n    handleFormClose();\n  }\n\n  function escFunction(event) {\n    if (event.keyCode === 27) {\n      handleFormClose();\n    }\n  }\n\n  function handleClickAway(ev) {\n    const preventCloseElements = document.querySelector('.prevent-add-close');\n    const preventClose = preventCloseElements ? preventCloseElements.contains(ev.target) : false;\n\n    if (preventClose) {\n      return;\n    }\n\n    handleFormClose();\n  }\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: \"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow shrink-0 cursor-text\",\n    children: formOpen ? /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n      onClickAway: handleClickAway,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: /*#__PURE__*/_jsxDEV(NoteForm, {\n          onCreate: handleCreate,\n          variant: \"new\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      className: \"w-full px-16 py-12 text-16 w-full\",\n      color: \"text.secondary\",\n      onClick: handleFormOpen,\n      children: \"Take a note...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewNote, \"zeNf12OacqtHg4+7xEt/j78zJpI=\", false, function () {\n  return [useDispatch];\n});\n\n_c = NewNote;\nexport default NewNote;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewNote\");","map":{"version":3,"names":["ClickAwayListener","Paper","Typography","useState","useDispatch","NoteForm","createNote","NewNote","props","dispatch","formOpen","setFormOpen","handleFormOpen","ev","stopPropagation","document","addEventListener","escFunction","handleFormClose","removeEventListener","handleCreate","note","event","keyCode","handleClickAway","preventCloseElements","querySelector","preventClose","contains","target"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/notes/NewNote.js"],"sourcesContent":["import ClickAwayListener from '@mui/material/ClickAwayListener';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport NoteForm from './note-form/NoteForm';\r\nimport { createNote } from './store/notesSlice';\r\n\r\nfunction NewNote(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [formOpen, setFormOpen] = useState(false);\r\n\r\n  function handleFormOpen(ev) {\r\n    ev.stopPropagation();\r\n    setFormOpen(true);\r\n    document.addEventListener('keydown', escFunction, false);\r\n  }\r\n\r\n  function handleFormClose() {\r\n    if (!formOpen) {\r\n      return;\r\n    }\r\n    setFormOpen(false);\r\n    document.removeEventListener('keydown', escFunction, false);\r\n  }\r\n\r\n  function handleCreate(note) {\r\n    dispatch(createNote(note));\r\n    handleFormClose();\r\n  }\r\n\r\n  function escFunction(event) {\r\n    if (event.keyCode === 27) {\r\n      handleFormClose();\r\n    }\r\n  }\r\n\r\n  function handleClickAway(ev) {\r\n    const preventCloseElements = document.querySelector('.prevent-add-close');\r\n    const preventClose = preventCloseElements ? preventCloseElements.contains(ev.target) : false;\r\n    if (preventClose) {\r\n      return;\r\n    }\r\n    handleFormClose();\r\n  }\r\n\r\n  return (\r\n    <Paper className=\"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow shrink-0 cursor-text\">\r\n      {formOpen ? (\r\n        <ClickAwayListener onClickAway={handleClickAway}>\r\n          <div className=\"w-full\">\r\n            <NoteForm onCreate={handleCreate} variant=\"new\" />\r\n          </div>\r\n        </ClickAwayListener>\r\n      ) : (\r\n        <Typography\r\n          className=\"w-full px-16 py-12 text-16 w-full\"\r\n          color=\"text.secondary\"\r\n          onClick={handleFormOpen}\r\n        >\r\n          Take a note...\r\n        </Typography>\r\n      )}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default NewNote;\r\n"],"mappings":";;;AAAA,OAAOA,iBAAP,MAA8B,iCAA9B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,UAAT,QAA2B,oBAA3B;;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EAAA;;EACtB,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EAEA,MAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,KAAD,CAAxC;;EAEA,SAASS,cAAT,CAAwBC,EAAxB,EAA4B;IAC1BA,EAAE,CAACC,eAAH;IACAH,WAAW,CAAC,IAAD,CAAX;IACAI,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCC,WAArC,EAAkD,KAAlD;EACD;;EAED,SAASC,eAAT,GAA2B;IACzB,IAAI,CAACR,QAAL,EAAe;MACb;IACD;;IACDC,WAAW,CAAC,KAAD,CAAX;IACAI,QAAQ,CAACI,mBAAT,CAA6B,SAA7B,EAAwCF,WAAxC,EAAqD,KAArD;EACD;;EAED,SAASG,YAAT,CAAsBC,IAAtB,EAA4B;IAC1BZ,QAAQ,CAACH,UAAU,CAACe,IAAD,CAAX,CAAR;IACAH,eAAe;EAChB;;EAED,SAASD,WAAT,CAAqBK,KAArB,EAA4B;IAC1B,IAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;MACxBL,eAAe;IAChB;EACF;;EAED,SAASM,eAAT,CAAyBX,EAAzB,EAA6B;IAC3B,MAAMY,oBAAoB,GAAGV,QAAQ,CAACW,aAAT,CAAuB,oBAAvB,CAA7B;IACA,MAAMC,YAAY,GAAGF,oBAAoB,GAAGA,oBAAoB,CAACG,QAArB,CAA8Bf,EAAE,CAACgB,MAAjC,CAAH,GAA8C,KAAvF;;IACA,IAAIF,YAAJ,EAAkB;MAChB;IACD;;IACDT,eAAe;EAChB;;EAED,oBACE,QAAC,KAAD;IAAO,SAAS,EAAC,oFAAjB;IAAA,UACGR,QAAQ,gBACP,QAAC,iBAAD;MAAmB,WAAW,EAAEc,eAAhC;MAAA,uBACE;QAAK,SAAS,EAAC,QAAf;QAAA,uBACE,QAAC,QAAD;UAAU,QAAQ,EAAEJ,YAApB;UAAkC,OAAO,EAAC;QAA1C;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADO,gBAOP,QAAC,UAAD;MACE,SAAS,EAAC,mCADZ;MAEE,KAAK,EAAC,gBAFR;MAGE,OAAO,EAAER,cAHX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EARJ;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD;;GA1DQL,O;UACUH,W;;;KADVG,O;AA4DT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}