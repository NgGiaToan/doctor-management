{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\@fuse\\\\core\\\\FuseLayout\\\\FuseLayout.js\",\n    _s = $RefreshSig$();\n\nimport { useDeepCompareEffect } from '@fuse/hooks';\nimport _ from '@lodash';\nimport AppContext from 'app/AppContext';\nimport { generateSettings, selectFuseCurrentSettings, selectFuseDefaultSettings, setSettings } from 'app/store/fuse/settingsSlice';\nimport { memo, useCallback, useContext, useMemo, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { matchRoutes, useLocation } from 'react-router-dom';\nimport GlobalStyles from '@mui/material/GlobalStyles';\nimport { alpha } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst inputGlobalStyles = /*#__PURE__*/_jsxDEV(GlobalStyles, {\n  styles: theme => ({\n    html: {\n      backgroundColor: `${theme.palette.background.default}!important`,\n      color: `${theme.palette.text.primary}!important`\n    },\n    body: {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    },\n\n    /*  'code:not([class*=\"language-\"])': {\r\n      color: theme.palette.secondary.dark,\r\n      backgroundColor:\r\n        theme.palette.mode === 'light' ? 'rgba(255, 255, 255, .9)' : 'rgba(0, 0, 0, .9)',\r\n      padding: '2px 3px',\r\n      borderRadius: 2,\r\n      lineHeight: 1.7,\r\n    }, */\n    'table.simple tbody tr td': {\n      borderColor: theme.palette.divider\n    },\n    'table.simple thead tr th': {\n      borderColor: theme.palette.divider\n    },\n    'a:not([role=button]):not(.MuiButtonBase-root)': {\n      color: theme.palette.secondary.main,\n      textDecoration: 'underline',\n      '&:hover': {}\n    },\n    'a.link, a:not([role=button])[target=_blank]': {\n      background: alpha(theme.palette.secondary.main, 0.2),\n      color: 'inherit',\n      borderBottom: `1px solid ${theme.palette.divider}`,\n      textDecoration: 'none',\n      '&:hover': {\n        background: alpha(theme.palette.secondary.main, 0.3),\n        textDecoration: 'none'\n      }\n    },\n    '[class^=\"border\"]': {\n      borderColor: theme.palette.divider\n    },\n    '[class*=\"border\"]': {\n      borderColor: theme.palette.divider\n    },\n    '[class*=\"divide-\"] > :not([hidden]) ~ :not([hidden])': {\n      borderColor: theme.palette.divider\n    },\n    hr: {\n      borderColor: theme.palette.divider\n    },\n    '::-webkit-scrollbar-thumb': {\n      boxShadow: `inset 0 0 0 20px ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.24)' : 'rgba(255, 255, 255, 0.24)'}`\n    },\n    '::-webkit-scrollbar-thumb:active': {\n      boxShadow: `inset 0 0 0 20px ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.37)' : 'rgba(255, 255, 255, 0.37)'}`\n    }\n  })\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\nfunction FuseLayout(props) {\n  _s();\n\n  const {\n    layouts\n  } = props;\n  const dispatch = useDispatch();\n  const settings = useSelector(selectFuseCurrentSettings);\n  const defaultSettings = useSelector(selectFuseDefaultSettings);\n  const appContext = useContext(AppContext);\n  const {\n    routes\n  } = appContext;\n  const location = useLocation();\n  const {\n    pathname\n  } = location;\n  const matchedRoutes = matchRoutes(routes, pathname);\n  const matched = matchedRoutes ? matchedRoutes[0] : false;\n  const newSettings = useRef(null);\n  const shouldAwaitRender = useCallback(() => {\n    let _newSettings;\n    /**\r\n     * On Path changed\r\n     */\n    // if (prevPathname !== pathname) {\n\n\n    if (matched && matched.route.settings) {\n      /**\r\n       * if matched route has settings\r\n       */\n      const routeSettings = matched.route.settings;\n      _newSettings = generateSettings(defaultSettings, routeSettings);\n    } else if (!_.isEqual(newSettings.current, defaultSettings)) {\n      /**\r\n       * Reset to default settings on the new path\r\n       */\n      _newSettings = _.merge({}, defaultSettings);\n    } else {\n      _newSettings = newSettings.current;\n    }\n\n    if (!_.isEqual(newSettings.current, _newSettings)) {\n      newSettings.current = _newSettings;\n    }\n  }, [defaultSettings, matched]);\n  shouldAwaitRender();\n  useDeepCompareEffect(() => {\n    if (!_.isEqual(newSettings.current, settings)) {\n      dispatch(setSettings(newSettings.current));\n    }\n  }, [dispatch, newSettings.current, settings]); // console.warn('::FuseLayout:: rendered');\n\n  const Layout = useMemo(() => layouts[settings.layout.style], [layouts, settings.layout.style]);\n  return _.isEqual(newSettings.current, settings) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [inputGlobalStyles, /*#__PURE__*/_jsxDEV(Layout, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : null;\n}\n\n_s(FuseLayout, \"y3MVAP5WjwUGNytVNzdZymtiQVI=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useLocation, useDeepCompareEffect];\n});\n\n_c = FuseLayout;\nexport default _c2 = /*#__PURE__*/memo(FuseLayout);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FuseLayout\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["useDeepCompareEffect","_","AppContext","generateSettings","selectFuseCurrentSettings","selectFuseDefaultSettings","setSettings","memo","useCallback","useContext","useMemo","useRef","useDispatch","useSelector","matchRoutes","useLocation","GlobalStyles","alpha","inputGlobalStyles","theme","html","backgroundColor","palette","background","default","color","text","primary","body","borderColor","divider","secondary","main","textDecoration","borderBottom","hr","boxShadow","mode","FuseLayout","props","layouts","dispatch","settings","defaultSettings","appContext","routes","location","pathname","matchedRoutes","matched","newSettings","shouldAwaitRender","_newSettings","route","routeSettings","isEqual","current","merge","Layout","layout","style"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/@fuse/core/FuseLayout/FuseLayout.js"],"sourcesContent":["import { useDeepCompareEffect } from '@fuse/hooks';\r\nimport _ from '@lodash';\r\nimport AppContext from 'app/AppContext';\r\nimport {\r\n  generateSettings,\r\n  selectFuseCurrentSettings,\r\n  selectFuseDefaultSettings,\r\n  setSettings,\r\n} from 'app/store/fuse/settingsSlice';\r\nimport { memo, useCallback, useContext, useMemo, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { matchRoutes, useLocation } from 'react-router-dom';\r\nimport GlobalStyles from '@mui/material/GlobalStyles';\r\nimport { alpha } from '@mui/material/styles';\r\n\r\nconst inputGlobalStyles = (\r\n  <GlobalStyles\r\n    styles={(theme) => ({\r\n      html: {\r\n        backgroundColor: `${theme.palette.background.default}!important`,\r\n        color: `${theme.palette.text.primary}!important`,\r\n      },\r\n      body: {\r\n        backgroundColor: theme.palette.background.default,\r\n        color: theme.palette.text.primary,\r\n      },\r\n      /*  'code:not([class*=\"language-\"])': {\r\n        color: theme.palette.secondary.dark,\r\n        backgroundColor:\r\n          theme.palette.mode === 'light' ? 'rgba(255, 255, 255, .9)' : 'rgba(0, 0, 0, .9)',\r\n        padding: '2px 3px',\r\n        borderRadius: 2,\r\n        lineHeight: 1.7,\r\n      }, */\r\n      'table.simple tbody tr td': {\r\n        borderColor: theme.palette.divider,\r\n      },\r\n      'table.simple thead tr th': {\r\n        borderColor: theme.palette.divider,\r\n      },\r\n      'a:not([role=button]):not(.MuiButtonBase-root)': {\r\n        color: theme.palette.secondary.main,\r\n        textDecoration: 'underline',\r\n        '&:hover': {},\r\n      },\r\n      'a.link, a:not([role=button])[target=_blank]': {\r\n        background: alpha(theme.palette.secondary.main, 0.2),\r\n        color: 'inherit',\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n        textDecoration: 'none',\r\n        '&:hover': {\r\n          background: alpha(theme.palette.secondary.main, 0.3),\r\n          textDecoration: 'none',\r\n        },\r\n      },\r\n      '[class^=\"border\"]': {\r\n        borderColor: theme.palette.divider,\r\n      },\r\n      '[class*=\"border\"]': {\r\n        borderColor: theme.palette.divider,\r\n      },\r\n      '[class*=\"divide-\"] > :not([hidden]) ~ :not([hidden])': {\r\n        borderColor: theme.palette.divider,\r\n      },\r\n      hr: {\r\n        borderColor: theme.palette.divider,\r\n      },\r\n\r\n      '::-webkit-scrollbar-thumb': {\r\n        boxShadow: `inset 0 0 0 20px ${\r\n          theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.24)' : 'rgba(255, 255, 255, 0.24)'\r\n        }`,\r\n      },\r\n      '::-webkit-scrollbar-thumb:active': {\r\n        boxShadow: `inset 0 0 0 20px ${\r\n          theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.37)' : 'rgba(255, 255, 255, 0.37)'\r\n        }`,\r\n      },\r\n    })}\r\n  />\r\n);\r\n\r\nfunction FuseLayout(props) {\r\n  const { layouts } = props;\r\n  const dispatch = useDispatch();\r\n  const settings = useSelector(selectFuseCurrentSettings);\r\n  const defaultSettings = useSelector(selectFuseDefaultSettings);\r\n\r\n  const appContext = useContext(AppContext);\r\n  const { routes } = appContext;\r\n\r\n  const location = useLocation();\r\n  const { pathname } = location;\r\n\r\n  const matchedRoutes = matchRoutes(routes, pathname);\r\n  const matched = matchedRoutes ? matchedRoutes[0] : false;\r\n\r\n  const newSettings = useRef(null);\r\n\r\n  const shouldAwaitRender = useCallback(() => {\r\n    let _newSettings;\r\n    /**\r\n     * On Path changed\r\n     */\r\n    // if (prevPathname !== pathname) {\r\n    if (matched && matched.route.settings) {\r\n      /**\r\n       * if matched route has settings\r\n       */\r\n\r\n      const routeSettings = matched.route.settings;\r\n\r\n      _newSettings = generateSettings(defaultSettings, routeSettings);\r\n    } else if (!_.isEqual(newSettings.current, defaultSettings)) {\r\n      /**\r\n       * Reset to default settings on the new path\r\n       */\r\n      _newSettings = _.merge({}, defaultSettings);\r\n    } else {\r\n      _newSettings = newSettings.current;\r\n    }\r\n\r\n    if (!_.isEqual(newSettings.current, _newSettings)) {\r\n      newSettings.current = _newSettings;\r\n    }\r\n  }, [defaultSettings, matched]);\r\n\r\n  shouldAwaitRender();\r\n\r\n  useDeepCompareEffect(() => {\r\n    if (!_.isEqual(newSettings.current, settings)) {\r\n      dispatch(setSettings(newSettings.current));\r\n    }\r\n  }, [dispatch, newSettings.current, settings]);\r\n\r\n  // console.warn('::FuseLayout:: rendered');\r\n\r\n  const Layout = useMemo(() => layouts[settings.layout.style], [layouts, settings.layout.style]);\r\n\r\n  return _.isEqual(newSettings.current, settings) ? (\r\n    <>\r\n      {inputGlobalStyles}\r\n      <Layout {...props} />\r\n    </>\r\n  ) : null;\r\n}\r\n\r\nexport default memo(FuseLayout);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}