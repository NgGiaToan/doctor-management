{"ast":null,"code":"import { createAsyncThunk, createEntityAdapter, createSelector, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { showMessage } from 'app/store/fuse/messageSlice';\nimport { addTask, removeTask, updateTask } from './taskSlice';\nexport const getTasks = createAsyncThunk('tasksApp/tasks/getTasks', async (params, _ref) => {\n  let {\n    getState\n  } = _ref;\n  const response = await axios.get('/api/tasks');\n  const data = await response.data;\n  return data;\n});\nexport const reorderList = createAsyncThunk('tasksApp/tasks/reorder', async (_ref2, _ref3) => {\n  let {\n    startIndex,\n    endIndex\n  } = _ref2;\n  let {\n    dispatch,\n    getState\n  } = _ref3;\n  const response = await axios.post('/api/tasks/reorder', {\n    startIndex,\n    endIndex\n  });\n  const data = await response.data;\n  dispatch(showMessage({\n    message: 'List Order Saved',\n    autoHideDuration: 2000,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    }\n  }));\n  return data;\n});\nconst tasksAdapter = createEntityAdapter({});\nexport const {\n  selectAll: selectTasks,\n  selectById: selectTasksById\n} = tasksAdapter.getSelectors(state => state.tasksApp.tasks);\nexport const selectRemainingTasks = createSelector([selectTasks], tasks => {\n  return tasks.filter(item => item.type === 'task' && !item.completed).length;\n});\nconst tasksSlice = createSlice({\n  name: 'tasksApp/tasks',\n  initialState: tasksAdapter.getInitialState(),\n  extraReducers: {\n    [reorderList.fulfilled]: tasksAdapter.setAll,\n    [updateTask.fulfilled]: tasksAdapter.upsertOne,\n    [addTask.fulfilled]: tasksAdapter.addOne,\n    [removeTask.fulfilled]: (state, action) => tasksAdapter.removeOne(state, action.payload),\n    [getTasks.fulfilled]: tasksAdapter.setAll\n  }\n});\nexport const {\n  setTasksSearchText\n} = tasksSlice.actions;\nexport default tasksSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createEntityAdapter","createSelector","createSlice","axios","showMessage","addTask","removeTask","updateTask","getTasks","params","getState","response","get","data","reorderList","startIndex","endIndex","dispatch","post","message","autoHideDuration","anchorOrigin","vertical","horizontal","tasksAdapter","selectAll","selectTasks","selectById","selectTasksById","getSelectors","state","tasksApp","tasks","selectRemainingTasks","filter","item","type","completed","length","tasksSlice","name","initialState","getInitialState","extraReducers","fulfilled","setAll","upsertOne","addOne","action","removeOne","payload","setTasksSearchText","actions","reducer"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/tasks/store/tasksSlice.js"],"sourcesContent":["import {\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n  createSelector,\r\n  createSlice,\r\n} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { showMessage } from 'app/store/fuse/messageSlice';\r\nimport { addTask, removeTask, updateTask } from './taskSlice';\r\n\r\nexport const getTasks = createAsyncThunk(\r\n  'tasksApp/tasks/getTasks',\r\n  async (params, { getState }) => {\r\n    const response = await axios.get('/api/tasks');\r\n\r\n    const data = await response.data;\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const reorderList = createAsyncThunk(\r\n  'tasksApp/tasks/reorder',\r\n  async ({ startIndex, endIndex }, { dispatch, getState }) => {\r\n    const response = await axios.post('/api/tasks/reorder', { startIndex, endIndex });\r\n\r\n    const data = await response.data;\r\n\r\n    dispatch(\r\n      showMessage({\r\n        message: 'List Order Saved',\r\n        autoHideDuration: 2000,\r\n        anchorOrigin: {\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        },\r\n      })\r\n    );\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nconst tasksAdapter = createEntityAdapter({});\r\n\r\nexport const { selectAll: selectTasks, selectById: selectTasksById } = tasksAdapter.getSelectors(\r\n  (state) => state.tasksApp.tasks\r\n);\r\n\r\nexport const selectRemainingTasks = createSelector([selectTasks], (tasks) => {\r\n  return tasks.filter((item) => item.type === 'task' && !item.completed).length;\r\n});\r\n\r\nconst tasksSlice = createSlice({\r\n  name: 'tasksApp/tasks',\r\n  initialState: tasksAdapter.getInitialState(),\r\n  extraReducers: {\r\n    [reorderList.fulfilled]: tasksAdapter.setAll,\r\n    [updateTask.fulfilled]: tasksAdapter.upsertOne,\r\n    [addTask.fulfilled]: tasksAdapter.addOne,\r\n    [removeTask.fulfilled]: (state, action) => tasksAdapter.removeOne(state, action.payload),\r\n    [getTasks.fulfilled]: tasksAdapter.setAll,\r\n  },\r\n});\r\n\r\nexport const { setTasksSearchText } = tasksSlice.actions;\r\n\r\nexport default tasksSlice.reducer;\r\n"],"mappings":"AAAA,SACEA,gBADF,EAEEC,mBAFF,EAGEC,cAHF,EAIEC,WAJF,QAKO,kBALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,UAA9B,QAAgD,aAAhD;AAEA,OAAO,MAAMC,QAAQ,GAAGT,gBAAgB,CACtC,yBADsC,EAEtC,OAAOU,MAAP,WAAgC;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC9B,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAU,YAAV,CAAvB;EAEA,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAA5B;EAEA,OAAOA,IAAP;AACD,CARqC,CAAjC;AAWP,OAAO,MAAMC,WAAW,GAAGf,gBAAgB,CACzC,wBADyC,EAEzC,wBAA4D;EAAA,IAArD;IAAEgB,UAAF;IAAcC;EAAd,CAAqD;EAAA,IAA3B;IAAEC,QAAF;IAAYP;EAAZ,CAA2B;EAC1D,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACe,IAAN,CAAW,oBAAX,EAAiC;IAAEH,UAAF;IAAcC;EAAd,CAAjC,CAAvB;EAEA,MAAMH,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAA5B;EAEAI,QAAQ,CACNb,WAAW,CAAC;IACVe,OAAO,EAAE,kBADC;IAEVC,gBAAgB,EAAE,IAFR;IAGVC,YAAY,EAAE;MACZC,QAAQ,EAAE,KADE;MAEZC,UAAU,EAAE;IAFA;EAHJ,CAAD,CADL,CAAR;EAWA,OAAOV,IAAP;AACD,CAnBwC,CAApC;AAsBP,MAAMW,YAAY,GAAGxB,mBAAmB,CAAC,EAAD,CAAxC;AAEA,OAAO,MAAM;EAAEyB,SAAS,EAAEC,WAAb;EAA0BC,UAAU,EAAEC;AAAtC,IAA0DJ,YAAY,CAACK,YAAb,CACpEC,KAAD,IAAWA,KAAK,CAACC,QAAN,CAAeC,KAD2C,CAAhE;AAIP,OAAO,MAAMC,oBAAoB,GAAGhC,cAAc,CAAC,CAACyB,WAAD,CAAD,EAAiBM,KAAD,IAAW;EAC3E,OAAOA,KAAK,CAACE,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACC,IAAL,KAAc,MAAd,IAAwB,CAACD,IAAI,CAACE,SAArD,EAAgEC,MAAvE;AACD,CAFiD,CAA3C;AAIP,MAAMC,UAAU,GAAGrC,WAAW,CAAC;EAC7BsC,IAAI,EAAE,gBADuB;EAE7BC,YAAY,EAAEjB,YAAY,CAACkB,eAAb,EAFe;EAG7BC,aAAa,EAAE;IACb,CAAC7B,WAAW,CAAC8B,SAAb,GAAyBpB,YAAY,CAACqB,MADzB;IAEb,CAACtC,UAAU,CAACqC,SAAZ,GAAwBpB,YAAY,CAACsB,SAFxB;IAGb,CAACzC,OAAO,CAACuC,SAAT,GAAqBpB,YAAY,CAACuB,MAHrB;IAIb,CAACzC,UAAU,CAACsC,SAAZ,GAAwB,CAACd,KAAD,EAAQkB,MAAR,KAAmBxB,YAAY,CAACyB,SAAb,CAAuBnB,KAAvB,EAA8BkB,MAAM,CAACE,OAArC,CAJ9B;IAKb,CAAC1C,QAAQ,CAACoC,SAAV,GAAsBpB,YAAY,CAACqB;EALtB;AAHc,CAAD,CAA9B;AAYA,OAAO,MAAM;EAAEM;AAAF,IAAyBZ,UAAU,CAACa,OAA1C;AAEP,eAAeb,UAAU,CAACc,OAA1B"},"metadata":{},"sourceType":"module"}