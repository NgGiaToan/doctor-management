{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\app\\\\main\\\\apps\\\\chat\\\\chat\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport FuseScrollbars from '@fuse/core/FuseScrollbars';\nimport { lighten, styled } from '@mui/material/styles';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport clsx from 'clsx';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport InputBase from '@mui/material/InputBase';\nimport Paper from '@mui/material/Paper';\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\nimport Toolbar from '@mui/material/Toolbar';\nimport { useParams } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport { getChat, selectChat, sendMessage } from '../store/chatSlice';\nimport { selectContactById } from '../store/contactsSlice';\nimport { selectUser } from '../store/userSlice';\nimport ContactAvatar from '../ContactAvatar';\nimport ChatMoreMenu from './ChatMoreMenu';\nimport { ChatAppContext } from '../ChatApp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledMessageRow = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '&.contact': {\n      '& .bubble': {\n        backgroundColor: theme.palette.secondary.light,\n        color: theme.palette.secondary.contrastText,\n        borderTopLeftRadius: 5,\n        borderBottomLeftRadius: 5,\n        borderTopRightRadius: 20,\n        borderBottomRightRadius: 20,\n        '& .time': {\n          marginLeft: 12\n        }\n      },\n      '&.first-of-group': {\n        '& .bubble': {\n          borderTopLeftRadius: 20\n        }\n      },\n      '&.last-of-group': {\n        '& .bubble': {\n          borderBottomLeftRadius: 20\n        }\n      }\n    },\n    '&.me': {\n      paddingLeft: 40,\n      '& .bubble': {\n        marginLeft: 'auto',\n        backgroundColor: theme.palette.primary.light,\n        color: theme.palette.primary.contrastText,\n        borderTopLeftRadius: 20,\n        borderBottomLeftRadius: 20,\n        borderTopRightRadius: 5,\n        borderBottomRightRadius: 5,\n        '& .time': {\n          justifyContent: 'flex-end',\n          right: 0,\n          marginRight: 12\n        }\n      },\n      '&.first-of-group': {\n        '& .bubble': {\n          borderTopRightRadius: 20\n        }\n      },\n      '&.last-of-group': {\n        '& .bubble': {\n          borderBottomRightRadius: 20\n        }\n      }\n    },\n    '&.contact + .me, &.me + .contact': {\n      paddingTop: 20,\n      marginTop: 20\n    },\n    '&.first-of-group': {\n      '& .bubble': {\n        borderTopLeftRadius: 20,\n        paddingTop: 13\n      }\n    },\n    '&.last-of-group': {\n      '& .bubble': {\n        borderBottomLeftRadius: 20,\n        paddingBottom: 13,\n        '& .time': {\n          display: 'flex'\n        }\n      }\n    }\n  };\n});\n_c = StyledMessageRow;\n\nfunction Chat(props) {\n  _s();\n\n  const {\n    setMainSidebarOpen,\n    setContactSidebarOpen\n  } = useContext(ChatAppContext);\n  const dispatch = useDispatch();\n  const chat = useSelector(selectChat);\n  const user = useSelector(selectUser);\n  const routeParams = useParams();\n  const contactId = routeParams.id;\n  const selectedContact = useSelector(state => selectContactById(state, contactId));\n  const chatRef = useRef(null);\n  const [messageText, setMessageText] = useState('');\n  useEffect(() => {\n    dispatch(getChat(contactId));\n  }, [contactId, dispatch]);\n  useEffect(() => {\n    if (chat) {\n      setTimeout(scrollToBottom);\n    }\n  }, [chat]);\n\n  function scrollToBottom() {\n    if (!chatRef.current) {\n      return;\n    }\n\n    chatRef.current.scrollTo({\n      top: chatRef.current.scrollHeight,\n      behavior: 'smooth'\n    });\n  }\n\n  function isFirstMessageOfGroup(item, i) {\n    return i === 0 || chat[i - 1] && chat[i - 1].contactId !== item.contactId;\n  }\n\n  function isLastMessageOfGroup(item, i) {\n    return i === chat.length - 1 || chat[i + 1] && chat[i + 1].contactId !== item.contactId;\n  }\n\n  function onInputChange(ev) {\n    setMessageText(ev.target.value);\n  }\n\n  function onMessageSubmit(ev) {\n    ev.preventDefault();\n\n    if (messageText === '') {\n      return;\n    }\n\n    dispatch(sendMessage({\n      messageText,\n      contactId\n    })).then(() => {\n      setMessageText('');\n    });\n  }\n\n  if (!user || !chat || !selectedContact) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      className: \"w-full border-b-1\",\n      sx: {\n        backgroundColor: theme => theme.palette.mode === 'light' ? lighten(theme.palette.background.default, 0.4) : lighten(theme.palette.background.default, 0.02)\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        className: \"flex items-center justify-between px-16 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"Open drawer\",\n            onClick: () => setMainSidebarOpen(true),\n            className: \"flex lg:hidden\",\n            size: \"large\",\n            children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n              children: \"heroicons-outline:chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center cursor-pointer\",\n            onClick: () => {\n              setContactSidebarOpen(true);\n            },\n            onKeyDown: () => setContactSidebarOpen(true),\n            role: \"button\",\n            tabIndex: 0,\n            children: [/*#__PURE__*/_jsxDEV(ContactAvatar, {\n              className: \"relative mx-8\",\n              contact: selectedContact\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"inherit\",\n              className: \"text-16 font-semibold px-4\",\n              children: selectedContact.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChatMoreMenu, {\n          className: \"-mx-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-auto h-full min-h-0 w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx('flex flex-1 z-10 flex-col relative', props.className),\n        children: [/*#__PURE__*/_jsxDEV(FuseScrollbars, {\n          ref: chatRef,\n          className: \"flex flex-1 flex-col overflow-y-auto\",\n          children: (chat === null || chat === void 0 ? void 0 : chat.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col pt-16 px-16 pb-40\",\n            children: chat.map((item, i) => {\n              return /*#__PURE__*/_jsxDEV(StyledMessageRow, {\n                className: clsx('flex flex-col grow-0 shrink-0 items-start justify-end relative px-16 pb-4', item.contactId === user.id ? 'me' : 'contact', {\n                  'first-of-group': isFirstMessageOfGroup(item, i)\n                }, {\n                  'last-of-group': isLastMessageOfGroup(item, i)\n                }, i + 1 === chat.length && 'pb-96'),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bubble flex relative items-center justify-center p-12 max-w-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"leading-tight whitespace-pre-wrap\",\n                    children: item.value\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    className: \"time absolute hidden w-full text-11 mt-8 -mb-24 ltr:left-0 rtl:right-0 bottom-0 whitespace-nowrap\",\n                    color: \"text.secondary\",\n                    children: formatDistanceToNow(new Date(item.createdAt), {\n                      addSuffix: true\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), chat && /*#__PURE__*/_jsxDEV(Paper, {\n          square: true,\n          component: \"form\",\n          onSubmit: onMessageSubmit,\n          className: \"absolute border-t-1 bottom-0 right-0 left-0 py-16 px-16\",\n          sx: {\n            backgroundColor: theme => theme.palette.mode === 'light' ? lighten(theme.palette.background.default, 0.4) : lighten(theme.palette.background.default, 0.02)\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center relative\",\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              className: \"\",\n              type: \"submit\",\n              size: \"large\",\n              children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                className: \"text-24\",\n                color: \"action\",\n                children: \"heroicons-outline:emoji-happy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              className: \"\",\n              type: \"submit\",\n              size: \"large\",\n              children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                className: \"text-24\",\n                color: \"action\",\n                children: \"heroicons-outline:paper-clip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n              autoFocus: false,\n              id: \"message-input\",\n              className: \"flex-1 flex grow shrink-0 h-44 mx-8 px-16 border-2 rounded-full\",\n              placeholder: \"Type your message\",\n              onChange: onInputChange,\n              value: messageText,\n              sx: {\n                backgroundColor: 'background.paper'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              className: \"\",\n              type: \"submit\",\n              size: \"large\",\n              children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                className: \"rotate-90\",\n                color: \"action\",\n                children: \"heroicons-outline:paper-airplane\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Chat, \"i8feMq7cyiC4ee4oFcKJwB6WYJE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useParams, useSelector];\n});\n\n_c2 = Chat;\nexport default Chat;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledMessageRow\");\n$RefreshReg$(_c2, \"Chat\");","map":{"version":3,"names":["FuseScrollbars","lighten","styled","IconButton","Typography","clsx","formatDistanceToNow","useContext","useEffect","useRef","useState","useDispatch","useSelector","InputBase","Paper","FuseSvgIcon","Toolbar","useParams","Box","getChat","selectChat","sendMessage","selectContactById","selectUser","ContactAvatar","ChatMoreMenu","ChatAppContext","StyledMessageRow","theme","backgroundColor","palette","secondary","light","color","contrastText","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","marginLeft","paddingLeft","primary","justifyContent","right","marginRight","paddingTop","marginTop","paddingBottom","display","Chat","props","setMainSidebarOpen","setContactSidebarOpen","dispatch","chat","user","routeParams","contactId","id","selectedContact","state","chatRef","messageText","setMessageText","setTimeout","scrollToBottom","current","scrollTo","top","scrollHeight","behavior","isFirstMessageOfGroup","item","i","isLastMessageOfGroup","length","onInputChange","ev","target","value","onMessageSubmit","preventDefault","then","mode","background","default","name","className","map","Date","createdAt","addSuffix"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/chat/chat/Chat.js"],"sourcesContent":["import FuseScrollbars from '@fuse/core/FuseScrollbars';\r\nimport { lighten, styled } from '@mui/material/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Typography from '@mui/material/Typography';\r\nimport clsx from 'clsx';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport InputBase from '@mui/material/InputBase';\r\nimport Paper from '@mui/material/Paper';\r\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport { useParams } from 'react-router-dom';\r\nimport Box from '@mui/material/Box';\r\nimport { getChat, selectChat, sendMessage } from '../store/chatSlice';\r\nimport { selectContactById } from '../store/contactsSlice';\r\nimport { selectUser } from '../store/userSlice';\r\nimport ContactAvatar from '../ContactAvatar';\r\nimport ChatMoreMenu from './ChatMoreMenu';\r\nimport { ChatAppContext } from '../ChatApp';\r\n\r\nconst StyledMessageRow = styled('div')(({ theme }) => ({\r\n  '&.contact': {\r\n    '& .bubble': {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      color: theme.palette.secondary.contrastText,\r\n      borderTopLeftRadius: 5,\r\n      borderBottomLeftRadius: 5,\r\n      borderTopRightRadius: 20,\r\n      borderBottomRightRadius: 20,\r\n      '& .time': {\r\n        marginLeft: 12,\r\n      },\r\n    },\r\n    '&.first-of-group': {\r\n      '& .bubble': {\r\n        borderTopLeftRadius: 20,\r\n      },\r\n    },\r\n    '&.last-of-group': {\r\n      '& .bubble': {\r\n        borderBottomLeftRadius: 20,\r\n      },\r\n    },\r\n  },\r\n  '&.me': {\r\n    paddingLeft: 40,\r\n\r\n    '& .bubble': {\r\n      marginLeft: 'auto',\r\n      backgroundColor: theme.palette.primary.light,\r\n      color: theme.palette.primary.contrastText,\r\n      borderTopLeftRadius: 20,\r\n      borderBottomLeftRadius: 20,\r\n      borderTopRightRadius: 5,\r\n      borderBottomRightRadius: 5,\r\n      '& .time': {\r\n        justifyContent: 'flex-end',\r\n        right: 0,\r\n        marginRight: 12,\r\n      },\r\n    },\r\n    '&.first-of-group': {\r\n      '& .bubble': {\r\n        borderTopRightRadius: 20,\r\n      },\r\n    },\r\n\r\n    '&.last-of-group': {\r\n      '& .bubble': {\r\n        borderBottomRightRadius: 20,\r\n      },\r\n    },\r\n  },\r\n  '&.contact + .me, &.me + .contact': {\r\n    paddingTop: 20,\r\n    marginTop: 20,\r\n  },\r\n  '&.first-of-group': {\r\n    '& .bubble': {\r\n      borderTopLeftRadius: 20,\r\n      paddingTop: 13,\r\n    },\r\n  },\r\n  '&.last-of-group': {\r\n    '& .bubble': {\r\n      borderBottomLeftRadius: 20,\r\n      paddingBottom: 13,\r\n      '& .time': {\r\n        display: 'flex',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Chat(props) {\r\n  const { setMainSidebarOpen, setContactSidebarOpen } = useContext(ChatAppContext);\r\n  const dispatch = useDispatch();\r\n  const chat = useSelector(selectChat);\r\n  const user = useSelector(selectUser);\r\n  const routeParams = useParams();\r\n  const contactId = routeParams.id;\r\n  const selectedContact = useSelector((state) => selectContactById(state, contactId));\r\n  const chatRef = useRef(null);\r\n  const [messageText, setMessageText] = useState('');\r\n\r\n  useEffect(() => {\r\n    dispatch(getChat(contactId));\r\n  }, [contactId, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (chat) {\r\n      setTimeout(scrollToBottom);\r\n    }\r\n  }, [chat]);\r\n\r\n  function scrollToBottom() {\r\n    if (!chatRef.current) {\r\n      return;\r\n    }\r\n    chatRef.current.scrollTo({\r\n      top: chatRef.current.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  function isFirstMessageOfGroup(item, i) {\r\n    return i === 0 || (chat[i - 1] && chat[i - 1].contactId !== item.contactId);\r\n  }\r\n\r\n  function isLastMessageOfGroup(item, i) {\r\n    return i === chat.length - 1 || (chat[i + 1] && chat[i + 1].contactId !== item.contactId);\r\n  }\r\n\r\n  function onInputChange(ev) {\r\n    setMessageText(ev.target.value);\r\n  }\r\n\r\n  function onMessageSubmit(ev) {\r\n    ev.preventDefault();\r\n    if (messageText === '') {\r\n      return;\r\n    }\r\n\r\n    dispatch(\r\n      sendMessage({\r\n        messageText,\r\n        contactId,\r\n      })\r\n    ).then(() => {\r\n      setMessageText('');\r\n    });\r\n  }\r\n\r\n  if (!user || !chat || !selectedContact) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        className=\"w-full border-b-1\"\r\n        sx={{\r\n          backgroundColor: (theme) =>\r\n            theme.palette.mode === 'light'\r\n              ? lighten(theme.palette.background.default, 0.4)\r\n              : lighten(theme.palette.background.default, 0.02),\r\n        }}\r\n      >\r\n        <Toolbar className=\"flex items-center justify-between px-16 w-full\">\r\n          <div className=\"flex items-center\">\r\n            <IconButton\r\n              aria-label=\"Open drawer\"\r\n              onClick={() => setMainSidebarOpen(true)}\r\n              className=\"flex lg:hidden\"\r\n              size=\"large\"\r\n            >\r\n              <FuseSvgIcon>heroicons-outline:chat</FuseSvgIcon>\r\n            </IconButton>\r\n            <div\r\n              className=\"flex items-center cursor-pointer\"\r\n              onClick={() => {\r\n                setContactSidebarOpen(true);\r\n              }}\r\n              onKeyDown={() => setContactSidebarOpen(true)}\r\n              role=\"button\"\r\n              tabIndex={0}\r\n            >\r\n              <ContactAvatar className=\"relative mx-8\" contact={selectedContact} />\r\n              <Typography color=\"inherit\" className=\"text-16 font-semibold px-4\">\r\n                {selectedContact.name}\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n          <ChatMoreMenu className=\"-mx-8\" />\r\n        </Toolbar>\r\n      </Box>\r\n\r\n      <div className=\"flex flex-auto h-full min-h-0 w-full\">\r\n        <div className={clsx('flex flex-1 z-10 flex-col relative', props.className)}>\r\n          <FuseScrollbars ref={chatRef} className=\"flex flex-1 flex-col overflow-y-auto\">\r\n            {chat?.length > 0 && (\r\n              <div className=\"flex flex-col pt-16 px-16 pb-40\">\r\n                {chat.map((item, i) => {\r\n                  return (\r\n                    <StyledMessageRow\r\n                      key={i}\r\n                      className={clsx(\r\n                        'flex flex-col grow-0 shrink-0 items-start justify-end relative px-16 pb-4',\r\n                        item.contactId === user.id ? 'me' : 'contact',\r\n                        { 'first-of-group': isFirstMessageOfGroup(item, i) },\r\n                        { 'last-of-group': isLastMessageOfGroup(item, i) },\r\n                        i + 1 === chat.length && 'pb-96'\r\n                      )}\r\n                    >\r\n                      <div className=\"bubble flex relative items-center justify-center p-12 max-w-full\">\r\n                        <div className=\"leading-tight whitespace-pre-wrap\">{item.value}</div>\r\n                        <Typography\r\n                          className=\"time absolute hidden w-full text-11 mt-8 -mb-24 ltr:left-0 rtl:right-0 bottom-0 whitespace-nowrap\"\r\n                          color=\"text.secondary\"\r\n                        >\r\n                          {formatDistanceToNow(new Date(item.createdAt), { addSuffix: true })}\r\n                        </Typography>\r\n                      </div>\r\n                    </StyledMessageRow>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </FuseScrollbars>\r\n          {chat && (\r\n            <Paper\r\n              square\r\n              component=\"form\"\r\n              onSubmit={onMessageSubmit}\r\n              className=\"absolute border-t-1 bottom-0 right-0 left-0 py-16 px-16\"\r\n              sx={{\r\n                backgroundColor: (theme) =>\r\n                  theme.palette.mode === 'light'\r\n                    ? lighten(theme.palette.background.default, 0.4)\r\n                    : lighten(theme.palette.background.default, 0.02),\r\n              }}\r\n            >\r\n              <div className=\"flex items-center relative\">\r\n                <IconButton className=\"\" type=\"submit\" size=\"large\">\r\n                  <FuseSvgIcon className=\"text-24\" color=\"action\">\r\n                    heroicons-outline:emoji-happy\r\n                  </FuseSvgIcon>\r\n                </IconButton>\r\n\r\n                <IconButton className=\"\" type=\"submit\" size=\"large\">\r\n                  <FuseSvgIcon className=\"text-24\" color=\"action\">\r\n                    heroicons-outline:paper-clip\r\n                  </FuseSvgIcon>\r\n                </IconButton>\r\n\r\n                <InputBase\r\n                  autoFocus={false}\r\n                  id=\"message-input\"\r\n                  className=\"flex-1 flex grow shrink-0 h-44 mx-8 px-16 border-2 rounded-full\"\r\n                  placeholder=\"Type your message\"\r\n                  onChange={onInputChange}\r\n                  value={messageText}\r\n                  sx={{ backgroundColor: 'background.paper' }}\r\n                />\r\n                <IconButton className=\"\" type=\"submit\" size=\"large\">\r\n                  <FuseSvgIcon className=\"rotate-90\" color=\"action\">\r\n                    heroicons-outline:paper-airplane\r\n                  </FuseSvgIcon>\r\n                </IconButton>\r\n              </div>\r\n            </Paper>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}