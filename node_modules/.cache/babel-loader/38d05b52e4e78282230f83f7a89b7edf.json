{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _ from'@lodash';import{styled}from'@mui/material/styles';import Avatar from'@mui/material/Avatar';import Card from'@mui/material/Card';import Tooltip from'@mui/material/Tooltip';import Typography from'@mui/material/Typography';import clsx from'clsx';import{Draggable}from'react-beautiful-dnd';import{useDispatch,useSelector}from'react-redux';import{AvatarGroup}from'@mui/material';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import{openCardDialog}from'../../store/cardSlice';import{selectCardById}from'../../store/cardsSlice';import BoardCardLabel from'./BoardCardLabel';import{selectMembers}from'../../store/membersSlice';import BoardCardDueDate from'./BoardCardDueDate';import BoardCardCheckItems from'./BoardCardCheckItems';import{selectBoard}from'../../store/boardSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledCard=styled(Card)(function(_ref){var theme=_ref.theme;return{transitionProperty:'box-shadow',transitionDuration:theme.transitions.duration.short,transitionTimingFunction:theme.transitions.easing.easeInOut};});function BoardCard(props){var cardId=props.cardId,index=props.index;var dispatch=useDispatch();var board=useSelector(selectBoard);var card=useSelector(function(state){return selectCardById(state,cardId);});var members=useSelector(selectMembers);var commentsCount=getCommentsCount(card);var cardCoverImage=_.find(card.attachments,{id:card.attachmentCoverId});function handleCardClick(ev,_card){ev.preventDefault();dispatch(openCardDialog(_card));}function getCommentsCount(_card){return _.sum(_card.activities.map(function(x){return x.type==='comment'?1:0;}));}return/*#__PURE__*/_jsx(Draggable,{draggableId:cardId,index:index,type:\"card\",children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:/*#__PURE__*/_jsxs(StyledCard,{className:clsx(snapshot.isDragging?'shadow-lg':'shadow','w-full mb-12 rounded-lg cursor-pointer'),onClick:function onClick(ev){return handleCardClick(ev,card);},children:[board.settings.cardCoverImages&&cardCoverImage&&/*#__PURE__*/_jsx(\"img\",{className:\"block\",src:cardCoverImage.src,alt:\"card cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-16 pb-0\",children:[card.labels.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap mb-8 -mx-4\",children:card.labels.map(function(id){return/*#__PURE__*/_jsx(BoardCardLabel,{id:id},id);})}),/*#__PURE__*/_jsx(Typography,{className:\"font-medium mb-12\",children:card===null||card===void 0?void 0:card.title}),(card.dueDate||card.checklists.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-12 -mx-4\",children:[/*#__PURE__*/_jsx(BoardCardDueDate,{dueDate:card.dueDate}),/*#__PURE__*/_jsx(BoardCardCheckItems,{card:card})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-48 px-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[card.subscribed&&/*#__PURE__*/_jsx(FuseSvgIcon,{size:16,color:\"action\",children:\"heroicons-outline:eye\"}),card.description!==''&&/*#__PURE__*/_jsx(FuseSvgIcon,{size:16,color:\"action\",children:\"heroicons-outline:document-text\"}),card.attachments&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{size:16,color:\"action\",children:\"heroicons-outline:paper-clip\"}),/*#__PURE__*/_jsx(Typography,{className:\"\",color:\"text.secondary\",children:card.attachments.length})]}),commentsCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{size:16,color:\"action\",children:\"heroicons-outline:chat\"}),/*#__PURE__*/_jsx(Typography,{className:\"\",color:\"text.secondary\",children:commentsCount})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end space-x-12\",children:card.memberIds.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(AvatarGroup,{max:3,classes:{avatar:'w-24 h-24 text-12'},children:card.memberIds.map(function(id){var member=_.find(members,{id:id});return/*#__PURE__*/_jsx(Tooltip,{title:member.name,children:/*#__PURE__*/_jsx(Avatar,{alt:\"member\",src:member.avatar},index)},id);})})})})]})]})}));}});}export default BoardCard;","map":null,"metadata":{},"sourceType":"module"}