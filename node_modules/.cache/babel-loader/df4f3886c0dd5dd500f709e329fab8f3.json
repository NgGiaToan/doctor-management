{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { setSelectedContactId } from './contactsSlice';\nimport { closeChatPanel } from './stateSlice';\nimport { getChats } from './chatsSlice';\nexport const getChat = createAsyncThunk('chatPanel/chat/getChat', async (contactId, _ref) => {\n  let {\n    dispatch,\n    getState\n  } = _ref;\n  const response = await axios.get(`/api/chat/chats/${contactId}`);\n  const data = await response.data;\n  dispatch(setSelectedContactId(contactId));\n  return data;\n});\nexport const sendMessage = createAsyncThunk('chatPanel/chat/sendMessage', async (_ref2, _ref3) => {\n  let {\n    messageText,\n    chatId,\n    contactId\n  } = _ref2;\n  let {\n    dispatch,\n    getState\n  } = _ref3;\n  const response = await axios.post(`/api/chat/chats/${contactId}`, messageText);\n  const data = await response.data;\n  dispatch(getChats());\n  return data;\n});\nconst chatSlice = createSlice({\n  name: 'chatPanel/chat',\n  initialState: [],\n  reducers: {\n    removeChat: (state, action) => null\n  },\n  extraReducers: {\n    [getChat.fulfilled]: (state, action) => action.payload,\n    [sendMessage.fulfilled]: (state, action) => [...state, action.payload],\n    [closeChatPanel]: (state, action) => null\n  }\n});\nexport const {\n  removeChat\n} = chatSlice.actions;\nexport const selectChat = _ref4 => {\n  let {\n    chatPanel\n  } = _ref4;\n  return chatPanel.chat;\n};\nexport default chatSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","setSelectedContactId","closeChatPanel","getChats","getChat","contactId","dispatch","getState","response","get","data","sendMessage","messageText","chatId","post","chatSlice","name","initialState","reducers","removeChat","state","action","extraReducers","fulfilled","payload","actions","selectChat","chatPanel","chat","reducer"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/theme-layouts/shared-components/chatPanel/store/chatSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { setSelectedContactId } from './contactsSlice';\r\nimport { closeChatPanel } from './stateSlice';\r\nimport { getChats } from './chatsSlice';\r\n\r\nexport const getChat = createAsyncThunk(\r\n  'chatPanel/chat/getChat',\r\n  async (contactId, { dispatch, getState }) => {\r\n    const response = await axios.get(`/api/chat/chats/${contactId}`);\r\n\r\n    const data = await response.data;\r\n\r\n    dispatch(setSelectedContactId(contactId));\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const sendMessage = createAsyncThunk(\r\n  'chatPanel/chat/sendMessage',\r\n  async ({ messageText, chatId, contactId }, { dispatch, getState }) => {\r\n    const response = await axios.post(`/api/chat/chats/${contactId}`, messageText);\r\n\r\n    const data = await response.data;\r\n\r\n    dispatch(getChats());\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nconst chatSlice = createSlice({\r\n  name: 'chatPanel/chat',\r\n  initialState: [],\r\n  reducers: {\r\n    removeChat: (state, action) => null,\r\n  },\r\n  extraReducers: {\r\n    [getChat.fulfilled]: (state, action) => action.payload,\r\n    [sendMessage.fulfilled]: (state, action) => [...state, action.payload],\r\n    [closeChatPanel]: (state, action) => null,\r\n  },\r\n});\r\n\r\nexport const { removeChat } = chatSlice.actions;\r\n\r\nexport const selectChat = ({ chatPanel }) => chatPanel.chat;\r\n\r\nexport default chatSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,oBAAT,QAAqC,iBAArC;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,QAAT,QAAyB,cAAzB;AAEA,OAAO,MAAMC,OAAO,GAAGN,gBAAgB,CACrC,wBADqC,EAErC,OAAOO,SAAP,WAA6C;EAAA,IAA3B;IAAEC,QAAF;IAAYC;EAAZ,CAA2B;EAC3C,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAW,mBAAkBJ,SAAU,EAAvC,CAAvB;EAEA,MAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAA5B;EAEAJ,QAAQ,CAACL,oBAAoB,CAACI,SAAD,CAArB,CAAR;EAEA,OAAOK,IAAP;AACD,CAVoC,CAAhC;AAaP,OAAO,MAAMC,WAAW,GAAGb,gBAAgB,CACzC,4BADyC,EAEzC,wBAAsE;EAAA,IAA/D;IAAEc,WAAF;IAAeC,MAAf;IAAuBR;EAAvB,CAA+D;EAAA,IAA3B;IAAEC,QAAF;IAAYC;EAAZ,CAA2B;EACpE,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACc,IAAN,CAAY,mBAAkBT,SAAU,EAAxC,EAA2CO,WAA3C,CAAvB;EAEA,MAAMF,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAA5B;EAEAJ,QAAQ,CAACH,QAAQ,EAAT,CAAR;EAEA,OAAOO,IAAP;AACD,CAVwC,CAApC;AAaP,MAAMK,SAAS,GAAGhB,WAAW,CAAC;EAC5BiB,IAAI,EAAE,gBADsB;EAE5BC,YAAY,EAAE,EAFc;EAG5BC,QAAQ,EAAE;IACRC,UAAU,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;EADvB,CAHkB;EAM5BC,aAAa,EAAE;IACb,CAAClB,OAAO,CAACmB,SAAT,GAAqB,CAACH,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACG,OADlC;IAEb,CAACb,WAAW,CAACY,SAAb,GAAyB,CAACH,KAAD,EAAQC,MAAR,KAAmB,CAAC,GAAGD,KAAJ,EAAWC,MAAM,CAACG,OAAlB,CAF/B;IAGb,CAACtB,cAAD,GAAkB,CAACkB,KAAD,EAAQC,MAAR,KAAmB;EAHxB;AANa,CAAD,CAA7B;AAaA,OAAO,MAAM;EAAEF;AAAF,IAAiBJ,SAAS,CAACU,OAAjC;AAEP,OAAO,MAAMC,UAAU,GAAG;EAAA,IAAC;IAAEC;EAAF,CAAD;EAAA,OAAmBA,SAAS,CAACC,IAA7B;AAAA,CAAnB;AAEP,eAAeb,SAAS,CAACc,OAAzB"},"metadata":{},"sourceType":"module"}