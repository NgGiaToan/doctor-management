{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\app\\\\main\\\\apps\\\\calendar\\\\dialogs\\\\labels\\\\LabelItemForm.js\",\n    _s = $RefreshSig$();\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Controller, useForm } from 'react-hook-form';\nimport TextField from '@mui/material/TextField';\nimport Input from '@mui/material/Input';\nimport IconButton from '@mui/material/IconButton';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport ListItem from '@mui/material/ListItem';\nimport clsx from 'clsx';\nimport { useDispatch } from 'react-redux';\nimport * as yup from 'yup';\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\nimport { useEffect } from 'react';\nimport { useDebounce } from '@fuse/hooks';\nimport _ from '@lodash';\nimport FormLabel from '@mui/material/FormLabel';\nimport { closeDialog, openDialog } from 'app/store/fuse/dialogSlice';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogActions from '@mui/material/DialogActions';\nimport Button from '@mui/material/Button';\nimport { removeLabel, updateLabel } from '../../store/labelsSlice';\nimport { getEvents } from '../../store/eventsSlice';\n/**\r\n * Form Validation Schema\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  title: yup.string().required('You must enter a label title')\n});\n\nfunction NewLabelForm(props) {\n  _s();\n\n  const {\n    label,\n    isLast\n  } = props;\n  const dispatch = useDispatch();\n  const {\n    control,\n    formState,\n    handleSubmit,\n    reset,\n    watch\n  } = useForm({\n    mode: 'onChange',\n    defaultValues: label,\n    resolver: yupResolver(schema)\n  });\n  const {\n    isValid,\n    dirtyFields,\n    errors\n  } = formState;\n  const form = watch();\n  useEffect(() => {\n    reset(label);\n  }, [label, reset]);\n  const handleOnChange = useDebounce((_label, _form) => {\n    if (!_label) {\n      return;\n    }\n\n    if (form && !_.isEqual(_form, _label)) {\n      dispatch(updateLabel(_form));\n    }\n  }, 300);\n  useEffect(() => {\n    handleOnChange(label, form);\n  }, [handleOnChange, label, form]);\n\n  function handleOnRemove() {\n    dispatch(openDialog({\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"alert-dialog-title\",\n          children: \"Are you sure?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n            id: \"alert-dialog-description\",\n            children: \"All associated events will be removed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => dispatch(closeDialog()),\n            color: \"primary\",\n            children: \"Disagree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              dispatch(removeLabel(label.id)).then(() => {\n                dispatch(getEvents());\n              });\n              dispatch(closeDialog());\n            },\n            color: \"primary\",\n            autoFocus: true,\n            children: \"Agree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }));\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ListItem, {\n      className: \"p-0 mb-16\",\n      dense: true,\n      children: /*#__PURE__*/_jsxDEV(Controller, {\n        name: \"title\",\n        control: control,\n        render: _ref => {\n          var _errors$title;\n\n          let {\n            field\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(TextField, { ...field,\n            className: clsx('flex flex-1'),\n            error: !!errors.title,\n            helperText: errors === null || errors === void 0 ? void 0 : (_errors$title = errors.title) === null || _errors$title === void 0 ? void 0 : _errors$title.message,\n            placeholder: \"Create new label\",\n            variant: \"outlined\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(Controller, {\n                  name: \"color\",\n                  control: control,\n                  render: _ref2 => {\n                    let {\n                      field: {\n                        onChange: _onChange,\n                        value: _value\n                      }\n                    } = _ref2;\n                    return /*#__PURE__*/_jsxDEV(FormLabel, {\n                      className: \"w-16 h-16 shrink-0 rounded-full\",\n                      sx: {\n                        backgroundColor: _value\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        value: _value,\n                        onChange: ev => {\n                          _onChange(ev.target.value);\n                        },\n                        type: \"color\",\n                        className: \"opacity-0\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 25\n                    }, this);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this),\n              endAdornment: !isLast && /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: handleOnRemove,\n                  className: \"w-32 h-32 p-0\",\n                  \"aria-label\": \"Delete\",\n                  size: \"large\",\n                  children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                    color: \"action\",\n                    size: 20,\n                    children: \"heroicons-outline:trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(NewLabelForm, \"rt36POyrcur47gVIWFBeouBOUJo=\", false, function () {\n  return [useDispatch, useForm, useDebounce];\n});\n\n_c = NewLabelForm;\nexport default NewLabelForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewLabelForm\");","map":{"version":3,"names":["yupResolver","Controller","useForm","TextField","Input","IconButton","InputAdornment","ListItem","clsx","useDispatch","yup","FuseSvgIcon","useEffect","useDebounce","_","FormLabel","closeDialog","openDialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","removeLabel","updateLabel","getEvents","schema","object","shape","title","string","required","NewLabelForm","props","label","isLast","dispatch","control","formState","handleSubmit","reset","watch","mode","defaultValues","resolver","isValid","dirtyFields","errors","form","handleOnChange","_label","_form","isEqual","handleOnRemove","children","id","then","field","message","startAdornment","onChange","_onChange","value","_value","backgroundColor","ev","target","endAdornment"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/calendar/dialogs/labels/LabelItemForm.js"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport TextField from '@mui/material/TextField';\r\nimport Input from '@mui/material/Input';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport clsx from 'clsx';\r\nimport { useDispatch } from 'react-redux';\r\nimport * as yup from 'yup';\r\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\r\nimport { useEffect } from 'react';\r\nimport { useDebounce } from '@fuse/hooks';\r\nimport _ from '@lodash';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport { closeDialog, openDialog } from 'app/store/fuse/dialogSlice';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Button from '@mui/material/Button';\r\nimport { removeLabel, updateLabel } from '../../store/labelsSlice';\r\nimport { getEvents } from '../../store/eventsSlice';\r\n\r\n/**\r\n * Form Validation Schema\r\n */\r\nconst schema = yup.object().shape({\r\n  title: yup.string().required('You must enter a label title'),\r\n});\r\n\r\nfunction NewLabelForm(props) {\r\n  const { label, isLast } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const { control, formState, handleSubmit, reset, watch } = useForm({\r\n    mode: 'onChange',\r\n    defaultValues: label,\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const { isValid, dirtyFields, errors } = formState;\r\n  const form = watch();\r\n\r\n  useEffect(() => {\r\n    reset(label);\r\n  }, [label, reset]);\r\n\r\n  const handleOnChange = useDebounce((_label, _form) => {\r\n    if (!_label) {\r\n      return;\r\n    }\r\n    if (form && !_.isEqual(_form, _label)) {\r\n      dispatch(updateLabel(_form));\r\n    }\r\n  }, 300);\r\n\r\n  useEffect(() => {\r\n    handleOnChange(label, form);\r\n  }, [handleOnChange, label, form]);\r\n\r\n  function handleOnRemove() {\r\n    dispatch(\r\n      openDialog({\r\n        children: (\r\n          <>\r\n            <DialogTitle id=\"alert-dialog-title\">Are you sure?</DialogTitle>\r\n            <DialogContent>\r\n              <DialogContentText id=\"alert-dialog-description\">\r\n                All associated events will be removed.\r\n              </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={() => dispatch(closeDialog())} color=\"primary\">\r\n                Disagree\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  dispatch(removeLabel(label.id)).then(() => {\r\n                    dispatch(getEvents());\r\n                  });\r\n                  dispatch(closeDialog());\r\n                }}\r\n                color=\"primary\"\r\n                autoFocus\r\n              >\r\n                Agree\r\n              </Button>\r\n            </DialogActions>\r\n          </>\r\n        ),\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ListItem className=\"p-0 mb-16\" dense>\r\n        <Controller\r\n          name=\"title\"\r\n          control={control}\r\n          render={({ field }) => (\r\n            <TextField\r\n              {...field}\r\n              className={clsx('flex flex-1')}\r\n              error={!!errors.title}\r\n              helperText={errors?.title?.message}\r\n              placeholder=\"Create new label\"\r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Controller\r\n                      name=\"color\"\r\n                      control={control}\r\n                      render={({ field: { onChange: _onChange, value: _value } }) => (\r\n                        <FormLabel\r\n                          className=\"w-16 h-16 shrink-0 rounded-full\"\r\n                          sx={{ backgroundColor: _value }}\r\n                        >\r\n                          <Input\r\n                            value={_value}\r\n                            onChange={(ev) => {\r\n                              _onChange(ev.target.value);\r\n                            }}\r\n                            type=\"color\"\r\n                            className=\"opacity-0\"\r\n                          />\r\n                        </FormLabel>\r\n                      )}\r\n                    />\r\n                  </InputAdornment>\r\n                ),\r\n                endAdornment: !isLast && (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={handleOnRemove}\r\n                      className=\"w-32 h-32 p-0\"\r\n                      aria-label=\"Delete\"\r\n                      size=\"large\"\r\n                    >\r\n                      <FuseSvgIcon color=\"action\" size={20}>\r\n                        heroicons-outline:trash\r\n                      </FuseSvgIcon>\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n      </ListItem>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewLabelForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}