{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mapTypeToComponent = exports.bundleDocument = exports.bundle = exports.OasVersion = void 0;\n\nconst isEqual = require(\"lodash.isequal\");\n\nconst resolve_1 = require(\"./resolve\");\n\nconst visitors_1 = require(\"./visitors\");\n\nconst oas3_1 = require(\"./types/oas3\");\n\nconst oas2_1 = require(\"./types/oas2\");\n\nconst oas3_1_1 = require(\"./types/oas3_1\");\n\nconst types_1 = require(\"./types\");\n\nconst walk_1 = require(\"./walk\");\n\nconst oas_types_1 = require(\"./oas-types\");\n\nconst ref_utils_1 = require(\"./ref-utils\");\n\nconst rules_1 = require(\"./config/rules\");\n\nconst no_unresolved_refs_1 = require(\"./rules/no-unresolved-refs\");\n\nconst utils_1 = require(\"./utils\");\n\nconst redocly_1 = require(\"./redocly\");\n\nconst remove_unused_components_1 = require(\"./rules/oas2/remove-unused-components\");\n\nconst remove_unused_components_2 = require(\"./rules/oas3/remove-unused-components\");\n\nvar OasVersion;\n\n(function (OasVersion) {\n  OasVersion[\"Version2\"] = \"oas2\";\n  OasVersion[\"Version3_0\"] = \"oas3_0\";\n  OasVersion[\"Version3_1\"] = \"oas3_1\";\n})(OasVersion = exports.OasVersion || (exports.OasVersion = {}));\n\nfunction bundle(opts) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const {\n      ref,\n      doc,\n      externalRefResolver = new resolve_1.BaseResolver(opts.config.resolve),\n      base = null\n    } = opts;\n\n    if (!(ref || doc)) {\n      throw new Error('Document or reference is required.\\n');\n    }\n\n    const document = doc !== undefined ? doc : yield externalRefResolver.resolveDocument(base, ref, true);\n\n    if (document instanceof Error) {\n      throw document;\n    }\n\n    return bundleDocument(Object.assign(Object.assign({\n      document\n    }, opts), {\n      config: opts.config.lint,\n      externalRefResolver\n    }));\n  });\n}\n\nexports.bundle = bundle;\n\nfunction bundleDocument(opts) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const {\n      document,\n      config,\n      customTypes,\n      externalRefResolver,\n      dereference = false,\n      skipRedoclyRegistryRefs = false,\n      removeUnusedComponents = false\n    } = opts;\n    const oasVersion = oas_types_1.detectOpenAPI(document.parsed);\n    const oasMajorVersion = oas_types_1.openAPIMajor(oasVersion);\n    const rules = config.getRulesForOasVersion(oasMajorVersion);\n    const types = types_1.normalizeTypes(config.extendTypes((customTypes !== null && customTypes !== void 0 ? customTypes : oasMajorVersion === oas_types_1.OasMajorVersion.Version3) ? oasVersion === OasVersion.Version3_1 ? oas3_1_1.Oas3_1Types : oas3_1.Oas3Types : oas2_1.Oas2Types, oasVersion), config);\n    const preprocessors = rules_1.initRules(rules, config, 'preprocessors', oasVersion);\n    const decorators = rules_1.initRules(rules, config, 'decorators', oasVersion);\n    const ctx = {\n      problems: [],\n      oasVersion: oasVersion,\n      refTypes: new Map(),\n      visitorsData: {}\n    };\n\n    if (removeUnusedComponents) {\n      decorators.push({\n        severity: 'error',\n        ruleId: 'remove-unused-components',\n        visitor: oasMajorVersion === oas_types_1.OasMajorVersion.Version2 ? remove_unused_components_1.RemoveUnusedComponents({}) : remove_unused_components_2.RemoveUnusedComponents({})\n      });\n    }\n\n    const resolvedRefMap = yield resolve_1.resolveDocument({\n      rootDocument: document,\n      rootType: types.DefinitionRoot,\n      externalRefResolver\n    });\n    const bundleVisitor = visitors_1.normalizeVisitors([...preprocessors, {\n      severity: 'error',\n      ruleId: 'bundler',\n      visitor: makeBundleVisitor(oasMajorVersion, dereference, skipRedoclyRegistryRefs, document, resolvedRefMap)\n    }, ...decorators], types);\n    walk_1.walkDocument({\n      document,\n      rootType: types.DefinitionRoot,\n      normalizedVisitors: bundleVisitor,\n      resolvedRefMap,\n      ctx\n    });\n    return {\n      bundle: document,\n      problems: ctx.problems.map(problem => config.addProblemToIgnore(problem)),\n      fileDependencies: externalRefResolver.getFiles(),\n      rootType: types.DefinitionRoot,\n      refTypes: ctx.refTypes,\n      visitorsData: ctx.visitorsData\n    };\n  });\n}\n\nexports.bundleDocument = bundleDocument;\n\nfunction mapTypeToComponent(typeName, version) {\n  switch (version) {\n    case oas_types_1.OasMajorVersion.Version3:\n      switch (typeName) {\n        case 'Schema':\n          return 'schemas';\n\n        case 'Parameter':\n          return 'parameters';\n\n        case 'Response':\n          return 'responses';\n\n        case 'Example':\n          return 'examples';\n\n        case 'RequestBody':\n          return 'requestBodies';\n\n        case 'Header':\n          return 'headers';\n\n        case 'SecuritySchema':\n          return 'securitySchemes';\n\n        case 'Link':\n          return 'links';\n\n        case 'Callback':\n          return 'callbacks';\n\n        default:\n          return null;\n      }\n\n    case oas_types_1.OasMajorVersion.Version2:\n      switch (typeName) {\n        case 'Schema':\n          return 'definitions';\n\n        case 'Parameter':\n          return 'parameters';\n\n        case 'Response':\n          return 'responses';\n\n        default:\n          return null;\n      }\n\n  }\n}\n\nexports.mapTypeToComponent = mapTypeToComponent; // function oas3Move\n\nfunction makeBundleVisitor(version, dereference, skipRedoclyRegistryRefs, rootDocument, resolvedRefMap) {\n  let components;\n  const visitor = {\n    ref: {\n      leave(node, ctx, resolved) {\n        if (!resolved.location || resolved.node === undefined) {\n          no_unresolved_refs_1.reportUnresolvedRef(resolved, ctx.report, ctx.location);\n          return;\n        }\n\n        if (resolved.location.source === rootDocument.source && resolved.location.source === ctx.location.source && ctx.type.name !== 'scalar' && !dereference) {\n          return;\n        } // do not bundle registry URL before push, otherwise we can't record dependencies\n\n\n        if (skipRedoclyRegistryRefs && redocly_1.isRedoclyRegistryURL(node.$ref)) {\n          return;\n        }\n\n        const componentType = mapTypeToComponent(ctx.type.name, version);\n\n        if (!componentType) {\n          replaceRef(node, resolved, ctx);\n        } else {\n          if (dereference) {\n            saveComponent(componentType, resolved, ctx);\n            replaceRef(node, resolved, ctx);\n          } else {\n            node.$ref = saveComponent(componentType, resolved, ctx);\n            resolveBundledComponent(node, resolved, ctx);\n          }\n        }\n      }\n\n    },\n    DefinitionRoot: {\n      enter(root) {\n        if (version === oas_types_1.OasMajorVersion.Version3) {\n          components = root.components = root.components || {};\n        } else if (version === oas_types_1.OasMajorVersion.Version2) {\n          components = root;\n        }\n      }\n\n    }\n  };\n\n  if (version === oas_types_1.OasMajorVersion.Version3) {\n    visitor.DiscriminatorMapping = {\n      leave(mapping, ctx) {\n        for (const name of Object.keys(mapping)) {\n          const $ref = mapping[name];\n          const resolved = ctx.resolve({\n            $ref\n          });\n\n          if (!resolved.location || resolved.node === undefined) {\n            no_unresolved_refs_1.reportUnresolvedRef(resolved, ctx.report, ctx.location.child(name));\n            return;\n          }\n\n          const componentType = mapTypeToComponent('Schema', version);\n\n          if (dereference) {\n            saveComponent(componentType, resolved, ctx);\n          } else {\n            mapping[name] = saveComponent(componentType, resolved, ctx);\n          }\n        }\n      }\n\n    };\n  }\n\n  function resolveBundledComponent(node, resolved, ctx) {\n    const newRefId = resolve_1.makeRefId(ctx.location.source.absoluteRef, node.$ref);\n    resolvedRefMap.set(newRefId, {\n      document: rootDocument,\n      isRemote: false,\n      node: resolved.node,\n      nodePointer: node.$ref,\n      resolved: true\n    });\n  }\n\n  function replaceRef(ref, resolved, ctx) {\n    if (!utils_1.isPlainObject(resolved.node)) {\n      ctx.parent[ctx.key] = resolved.node;\n    } else {\n      // @ts-ignore\n      delete ref.$ref;\n      Object.assign(ref, resolved.node);\n    }\n  }\n\n  function saveComponent(componentType, target, ctx) {\n    components[componentType] = components[componentType] || {};\n    const name = getComponentName(target, componentType, ctx);\n    components[componentType][name] = target.node;\n\n    if (version === oas_types_1.OasMajorVersion.Version3) {\n      return `#/components/${componentType}/${name}`;\n    } else {\n      return `#/${componentType}/${name}`;\n    }\n  }\n\n  function isEqualOrEqualRef(node, target, ctx) {\n    var _a;\n\n    if (ref_utils_1.isRef(node) && ((_a = ctx.resolve(node).location) === null || _a === void 0 ? void 0 : _a.absolutePointer) === target.location.absolutePointer) {\n      return true;\n    }\n\n    return isEqual(node, target.node);\n  }\n\n  function getComponentName(target, componentType, ctx) {\n    const [fileRef, pointer] = [target.location.source.absoluteRef, target.location.pointer];\n    const componentsGroup = components[componentType];\n    let name = '';\n    const refParts = pointer.slice(2).split('/').filter(Boolean); // slice(2) removes \"#/\"\n\n    while (refParts.length > 0) {\n      name = refParts.pop() + (name ? `-${name}` : '');\n\n      if (!componentsGroup || !componentsGroup[name] || isEqualOrEqualRef(componentsGroup[name], target, ctx)) {\n        return name;\n      }\n    }\n\n    name = ref_utils_1.refBaseName(fileRef) + (name ? `_${name}` : '');\n\n    if (!componentsGroup[name] || isEqualOrEqualRef(componentsGroup[name], target, ctx)) {\n      return name;\n    }\n\n    const prevName = name;\n    let serialId = 2;\n\n    while (componentsGroup[name] && !isEqualOrEqualRef(componentsGroup[name], target, ctx)) {\n      name = `${prevName}-${serialId}`;\n      serialId++;\n    }\n\n    if (!componentsGroup[name]) {\n      ctx.report({\n        message: `Two schemas are referenced with the same name but different content. Renamed ${prevName} to ${name}.`,\n        location: ctx.location,\n        forceSeverity: 'warn'\n      });\n    }\n\n    return name;\n  }\n\n  return visitor;\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","mapTypeToComponent","bundleDocument","bundle","OasVersion","isEqual","require","resolve_1","visitors_1","oas3_1","oas2_1","oas3_1_1","types_1","walk_1","oas_types_1","ref_utils_1","rules_1","no_unresolved_refs_1","utils_1","redocly_1","remove_unused_components_1","remove_unused_components_2","opts","ref","doc","externalRefResolver","BaseResolver","config","base","Error","document","undefined","resolveDocument","assign","lint","customTypes","dereference","skipRedoclyRegistryRefs","removeUnusedComponents","oasVersion","detectOpenAPI","parsed","oasMajorVersion","openAPIMajor","rules","getRulesForOasVersion","types","normalizeTypes","extendTypes","OasMajorVersion","Version3","Version3_1","Oas3_1Types","Oas3Types","Oas2Types","preprocessors","initRules","decorators","ctx","problems","refTypes","Map","visitorsData","push","severity","ruleId","visitor","Version2","RemoveUnusedComponents","resolvedRefMap","rootDocument","rootType","DefinitionRoot","bundleVisitor","normalizeVisitors","makeBundleVisitor","walkDocument","normalizedVisitors","map","problem","addProblemToIgnore","fileDependencies","getFiles","typeName","version","components","leave","node","resolved","location","reportUnresolvedRef","report","source","type","name","isRedoclyRegistryURL","$ref","componentType","replaceRef","saveComponent","resolveBundledComponent","enter","root","DiscriminatorMapping","mapping","keys","child","newRefId","makeRefId","absoluteRef","set","isRemote","nodePointer","isPlainObject","parent","key","target","getComponentName","isEqualOrEqualRef","_a","isRef","absolutePointer","fileRef","pointer","componentsGroup","refParts","slice","split","filter","Boolean","length","pop","refBaseName","prevName","serialId","message","forceSeverity"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@redocly/openapi-core/lib/bundle.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mapTypeToComponent = exports.bundleDocument = exports.bundle = exports.OasVersion = void 0;\nconst isEqual = require(\"lodash.isequal\");\nconst resolve_1 = require(\"./resolve\");\nconst visitors_1 = require(\"./visitors\");\nconst oas3_1 = require(\"./types/oas3\");\nconst oas2_1 = require(\"./types/oas2\");\nconst oas3_1_1 = require(\"./types/oas3_1\");\nconst types_1 = require(\"./types\");\nconst walk_1 = require(\"./walk\");\nconst oas_types_1 = require(\"./oas-types\");\nconst ref_utils_1 = require(\"./ref-utils\");\nconst rules_1 = require(\"./config/rules\");\nconst no_unresolved_refs_1 = require(\"./rules/no-unresolved-refs\");\nconst utils_1 = require(\"./utils\");\nconst redocly_1 = require(\"./redocly\");\nconst remove_unused_components_1 = require(\"./rules/oas2/remove-unused-components\");\nconst remove_unused_components_2 = require(\"./rules/oas3/remove-unused-components\");\nvar OasVersion;\n(function (OasVersion) {\n    OasVersion[\"Version2\"] = \"oas2\";\n    OasVersion[\"Version3_0\"] = \"oas3_0\";\n    OasVersion[\"Version3_1\"] = \"oas3_1\";\n})(OasVersion = exports.OasVersion || (exports.OasVersion = {}));\nfunction bundle(opts) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { ref, doc, externalRefResolver = new resolve_1.BaseResolver(opts.config.resolve), base = null, } = opts;\n        if (!(ref || doc)) {\n            throw new Error('Document or reference is required.\\n');\n        }\n        const document = doc !== undefined ? doc : yield externalRefResolver.resolveDocument(base, ref, true);\n        if (document instanceof Error) {\n            throw document;\n        }\n        return bundleDocument(Object.assign(Object.assign({ document }, opts), { config: opts.config.lint, externalRefResolver }));\n    });\n}\nexports.bundle = bundle;\nfunction bundleDocument(opts) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { document, config, customTypes, externalRefResolver, dereference = false, skipRedoclyRegistryRefs = false, removeUnusedComponents = false, } = opts;\n        const oasVersion = oas_types_1.detectOpenAPI(document.parsed);\n        const oasMajorVersion = oas_types_1.openAPIMajor(oasVersion);\n        const rules = config.getRulesForOasVersion(oasMajorVersion);\n        const types = types_1.normalizeTypes(config.extendTypes((customTypes !== null && customTypes !== void 0 ? customTypes : oasMajorVersion === oas_types_1.OasMajorVersion.Version3)\n            ? oasVersion === OasVersion.Version3_1\n                ? oas3_1_1.Oas3_1Types\n                : oas3_1.Oas3Types\n            : oas2_1.Oas2Types, oasVersion), config);\n        const preprocessors = rules_1.initRules(rules, config, 'preprocessors', oasVersion);\n        const decorators = rules_1.initRules(rules, config, 'decorators', oasVersion);\n        const ctx = {\n            problems: [],\n            oasVersion: oasVersion,\n            refTypes: new Map(),\n            visitorsData: {},\n        };\n        if (removeUnusedComponents) {\n            decorators.push({\n                severity: 'error',\n                ruleId: 'remove-unused-components',\n                visitor: oasMajorVersion === oas_types_1.OasMajorVersion.Version2\n                    ? remove_unused_components_1.RemoveUnusedComponents({})\n                    : remove_unused_components_2.RemoveUnusedComponents({})\n            });\n        }\n        const resolvedRefMap = yield resolve_1.resolveDocument({\n            rootDocument: document,\n            rootType: types.DefinitionRoot,\n            externalRefResolver,\n        });\n        const bundleVisitor = visitors_1.normalizeVisitors([\n            ...preprocessors,\n            {\n                severity: 'error',\n                ruleId: 'bundler',\n                visitor: makeBundleVisitor(oasMajorVersion, dereference, skipRedoclyRegistryRefs, document, resolvedRefMap),\n            },\n            ...decorators,\n        ], types);\n        walk_1.walkDocument({\n            document,\n            rootType: types.DefinitionRoot,\n            normalizedVisitors: bundleVisitor,\n            resolvedRefMap,\n            ctx,\n        });\n        return {\n            bundle: document,\n            problems: ctx.problems.map((problem) => config.addProblemToIgnore(problem)),\n            fileDependencies: externalRefResolver.getFiles(),\n            rootType: types.DefinitionRoot,\n            refTypes: ctx.refTypes,\n            visitorsData: ctx.visitorsData,\n        };\n    });\n}\nexports.bundleDocument = bundleDocument;\nfunction mapTypeToComponent(typeName, version) {\n    switch (version) {\n        case oas_types_1.OasMajorVersion.Version3:\n            switch (typeName) {\n                case 'Schema':\n                    return 'schemas';\n                case 'Parameter':\n                    return 'parameters';\n                case 'Response':\n                    return 'responses';\n                case 'Example':\n                    return 'examples';\n                case 'RequestBody':\n                    return 'requestBodies';\n                case 'Header':\n                    return 'headers';\n                case 'SecuritySchema':\n                    return 'securitySchemes';\n                case 'Link':\n                    return 'links';\n                case 'Callback':\n                    return 'callbacks';\n                default:\n                    return null;\n            }\n        case oas_types_1.OasMajorVersion.Version2:\n            switch (typeName) {\n                case 'Schema':\n                    return 'definitions';\n                case 'Parameter':\n                    return 'parameters';\n                case 'Response':\n                    return 'responses';\n                default:\n                    return null;\n            }\n    }\n}\nexports.mapTypeToComponent = mapTypeToComponent;\n// function oas3Move\nfunction makeBundleVisitor(version, dereference, skipRedoclyRegistryRefs, rootDocument, resolvedRefMap) {\n    let components;\n    const visitor = {\n        ref: {\n            leave(node, ctx, resolved) {\n                if (!resolved.location || resolved.node === undefined) {\n                    no_unresolved_refs_1.reportUnresolvedRef(resolved, ctx.report, ctx.location);\n                    return;\n                }\n                if (resolved.location.source === rootDocument.source &&\n                    resolved.location.source === ctx.location.source &&\n                    ctx.type.name !== 'scalar' &&\n                    !dereference) {\n                    return;\n                }\n                // do not bundle registry URL before push, otherwise we can't record dependencies\n                if (skipRedoclyRegistryRefs && redocly_1.isRedoclyRegistryURL(node.$ref)) {\n                    return;\n                }\n                const componentType = mapTypeToComponent(ctx.type.name, version);\n                if (!componentType) {\n                    replaceRef(node, resolved, ctx);\n                }\n                else {\n                    if (dereference) {\n                        saveComponent(componentType, resolved, ctx);\n                        replaceRef(node, resolved, ctx);\n                    }\n                    else {\n                        node.$ref = saveComponent(componentType, resolved, ctx);\n                        resolveBundledComponent(node, resolved, ctx);\n                    }\n                }\n            },\n        },\n        DefinitionRoot: {\n            enter(root) {\n                if (version === oas_types_1.OasMajorVersion.Version3) {\n                    components = root.components = root.components || {};\n                }\n                else if (version === oas_types_1.OasMajorVersion.Version2) {\n                    components = root;\n                }\n            },\n        },\n    };\n    if (version === oas_types_1.OasMajorVersion.Version3) {\n        visitor.DiscriminatorMapping = {\n            leave(mapping, ctx) {\n                for (const name of Object.keys(mapping)) {\n                    const $ref = mapping[name];\n                    const resolved = ctx.resolve({ $ref });\n                    if (!resolved.location || resolved.node === undefined) {\n                        no_unresolved_refs_1.reportUnresolvedRef(resolved, ctx.report, ctx.location.child(name));\n                        return;\n                    }\n                    const componentType = mapTypeToComponent('Schema', version);\n                    if (dereference) {\n                        saveComponent(componentType, resolved, ctx);\n                    }\n                    else {\n                        mapping[name] = saveComponent(componentType, resolved, ctx);\n                    }\n                }\n            },\n        };\n    }\n    function resolveBundledComponent(node, resolved, ctx) {\n        const newRefId = resolve_1.makeRefId(ctx.location.source.absoluteRef, node.$ref);\n        resolvedRefMap.set(newRefId, {\n            document: rootDocument,\n            isRemote: false,\n            node: resolved.node,\n            nodePointer: node.$ref,\n            resolved: true,\n        });\n    }\n    function replaceRef(ref, resolved, ctx) {\n        if (!utils_1.isPlainObject(resolved.node)) {\n            ctx.parent[ctx.key] = resolved.node;\n        }\n        else {\n            // @ts-ignore\n            delete ref.$ref;\n            Object.assign(ref, resolved.node);\n        }\n    }\n    function saveComponent(componentType, target, ctx) {\n        components[componentType] = components[componentType] || {};\n        const name = getComponentName(target, componentType, ctx);\n        components[componentType][name] = target.node;\n        if (version === oas_types_1.OasMajorVersion.Version3) {\n            return `#/components/${componentType}/${name}`;\n        }\n        else {\n            return `#/${componentType}/${name}`;\n        }\n    }\n    function isEqualOrEqualRef(node, target, ctx) {\n        var _a;\n        if (ref_utils_1.isRef(node) &&\n            ((_a = ctx.resolve(node).location) === null || _a === void 0 ? void 0 : _a.absolutePointer) === target.location.absolutePointer) {\n            return true;\n        }\n        return isEqual(node, target.node);\n    }\n    function getComponentName(target, componentType, ctx) {\n        const [fileRef, pointer] = [target.location.source.absoluteRef, target.location.pointer];\n        const componentsGroup = components[componentType];\n        let name = '';\n        const refParts = pointer.slice(2).split('/').filter(Boolean); // slice(2) removes \"#/\"\n        while (refParts.length > 0) {\n            name = refParts.pop() + (name ? `-${name}` : '');\n            if (!componentsGroup ||\n                !componentsGroup[name] ||\n                isEqualOrEqualRef(componentsGroup[name], target, ctx)) {\n                return name;\n            }\n        }\n        name = ref_utils_1.refBaseName(fileRef) + (name ? `_${name}` : '');\n        if (!componentsGroup[name] || isEqualOrEqualRef(componentsGroup[name], target, ctx)) {\n            return name;\n        }\n        const prevName = name;\n        let serialId = 2;\n        while (componentsGroup[name] && !isEqualOrEqualRef(componentsGroup[name], target, ctx)) {\n            name = `${prevName}-${serialId}`;\n            serialId++;\n        }\n        if (!componentsGroup[name]) {\n            ctx.report({\n                message: `Two schemas are referenced with the same name but different content. Renamed ${prevName} to ${name}.`,\n                location: ctx.location,\n                forceSeverity: 'warn',\n            });\n        }\n        return name;\n    }\n    return visitor;\n}\n"],"mappings":"AAAA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;EACrF,SAASC,KAAT,CAAeC,KAAf,EAAsB;IAAE,OAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;MAAEA,OAAO,CAACD,KAAD,CAAP;IAAiB,CAA5C,CAApC;EAAoF;;EAC5G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;IACvD,SAASC,SAAT,CAAmBJ,KAAnB,EAA0B;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;MAA8B,CAApC,CAAqC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC3F,SAASC,QAAT,CAAkBR,KAAlB,EAAyB;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;MAAkC,CAAxC,CAAyC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC9F,SAASF,IAAT,CAAcI,MAAd,EAAsB;MAAEA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;IAAsF;;IAC9GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;EACH,CALM,CAAP;AAMH,CARD;;AASAO,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEf,KAAK,EAAE;AAAT,CAA7C;AACAe,OAAO,CAACC,kBAAR,GAA6BD,OAAO,CAACE,cAAR,GAAyBF,OAAO,CAACG,MAAR,GAAiBH,OAAO,CAACI,UAAR,GAAqB,KAAK,CAAjG;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,gBAAD,CAAvB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMG,MAAM,GAAGH,OAAO,CAAC,cAAD,CAAtB;;AACA,MAAMI,MAAM,GAAGJ,OAAO,CAAC,cAAD,CAAtB;;AACA,MAAMK,QAAQ,GAAGL,OAAO,CAAC,gBAAD,CAAxB;;AACA,MAAMM,OAAO,GAAGN,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMO,MAAM,GAAGP,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMQ,WAAW,GAAGR,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMS,WAAW,GAAGT,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMU,OAAO,GAAGV,OAAO,CAAC,gBAAD,CAAvB;;AACA,MAAMW,oBAAoB,GAAGX,OAAO,CAAC,4BAAD,CAApC;;AACA,MAAMY,OAAO,GAAGZ,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMa,SAAS,GAAGb,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMc,0BAA0B,GAAGd,OAAO,CAAC,uCAAD,CAA1C;;AACA,MAAMe,0BAA0B,GAAGf,OAAO,CAAC,uCAAD,CAA1C;;AACA,IAAIF,UAAJ;;AACA,CAAC,UAAUA,UAAV,EAAsB;EACnBA,UAAU,CAAC,UAAD,CAAV,GAAyB,MAAzB;EACAA,UAAU,CAAC,YAAD,CAAV,GAA2B,QAA3B;EACAA,UAAU,CAAC,YAAD,CAAV,GAA2B,QAA3B;AACH,CAJD,EAIGA,UAAU,GAAGJ,OAAO,CAACI,UAAR,KAAuBJ,OAAO,CAACI,UAAR,GAAqB,EAA5C,CAJhB;;AAKA,SAASD,MAAT,CAAgBmB,IAAhB,EAAsB;EAClB,OAAO3C,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;IAChD,MAAM;MAAE4C,GAAF;MAAOC,GAAP;MAAYC,mBAAmB,GAAG,IAAIlB,SAAS,CAACmB,YAAd,CAA2BJ,IAAI,CAACK,MAAL,CAAYzC,OAAvC,CAAlC;MAAmF0C,IAAI,GAAG;IAA1F,IAAoGN,IAA1G;;IACA,IAAI,EAAEC,GAAG,IAAIC,GAAT,CAAJ,EAAmB;MACf,MAAM,IAAIK,KAAJ,CAAU,sCAAV,CAAN;IACH;;IACD,MAAMC,QAAQ,GAAGN,GAAG,KAAKO,SAAR,GAAoBP,GAApB,GAA0B,MAAMC,mBAAmB,CAACO,eAApB,CAAoCJ,IAApC,EAA0CL,GAA1C,EAA+C,IAA/C,CAAjD;;IACA,IAAIO,QAAQ,YAAYD,KAAxB,EAA+B;MAC3B,MAAMC,QAAN;IACH;;IACD,OAAO5B,cAAc,CAACJ,MAAM,CAACmC,MAAP,CAAcnC,MAAM,CAACmC,MAAP,CAAc;MAAEH;IAAF,CAAd,EAA4BR,IAA5B,CAAd,EAAiD;MAAEK,MAAM,EAAEL,IAAI,CAACK,MAAL,CAAYO,IAAtB;MAA4BT;IAA5B,CAAjD,CAAD,CAArB;EACH,CAVe,CAAhB;AAWH;;AACDzB,OAAO,CAACG,MAAR,GAAiBA,MAAjB;;AACA,SAASD,cAAT,CAAwBoB,IAAxB,EAA8B;EAC1B,OAAO3C,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;IAChD,MAAM;MAAEmD,QAAF;MAAYH,MAAZ;MAAoBQ,WAApB;MAAiCV,mBAAjC;MAAsDW,WAAW,GAAG,KAApE;MAA2EC,uBAAuB,GAAG,KAArG;MAA4GC,sBAAsB,GAAG;IAArI,IAAgJhB,IAAtJ;IACA,MAAMiB,UAAU,GAAGzB,WAAW,CAAC0B,aAAZ,CAA0BV,QAAQ,CAACW,MAAnC,CAAnB;IACA,MAAMC,eAAe,GAAG5B,WAAW,CAAC6B,YAAZ,CAAyBJ,UAAzB,CAAxB;IACA,MAAMK,KAAK,GAAGjB,MAAM,CAACkB,qBAAP,CAA6BH,eAA7B,CAAd;IACA,MAAMI,KAAK,GAAGlC,OAAO,CAACmC,cAAR,CAAuBpB,MAAM,CAACqB,WAAP,CAAmB,CAACb,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,KAAK,CAA7C,GAAiDA,WAAjD,GAA+DO,eAAe,KAAK5B,WAAW,CAACmC,eAAZ,CAA4BC,QAAhH,IAClDX,UAAU,KAAKnC,UAAU,CAAC+C,UAA1B,GACIxC,QAAQ,CAACyC,WADb,GAEI3C,MAAM,CAAC4C,SAHuC,GAIlD3C,MAAM,CAAC4C,SAJwB,EAIbf,UAJa,CAAvB,EAIuBZ,MAJvB,CAAd;IAKA,MAAM4B,aAAa,GAAGvC,OAAO,CAACwC,SAAR,CAAkBZ,KAAlB,EAAyBjB,MAAzB,EAAiC,eAAjC,EAAkDY,UAAlD,CAAtB;IACA,MAAMkB,UAAU,GAAGzC,OAAO,CAACwC,SAAR,CAAkBZ,KAAlB,EAAyBjB,MAAzB,EAAiC,YAAjC,EAA+CY,UAA/C,CAAnB;IACA,MAAMmB,GAAG,GAAG;MACRC,QAAQ,EAAE,EADF;MAERpB,UAAU,EAAEA,UAFJ;MAGRqB,QAAQ,EAAE,IAAIC,GAAJ,EAHF;MAIRC,YAAY,EAAE;IAJN,CAAZ;;IAMA,IAAIxB,sBAAJ,EAA4B;MACxBmB,UAAU,CAACM,IAAX,CAAgB;QACZC,QAAQ,EAAE,OADE;QAEZC,MAAM,EAAE,0BAFI;QAGZC,OAAO,EAAExB,eAAe,KAAK5B,WAAW,CAACmC,eAAZ,CAA4BkB,QAAhD,GACH/C,0BAA0B,CAACgD,sBAA3B,CAAkD,EAAlD,CADG,GAEH/C,0BAA0B,CAAC+C,sBAA3B,CAAkD,EAAlD;MALM,CAAhB;IAOH;;IACD,MAAMC,cAAc,GAAG,MAAM9D,SAAS,CAACyB,eAAV,CAA0B;MACnDsC,YAAY,EAAExC,QADqC;MAEnDyC,QAAQ,EAAEzB,KAAK,CAAC0B,cAFmC;MAGnD/C;IAHmD,CAA1B,CAA7B;IAKA,MAAMgD,aAAa,GAAGjE,UAAU,CAACkE,iBAAX,CAA6B,CAC/C,GAAGnB,aAD4C,EAE/C;MACIS,QAAQ,EAAE,OADd;MAEIC,MAAM,EAAE,SAFZ;MAGIC,OAAO,EAAES,iBAAiB,CAACjC,eAAD,EAAkBN,WAAlB,EAA+BC,uBAA/B,EAAwDP,QAAxD,EAAkEuC,cAAlE;IAH9B,CAF+C,EAO/C,GAAGZ,UAP4C,CAA7B,EAQnBX,KARmB,CAAtB;IASAjC,MAAM,CAAC+D,YAAP,CAAoB;MAChB9C,QADgB;MAEhByC,QAAQ,EAAEzB,KAAK,CAAC0B,cAFA;MAGhBK,kBAAkB,EAAEJ,aAHJ;MAIhBJ,cAJgB;MAKhBX;IALgB,CAApB;IAOA,OAAO;MACHvD,MAAM,EAAE2B,QADL;MAEH6B,QAAQ,EAAED,GAAG,CAACC,QAAJ,CAAamB,GAAb,CAAkBC,OAAD,IAAapD,MAAM,CAACqD,kBAAP,CAA0BD,OAA1B,CAA9B,CAFP;MAGHE,gBAAgB,EAAExD,mBAAmB,CAACyD,QAApB,EAHf;MAIHX,QAAQ,EAAEzB,KAAK,CAAC0B,cAJb;MAKHZ,QAAQ,EAAEF,GAAG,CAACE,QALX;MAMHE,YAAY,EAAEJ,GAAG,CAACI;IANf,CAAP;EAQH,CAxDe,CAAhB;AAyDH;;AACD9D,OAAO,CAACE,cAAR,GAAyBA,cAAzB;;AACA,SAASD,kBAAT,CAA4BkF,QAA5B,EAAsCC,OAAtC,EAA+C;EAC3C,QAAQA,OAAR;IACI,KAAKtE,WAAW,CAACmC,eAAZ,CAA4BC,QAAjC;MACI,QAAQiC,QAAR;QACI,KAAK,QAAL;UACI,OAAO,SAAP;;QACJ,KAAK,WAAL;UACI,OAAO,YAAP;;QACJ,KAAK,UAAL;UACI,OAAO,WAAP;;QACJ,KAAK,SAAL;UACI,OAAO,UAAP;;QACJ,KAAK,aAAL;UACI,OAAO,eAAP;;QACJ,KAAK,QAAL;UACI,OAAO,SAAP;;QACJ,KAAK,gBAAL;UACI,OAAO,iBAAP;;QACJ,KAAK,MAAL;UACI,OAAO,OAAP;;QACJ,KAAK,UAAL;UACI,OAAO,WAAP;;QACJ;UACI,OAAO,IAAP;MApBR;;IAsBJ,KAAKrE,WAAW,CAACmC,eAAZ,CAA4BkB,QAAjC;MACI,QAAQgB,QAAR;QACI,KAAK,QAAL;UACI,OAAO,aAAP;;QACJ,KAAK,WAAL;UACI,OAAO,YAAP;;QACJ,KAAK,UAAL;UACI,OAAO,WAAP;;QACJ;UACI,OAAO,IAAP;MARR;;EAzBR;AAoCH;;AACDnF,OAAO,CAACC,kBAAR,GAA6BA,kBAA7B,C,CACA;;AACA,SAAS0E,iBAAT,CAA2BS,OAA3B,EAAoChD,WAApC,EAAiDC,uBAAjD,EAA0EiC,YAA1E,EAAwFD,cAAxF,EAAwG;EACpG,IAAIgB,UAAJ;EACA,MAAMnB,OAAO,GAAG;IACZ3C,GAAG,EAAE;MACD+D,KAAK,CAACC,IAAD,EAAO7B,GAAP,EAAY8B,QAAZ,EAAsB;QACvB,IAAI,CAACA,QAAQ,CAACC,QAAV,IAAsBD,QAAQ,CAACD,IAAT,KAAkBxD,SAA5C,EAAuD;UACnDd,oBAAoB,CAACyE,mBAArB,CAAyCF,QAAzC,EAAmD9B,GAAG,CAACiC,MAAvD,EAA+DjC,GAAG,CAAC+B,QAAnE;UACA;QACH;;QACD,IAAID,QAAQ,CAACC,QAAT,CAAkBG,MAAlB,KAA6BtB,YAAY,CAACsB,MAA1C,IACAJ,QAAQ,CAACC,QAAT,CAAkBG,MAAlB,KAA6BlC,GAAG,CAAC+B,QAAJ,CAAaG,MAD1C,IAEAlC,GAAG,CAACmC,IAAJ,CAASC,IAAT,KAAkB,QAFlB,IAGA,CAAC1D,WAHL,EAGkB;UACd;QACH,CAVsB,CAWvB;;;QACA,IAAIC,uBAAuB,IAAIlB,SAAS,CAAC4E,oBAAV,CAA+BR,IAAI,CAACS,IAApC,CAA/B,EAA0E;UACtE;QACH;;QACD,MAAMC,aAAa,GAAGhG,kBAAkB,CAACyD,GAAG,CAACmC,IAAJ,CAASC,IAAV,EAAgBV,OAAhB,CAAxC;;QACA,IAAI,CAACa,aAAL,EAAoB;UAChBC,UAAU,CAACX,IAAD,EAAOC,QAAP,EAAiB9B,GAAjB,CAAV;QACH,CAFD,MAGK;UACD,IAAItB,WAAJ,EAAiB;YACb+D,aAAa,CAACF,aAAD,EAAgBT,QAAhB,EAA0B9B,GAA1B,CAAb;YACAwC,UAAU,CAACX,IAAD,EAAOC,QAAP,EAAiB9B,GAAjB,CAAV;UACH,CAHD,MAIK;YACD6B,IAAI,CAACS,IAAL,GAAYG,aAAa,CAACF,aAAD,EAAgBT,QAAhB,EAA0B9B,GAA1B,CAAzB;YACA0C,uBAAuB,CAACb,IAAD,EAAOC,QAAP,EAAiB9B,GAAjB,CAAvB;UACH;QACJ;MACJ;;IA9BA,CADO;IAiCZc,cAAc,EAAE;MACZ6B,KAAK,CAACC,IAAD,EAAO;QACR,IAAIlB,OAAO,KAAKtE,WAAW,CAACmC,eAAZ,CAA4BC,QAA5C,EAAsD;UAClDmC,UAAU,GAAGiB,IAAI,CAACjB,UAAL,GAAkBiB,IAAI,CAACjB,UAAL,IAAmB,EAAlD;QACH,CAFD,MAGK,IAAID,OAAO,KAAKtE,WAAW,CAACmC,eAAZ,CAA4BkB,QAA5C,EAAsD;UACvDkB,UAAU,GAAGiB,IAAb;QACH;MACJ;;IARW;EAjCJ,CAAhB;;EA4CA,IAAIlB,OAAO,KAAKtE,WAAW,CAACmC,eAAZ,CAA4BC,QAA5C,EAAsD;IAClDgB,OAAO,CAACqC,oBAAR,GAA+B;MAC3BjB,KAAK,CAACkB,OAAD,EAAU9C,GAAV,EAAe;QAChB,KAAK,MAAMoC,IAAX,IAAmBhG,MAAM,CAAC2G,IAAP,CAAYD,OAAZ,CAAnB,EAAyC;UACrC,MAAMR,IAAI,GAAGQ,OAAO,CAACV,IAAD,CAApB;UACA,MAAMN,QAAQ,GAAG9B,GAAG,CAACxE,OAAJ,CAAY;YAAE8G;UAAF,CAAZ,CAAjB;;UACA,IAAI,CAACR,QAAQ,CAACC,QAAV,IAAsBD,QAAQ,CAACD,IAAT,KAAkBxD,SAA5C,EAAuD;YACnDd,oBAAoB,CAACyE,mBAArB,CAAyCF,QAAzC,EAAmD9B,GAAG,CAACiC,MAAvD,EAA+DjC,GAAG,CAAC+B,QAAJ,CAAaiB,KAAb,CAAmBZ,IAAnB,CAA/D;YACA;UACH;;UACD,MAAMG,aAAa,GAAGhG,kBAAkB,CAAC,QAAD,EAAWmF,OAAX,CAAxC;;UACA,IAAIhD,WAAJ,EAAiB;YACb+D,aAAa,CAACF,aAAD,EAAgBT,QAAhB,EAA0B9B,GAA1B,CAAb;UACH,CAFD,MAGK;YACD8C,OAAO,CAACV,IAAD,CAAP,GAAgBK,aAAa,CAACF,aAAD,EAAgBT,QAAhB,EAA0B9B,GAA1B,CAA7B;UACH;QACJ;MACJ;;IAjB0B,CAA/B;EAmBH;;EACD,SAAS0C,uBAAT,CAAiCb,IAAjC,EAAuCC,QAAvC,EAAiD9B,GAAjD,EAAsD;IAClD,MAAMiD,QAAQ,GAAGpG,SAAS,CAACqG,SAAV,CAAoBlD,GAAG,CAAC+B,QAAJ,CAAaG,MAAb,CAAoBiB,WAAxC,EAAqDtB,IAAI,CAACS,IAA1D,CAAjB;IACA3B,cAAc,CAACyC,GAAf,CAAmBH,QAAnB,EAA6B;MACzB7E,QAAQ,EAAEwC,YADe;MAEzByC,QAAQ,EAAE,KAFe;MAGzBxB,IAAI,EAAEC,QAAQ,CAACD,IAHU;MAIzByB,WAAW,EAAEzB,IAAI,CAACS,IAJO;MAKzBR,QAAQ,EAAE;IALe,CAA7B;EAOH;;EACD,SAASU,UAAT,CAAoB3E,GAApB,EAAyBiE,QAAzB,EAAmC9B,GAAnC,EAAwC;IACpC,IAAI,CAACxC,OAAO,CAAC+F,aAAR,CAAsBzB,QAAQ,CAACD,IAA/B,CAAL,EAA2C;MACvC7B,GAAG,CAACwD,MAAJ,CAAWxD,GAAG,CAACyD,GAAf,IAAsB3B,QAAQ,CAACD,IAA/B;IACH,CAFD,MAGK;MACD;MACA,OAAOhE,GAAG,CAACyE,IAAX;MACAlG,MAAM,CAACmC,MAAP,CAAcV,GAAd,EAAmBiE,QAAQ,CAACD,IAA5B;IACH;EACJ;;EACD,SAASY,aAAT,CAAuBF,aAAvB,EAAsCmB,MAAtC,EAA8C1D,GAA9C,EAAmD;IAC/C2B,UAAU,CAACY,aAAD,CAAV,GAA4BZ,UAAU,CAACY,aAAD,CAAV,IAA6B,EAAzD;IACA,MAAMH,IAAI,GAAGuB,gBAAgB,CAACD,MAAD,EAASnB,aAAT,EAAwBvC,GAAxB,CAA7B;IACA2B,UAAU,CAACY,aAAD,CAAV,CAA0BH,IAA1B,IAAkCsB,MAAM,CAAC7B,IAAzC;;IACA,IAAIH,OAAO,KAAKtE,WAAW,CAACmC,eAAZ,CAA4BC,QAA5C,EAAsD;MAClD,OAAQ,gBAAe+C,aAAc,IAAGH,IAAK,EAA7C;IACH,CAFD,MAGK;MACD,OAAQ,KAAIG,aAAc,IAAGH,IAAK,EAAlC;IACH;EACJ;;EACD,SAASwB,iBAAT,CAA2B/B,IAA3B,EAAiC6B,MAAjC,EAAyC1D,GAAzC,EAA8C;IAC1C,IAAI6D,EAAJ;;IACA,IAAIxG,WAAW,CAACyG,KAAZ,CAAkBjC,IAAlB,KACA,CAAC,CAACgC,EAAE,GAAG7D,GAAG,CAACxE,OAAJ,CAAYqG,IAAZ,EAAkBE,QAAxB,MAAsC,IAAtC,IAA8C8B,EAAE,KAAK,KAAK,CAA1D,GAA8D,KAAK,CAAnE,GAAuEA,EAAE,CAACE,eAA3E,MAAgGL,MAAM,CAAC3B,QAAP,CAAgBgC,eADpH,EACqI;MACjI,OAAO,IAAP;IACH;;IACD,OAAOpH,OAAO,CAACkF,IAAD,EAAO6B,MAAM,CAAC7B,IAAd,CAAd;EACH;;EACD,SAAS8B,gBAAT,CAA0BD,MAA1B,EAAkCnB,aAAlC,EAAiDvC,GAAjD,EAAsD;IAClD,MAAM,CAACgE,OAAD,EAAUC,OAAV,IAAqB,CAACP,MAAM,CAAC3B,QAAP,CAAgBG,MAAhB,CAAuBiB,WAAxB,EAAqCO,MAAM,CAAC3B,QAAP,CAAgBkC,OAArD,CAA3B;IACA,MAAMC,eAAe,GAAGvC,UAAU,CAACY,aAAD,CAAlC;IACA,IAAIH,IAAI,GAAG,EAAX;IACA,MAAM+B,QAAQ,GAAGF,OAAO,CAACG,KAAR,CAAc,CAAd,EAAiBC,KAAjB,CAAuB,GAAvB,EAA4BC,MAA5B,CAAmCC,OAAnC,CAAjB,CAJkD,CAIY;;IAC9D,OAAOJ,QAAQ,CAACK,MAAT,GAAkB,CAAzB,EAA4B;MACxBpC,IAAI,GAAG+B,QAAQ,CAACM,GAAT,MAAkBrC,IAAI,GAAI,IAAGA,IAAK,EAAZ,GAAgB,EAAtC,CAAP;;MACA,IAAI,CAAC8B,eAAD,IACA,CAACA,eAAe,CAAC9B,IAAD,CADhB,IAEAwB,iBAAiB,CAACM,eAAe,CAAC9B,IAAD,CAAhB,EAAwBsB,MAAxB,EAAgC1D,GAAhC,CAFrB,EAE2D;QACvD,OAAOoC,IAAP;MACH;IACJ;;IACDA,IAAI,GAAG/E,WAAW,CAACqH,WAAZ,CAAwBV,OAAxB,KAAoC5B,IAAI,GAAI,IAAGA,IAAK,EAAZ,GAAgB,EAAxD,CAAP;;IACA,IAAI,CAAC8B,eAAe,CAAC9B,IAAD,CAAhB,IAA0BwB,iBAAiB,CAACM,eAAe,CAAC9B,IAAD,CAAhB,EAAwBsB,MAAxB,EAAgC1D,GAAhC,CAA/C,EAAqF;MACjF,OAAOoC,IAAP;IACH;;IACD,MAAMuC,QAAQ,GAAGvC,IAAjB;IACA,IAAIwC,QAAQ,GAAG,CAAf;;IACA,OAAOV,eAAe,CAAC9B,IAAD,CAAf,IAAyB,CAACwB,iBAAiB,CAACM,eAAe,CAAC9B,IAAD,CAAhB,EAAwBsB,MAAxB,EAAgC1D,GAAhC,CAAlD,EAAwF;MACpFoC,IAAI,GAAI,GAAEuC,QAAS,IAAGC,QAAS,EAA/B;MACAA,QAAQ;IACX;;IACD,IAAI,CAACV,eAAe,CAAC9B,IAAD,CAApB,EAA4B;MACxBpC,GAAG,CAACiC,MAAJ,CAAW;QACP4C,OAAO,EAAG,gFAA+EF,QAAS,OAAMvC,IAAK,GADtG;QAEPL,QAAQ,EAAE/B,GAAG,CAAC+B,QAFP;QAGP+C,aAAa,EAAE;MAHR,CAAX;IAKH;;IACD,OAAO1C,IAAP;EACH;;EACD,OAAO5B,OAAP;AACH"},"metadata":{},"sourceType":"script"}