{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import FuseScrollbars from'@fuse/core/FuseScrollbars';import{styled}from'@mui/material/styles';import Divider from'@mui/material/Divider';import{motion}from'framer-motion';import{memo,useMemo,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{getChat}from'./store/chatSlice';import{selectContacts,selectSelectedContactId}from'./store/contactsSlice';import{openChatPanel}from'./store/stateSlice';import ContactButton from'./ContactButton';import{selectChats}from'./store/chatsSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Root=styled(FuseScrollbars)(function(_ref){var theme=_ref.theme;return{background:theme.palette.background.paper};});function ContactList(props){var dispatch=useDispatch();var contacts=useSelector(selectContacts);var selectedContactId=useSelector(selectSelectedContactId);var chats=useSelector(selectChats);var contactListScroll=useRef(null);var scrollToTop=function scrollToTop(){contactListScroll.current.scrollTop=0;};return/*#__PURE__*/_jsx(Root,{className:\"flex shrink-0 flex-col overflow-y-auto py-8 overscroll-contain\",ref:contactListScroll,option:{suppressScrollX:true,wheelPropagation:false},children:useMemo(function(){var chatListContacts=contacts.length>0&&chats.length>0?chats.map(function(_chat){return _objectSpread(_objectSpread({},_chat),contacts.find(function(_contact){return _contact.id===_chat.contactId;}));}):[];var handleContactClick=function handleContactClick(contactId){dispatch(openChatPanel());dispatch(getChat(contactId));scrollToTop();};var container={show:{transition:{staggerChildren:0.05}}};var item={hidden:{opacity:0,scale:0.6},show:{opacity:1,scale:1}};return contacts.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(motion.div,{variants:container,initial:\"hidden\",animate:\"show\",className:\"flex flex-col shrink-0\",children:[chatListContacts&&chatListContacts.map(function(contact){return/*#__PURE__*/_jsx(motion.div,{variants:item,children:/*#__PURE__*/_jsx(ContactButton,{contact:contact,selectedContactId:selectedContactId,onClick:handleContactClick})},contact.id);}),/*#__PURE__*/_jsx(Divider,{className:\"mx-24 my-8\"}),contacts.map(function(contact){var chatContact=chats.find(function(_chat){return _chat.contactId===contact.id;});return!chatContact?/*#__PURE__*/_jsx(motion.div,{variants:item,children:/*#__PURE__*/_jsx(ContactButton,{contact:contact,selectedContactId:selectedContactId,onClick:handleContactClick})},contact.id):null;})]})});},[chats,contacts,dispatch,selectedContactId])});}export default/*#__PURE__*/memo(ContactList);","map":null,"metadata":{},"sourceType":"module"}