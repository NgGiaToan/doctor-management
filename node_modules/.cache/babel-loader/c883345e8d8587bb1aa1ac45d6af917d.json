{"ast":null,"code":"import _defineProperty from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _extraReducers;import _regeneratorRuntime from\"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{createTheme,getContrastRatio}from'@mui/material/styles';import{createAsyncThunk,createSelector,createSlice}from'@reduxjs/toolkit';import _ from'@lodash';import{defaultSettings,defaultThemeOptions,extendThemeWithMixins,getParsedQuerySettings,mustHaveThemeOptions}from'@fuse/default-settings';import settingsConfig from'app/configs/settingsConfig';import themeLayoutConfigs from'app/theme-layouts/themeLayoutConfigs';import{setUser,updateUserSettings}from'app/store/userSlice';import{darkPaletteText,lightPaletteText}from'app/configs/themesConfig';export var changeFuseTheme=function changeFuseTheme(theme){return function(dispatch,getState){var _getState=getState(),fuse=_getState.fuse;var settings=fuse.settings;var newSettings=_objectSpread(_objectSpread({},settings.current),{},{theme:{main:theme,navbar:theme,toolbar:theme,footer:theme}});dispatch(setDefaultSettings(newSettings));};};function getInitialSettings(){var defaultLayoutStyle=settingsConfig.layout&&settingsConfig.layout.style?settingsConfig.layout.style:'layout1';var layout={style:defaultLayoutStyle,config:themeLayoutConfigs[defaultLayoutStyle].defaults};return _.merge({},defaultSettings,{layout:layout},settingsConfig,getParsedQuerySettings());}export function generateSettings(_defaultSettings,_newSettings){var _themeLayoutConfigs$_,_newSettings$layout;var response=_.merge({},_defaultSettings,{layout:{config:(_themeLayoutConfigs$_=themeLayoutConfigs[_newSettings===null||_newSettings===void 0?void 0:(_newSettings$layout=_newSettings.layout)===null||_newSettings$layout===void 0?void 0:_newSettings$layout.style])===null||_themeLayoutConfigs$_===void 0?void 0:_themeLayoutConfigs$_.defaults}},_newSettings);return response;}var initialSettings=getInitialSettings();var initialState={initial:initialSettings,defaults:_.merge({},initialSettings),current:_.merge({},initialSettings)};export var setDefaultSettings=createAsyncThunk('fuse/settings/setDefaultSettings',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(val,_ref){var dispatch,getState,_getState2,fuse,settings,defaults;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch=_ref.dispatch,getState=_ref.getState;_getState2=getState(),fuse=_getState2.fuse;settings=fuse.settings;defaults=generateSettings(settings.defaults,val);dispatch(updateUserSettings(defaults));return _context.abrupt(\"return\",_objectSpread(_objectSpread({},settings),{},{defaults:_.merge({},defaults),current:_.merge({},defaults)}));case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());var settingsSlice=createSlice({name:'settings',initialState:initialState,reducers:{setSettings:function setSettings(state,action){var current=generateSettings(state.defaults,action.payload);return _objectSpread(_objectSpread({},state),{},{current:current});},setInitialSettings:function setInitialSettings(state,action){return _.merge({},initialState);},resetSettings:function resetSettings(state,action){return _objectSpread(_objectSpread({},state),{},{defaults:_.merge({},state.defaults),current:_.merge({},state.defaults)});}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,setDefaultSettings.fulfilled,function(state,action){return action.payload;}),_defineProperty(_extraReducers,setUser.fulfilled,function(state,action){var _action$payload,_action$payload$data;var defaults=generateSettings(state.defaults,(_action$payload=action.payload)===null||_action$payload===void 0?void 0:(_action$payload$data=_action$payload.data)===null||_action$payload$data===void 0?void 0:_action$payload$data.settings);return _objectSpread(_objectSpread({},state),{},{defaults:_.merge({},defaults),current:_.merge({},defaults)});}),_extraReducers)});var getDirection=function getDirection(state){return state.fuse.settings.current.direction;};var getMainTheme=function getMainTheme(state){return state.fuse.settings.current.theme.main;};var getNavbarTheme=function getNavbarTheme(state){return state.fuse.settings.current.theme.navbar;};var getToolbarTheme=function getToolbarTheme(state){return state.fuse.settings.current.theme.toolbar;};var getFooterTheme=function getFooterTheme(state){return state.fuse.settings.current.theme.footer;};function generateMuiTheme(theme,direction){var data=_.merge({},defaultThemeOptions,theme,mustHaveThemeOptions);var response=createTheme(_.merge({},data,{mixins:extendThemeWithMixins(data),direction:direction}));return response;}export var selectContrastMainTheme=function selectContrastMainTheme(bgColor){function isDark(color){return getContrastRatio(color,'#ffffff')>=3;}return isDark(bgColor)?selectMainThemeDark:selectMainThemeLight;};function changeThemeMode(theme,mode){var modes={dark:{palette:{mode:'dark',divider:'rgba(241,245,249,.12)',background:{paper:'#1E2125',default:'#121212'},text:darkPaletteText}},light:{palette:{mode:'light',divider:'#e2e8f0',background:{paper:'#FFFFFF',default:'#F7F7F7'},text:lightPaletteText}}};return _.merge({},theme,modes[mode]);}export var selectMainTheme=createSelector([getMainTheme,getDirection],function(theme,direction,id){return generateMuiTheme(theme,direction);});export var selectMainThemeDark=createSelector([getMainTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'dark'),direction);});export var selectMainThemeLight=createSelector([getMainTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'light'),direction);});export var selectNavbarTheme=createSelector([getNavbarTheme,getDirection],function(theme,direction){return generateMuiTheme(theme,direction);});export var selectNavbarThemeDark=createSelector([getNavbarTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'dark'),direction);});export var selectNavbarThemeLight=createSelector([getNavbarTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'light'),direction);});export var selectToolbarTheme=createSelector([getToolbarTheme,getDirection],function(theme,direction){return generateMuiTheme(theme,direction);});export var selectToolbarThemeDark=createSelector([getToolbarTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'dark'),direction);});export var selectToolbarThemeLight=createSelector([getToolbarTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'light'),direction);});export var selectFooterTheme=createSelector([getFooterTheme,getDirection],function(theme,direction){return generateMuiTheme(theme,direction);});export var selectFooterThemeDark=createSelector([getFooterTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'dark'),direction);});export var selectFooterThemeLight=createSelector([getFooterTheme,getDirection],function(theme,direction){return generateMuiTheme(changeThemeMode(theme,'light'),direction);});export var selectFuseCurrentSettings=function selectFuseCurrentSettings(_ref3){var fuse=_ref3.fuse;return fuse.settings.current;};export var selectFuseCurrentLayoutConfig=function selectFuseCurrentLayoutConfig(_ref4){var fuse=_ref4.fuse;return fuse.settings.current.layout.config;};export var selectFuseDefaultSettings=function selectFuseDefaultSettings(_ref5){var fuse=_ref5.fuse;return fuse.settings.defaults;};export var selectFuseThemesSettings=function selectFuseThemesSettings(_ref6){var fuse=_ref6.fuse;return fuse.settings.themes;};var _settingsSlice$action=settingsSlice.actions,resetSettings=_settingsSlice$action.resetSettings,setInitialSettings=_settingsSlice$action.setInitialSettings,setSettings=_settingsSlice$action.setSettings;export{resetSettings,setInitialSettings,setSettings};export default settingsSlice.reducer;","map":null,"metadata":{},"sourceType":"module"}