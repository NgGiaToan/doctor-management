{"ast":null,"code":"import _slicedToArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import withReducer from'app/store/withReducer';import{useState}from'react';import{DragDropContext,Droppable}from'react-beautiful-dnd';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router-dom';import withRouter from'@fuse/core/withRouter';import{useDeepCompareEffect}from'@fuse/hooks';import FusePageSimple from'@fuse/core/FusePageSimple';import useThemeMediaQuery from'@fuse/hooks/useThemeMediaQuery';import reducer from'../store';import{getBoard,reorderCard,reorderList,resetBoard,selectBoard}from'../store/boardSlice';import BoardAddList from'./board-list/BoardAddList';import BoardList from'./board-list/BoardList';import BoardCardDialog from'./dialogs/card/BoardCardDialog';import BoardSettingsSidebar from'./sidebars/settings/BoardSettingsSidebar';import{getCards}from'../store/cardsSlice';import{getLists}from'../store/listsSlice';import{getLabels}from'../store/labelsSlice';import BoardHeader from'./BoardHeader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Board(props){var dispatch=useDispatch();var board=useSelector(selectBoard);var isMobile=useThemeMediaQuery(function(theme){return theme.breakpoints.down('lg');});var routeParams=useParams();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sidebarOpen=_useState2[0],setSidebarOpen=_useState2[1];useDeepCompareEffect(function(){dispatch(getBoard(routeParams.boardId));dispatch(getCards(routeParams.boardId));dispatch(getLists(routeParams.boardId));dispatch(getLabels(routeParams.boardId));return function(){dispatch(resetBoard());};},[dispatch,routeParams]);function onDragEnd(result){var source=result.source,destination=result.destination;// dropped nowhere\nif(!destination){return;}// did not move anywhere - can bail early\nif(source.droppableId===destination.droppableId&&source.index===destination.index){return;}// reordering list\nif(result.type==='list'){dispatch(reorderList(result));}// reordering card\nif(result.type==='card'){dispatch(reorderCard(result));}}if(!board){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FusePageSimple,{header:/*#__PURE__*/_jsx(BoardHeader,{onSetSidebarOpen:setSidebarOpen}),content:/*#__PURE__*/_jsx(_Fragment,{children:(board===null||board===void 0?void 0:board.lists)&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-1 overflow-x-auto overflow-y-hidden h-full\",children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"list\",type:\"list\",direction:\"horizontal\",children:function children(provided){return/*#__PURE__*/_jsxs(\"div\",{ref:provided.innerRef,className:\"flex py-16 md:py-24 px-8 md:px-12\",children:[board===null||board===void 0?void 0:board.lists.map(function(list,index){return/*#__PURE__*/_jsx(BoardList,{listId:list.id,cardIds:list.cards,index:index},list.id);}),provided.placeholder,/*#__PURE__*/_jsx(BoardAddList,{})]});}})})})}),rightSidebarOpen:sidebarOpen,rightSidebarContent:/*#__PURE__*/_jsx(BoardSettingsSidebar,{onSetSidebarOpen:setSidebarOpen}),rightSidebarOnClose:function rightSidebarOnClose(){return setSidebarOpen(false);},scroll:isMobile?'normal':'content',rightSidebarWidth:320}),/*#__PURE__*/_jsx(BoardCardDialog,{})]});}export default withReducer('scrumboardApp',reducer)(withRouter(Board));","map":null,"metadata":{},"sourceType":"module"}