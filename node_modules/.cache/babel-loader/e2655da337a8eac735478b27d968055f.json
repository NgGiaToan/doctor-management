{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initRules = void 0;\n\nconst utils_1 = require(\"../utils\");\n\nfunction initRules(rules, config, type, oasVersion) {\n  return rules.flatMap(ruleset => Object.keys(ruleset).map(ruleId => {\n    const rule = ruleset[ruleId];\n    const ruleSettings = type === 'rules' ? config.getRuleSettings(ruleId, oasVersion) : type === 'preprocessors' ? config.getPreprocessorSettings(ruleId, oasVersion) : config.getDecoratorSettings(ruleId, oasVersion);\n\n    if (ruleSettings.severity === 'off') {\n      return undefined;\n    }\n\n    const visitors = rule(ruleSettings);\n\n    if (Array.isArray(visitors)) {\n      return visitors.map(visitor => ({\n        severity: ruleSettings.severity,\n        ruleId,\n        visitor: visitor\n      }));\n    }\n\n    return {\n      severity: ruleSettings.severity,\n      ruleId,\n      visitor: visitors // note: actually it is only one visitor object\n\n    };\n  })).flatMap(visitor => visitor).filter(utils_1.notUndefined);\n}\n\nexports.initRules = initRules;","map":{"version":3,"names":["Object","defineProperty","exports","value","initRules","utils_1","require","rules","config","type","oasVersion","flatMap","ruleset","keys","map","ruleId","rule","ruleSettings","getRuleSettings","getPreprocessorSettings","getDecoratorSettings","severity","undefined","visitors","Array","isArray","visitor","filter","notUndefined"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@redocly/openapi-core/lib/config/rules.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initRules = void 0;\nconst utils_1 = require(\"../utils\");\nfunction initRules(rules, config, type, oasVersion) {\n    return rules\n        .flatMap((ruleset) => Object.keys(ruleset).map((ruleId) => {\n        const rule = ruleset[ruleId];\n        const ruleSettings = type === 'rules'\n            ? config.getRuleSettings(ruleId, oasVersion)\n            : type === 'preprocessors'\n                ? config.getPreprocessorSettings(ruleId, oasVersion)\n                : config.getDecoratorSettings(ruleId, oasVersion);\n        if (ruleSettings.severity === 'off') {\n            return undefined;\n        }\n        const visitors = rule(ruleSettings);\n        if (Array.isArray(visitors)) {\n            return visitors.map((visitor) => ({\n                severity: ruleSettings.severity,\n                ruleId,\n                visitor: visitor,\n            }));\n        }\n        return {\n            severity: ruleSettings.severity,\n            ruleId,\n            visitor: visitors, // note: actually it is only one visitor object\n        };\n    }))\n        .flatMap(visitor => visitor)\n        .filter(utils_1.notUndefined);\n}\nexports.initRules = initRules;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,SAAR,GAAoB,KAAK,CAAzB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,SAASF,SAAT,CAAmBG,KAAnB,EAA0BC,MAA1B,EAAkCC,IAAlC,EAAwCC,UAAxC,EAAoD;EAChD,OAAOH,KAAK,CACPI,OADE,CACOC,OAAD,IAAaZ,MAAM,CAACa,IAAP,CAAYD,OAAZ,EAAqBE,GAArB,CAA0BC,MAAD,IAAY;IAC3D,MAAMC,IAAI,GAAGJ,OAAO,CAACG,MAAD,CAApB;IACA,MAAME,YAAY,GAAGR,IAAI,KAAK,OAAT,GACfD,MAAM,CAACU,eAAP,CAAuBH,MAAvB,EAA+BL,UAA/B,CADe,GAEfD,IAAI,KAAK,eAAT,GACID,MAAM,CAACW,uBAAP,CAA+BJ,MAA/B,EAAuCL,UAAvC,CADJ,GAEIF,MAAM,CAACY,oBAAP,CAA4BL,MAA5B,EAAoCL,UAApC,CAJV;;IAKA,IAAIO,YAAY,CAACI,QAAb,KAA0B,KAA9B,EAAqC;MACjC,OAAOC,SAAP;IACH;;IACD,MAAMC,QAAQ,GAAGP,IAAI,CAACC,YAAD,CAArB;;IACA,IAAIO,KAAK,CAACC,OAAN,CAAcF,QAAd,CAAJ,EAA6B;MACzB,OAAOA,QAAQ,CAACT,GAAT,CAAcY,OAAD,KAAc;QAC9BL,QAAQ,EAAEJ,YAAY,CAACI,QADO;QAE9BN,MAF8B;QAG9BW,OAAO,EAAEA;MAHqB,CAAd,CAAb,CAAP;IAKH;;IACD,OAAO;MACHL,QAAQ,EAAEJ,YAAY,CAACI,QADpB;MAEHN,MAFG;MAGHW,OAAO,EAAEH,QAHN,CAGgB;;IAHhB,CAAP;EAKH,CAvByB,CADnB,EAyBFZ,OAzBE,CAyBMe,OAAO,IAAIA,OAzBjB,EA0BFC,MA1BE,CA0BKtB,OAAO,CAACuB,YA1Bb,CAAP;AA2BH;;AACD1B,OAAO,CAACE,SAAR,GAAoBA,SAApB"},"metadata":{},"sourceType":"script"}