{"ast":null,"code":"import _slicedToArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Avatar from'@mui/material/Avatar';import Typography from'@mui/material/Typography';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router-dom';import withRouter from'@fuse/core/withRouter';import{useDeepCompareEffect}from'@fuse/hooks';import Paper from'@mui/material/Paper';import{Box}from'@mui/system';import Button from'@mui/material/Button';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import{selectLabelsEntities}from'../store/labelsSlice';import{getMail,selectMail}from'../store/mailSlice';import MailLabel from'./MailLabel';import MailToolbar from'./MailToolbar';import MailAttachment from'./MailAttachment';import MailInfo from'./MailInfo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MailDetails(props){var _mail$cc,_mail$bcc;var dispatch=useDispatch();var mail=useSelector(selectMail);var labels=useSelector(selectLabelsEntities);var routeParams=useParams();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDetails=_useState2[0],setShowDetails=_useState2[1];useDeepCompareEffect(function(){dispatch(getMail(routeParams));},[dispatch,routeParams]);if(!mail){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"z-10 relative flex flex-col flex-0 w-full border-b\",children:[/*#__PURE__*/_jsx(MailToolbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center py-20 px-24\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-auto my-4 mr-16 text-2xl\",children:mail.subject}),mail.labels&&mail.labels.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap items-center justify-start -mx-4\",children:mail.labels.map(function(labelId){return/*#__PURE__*/_jsx(MailLabel,{className:\"m-4\",labelId:labelId},labelId);})})]})]}),/*#__PURE__*/_jsx(Box,{sx:{backgroundColor:'background.default'},className:\"flex flex-col flex-auto shrink-0 lg:shrink p-12 lg:overflow-y-auto\",children:/*#__PURE__*/_jsxs(Paper,{className:\"flex flex-col flex-0 w-full shadow rounded-2xl overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col py-32 px-24\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center w-full\",children:[/*#__PURE__*/_jsx(Avatar,{src:mail.from.avatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-16 min-w-0\",children:[/*#__PURE__*/_jsx(Typography,{className:\"font-semibold truncate\",children:mail.from.contact.split('<')[0].trim()}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-8 leading-5\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"to\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-4 font-semibold\",children:\"me\"}),((_mail$cc=mail.cc)===null||_mail$cc===void 0?void 0:_mail$cc.length)+((_mail$bcc=mail.bcc)===null||_mail$bcc===void 0?void 0:_mail$bcc.length)>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-4\",children:\"and\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-4 font-semibold\",children:mail.cc.length+mail.bcc.length}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-4 font-semibold\",children:mail.cc.length+mail.bcc.length===1?'other':'others'})]}),/*#__PURE__*/_jsx(MailInfo,{})]})]})]}),/*#__PURE__*/_jsx(Typography,{className:\"flex mt-32 whitespace-pre-line leading-relaxed\",variant:\"body2\",dangerouslySetInnerHTML:{__html:mail.content}}),mail.attachments&&mail.attachments.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-48\",children:[/*#__PURE__*/_jsx(FuseSvgIcon,{size:20,children:\"heroicons-solid:paper-clip\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-8 font-semibold\",children:[mail.attachments.length,\" Attachments\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap -m-12 mt-12\",children:mail.attachments.map(function(attachment,index){return/*#__PURE__*/_jsx(MailAttachment,{attachment:attachment},index);})})]})]}),/*#__PURE__*/_jsx(Box,{className:\"flex w-full p-24 border-t\",sx:{backgroundColor:'background.default'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap w-full -m-8\",children:[/*#__PURE__*/_jsx(Button,{className:\"m-8\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(FuseSvgIcon,{size:20,children:\"heroicons-solid:reply\"}),variant:\"outlined\",children:\"Reply\"}),/*#__PURE__*/_jsx(Button,{className:\"m-8\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(FuseSvgIcon,{size:20,children:\"heroicons-solid:reply\"}),variant:\"outlined\",children:\"Reply All\"}),/*#__PURE__*/_jsx(Button,{className:\"m-8\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(FuseSvgIcon,{size:20,children:\"heroicons-solid:chevron-double-right\"}),variant:\"outlined\",children:\"Forward\"})]})})]})})]});}export default withRouter(MailDetails);","map":null,"metadata":{},"sourceType":"module"}