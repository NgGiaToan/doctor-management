{"ast":null,"code":"import _ from '@lodash';\nimport FuseUtils from '@fuse/utils';\nimport mockApi from '../mock-api.json';\nimport mock from '../mock';\nconst contactsDB = mockApi.components.examples.contacts.value;\nconst tagsDB = mockApi.components.examples.contacts_tags.value;\nmock.onGet('/api/contacts').reply(config => {\n  return [200, contactsDB];\n});\nmock.onPost('/api/contacts').reply(_ref => {\n  let {\n    data\n  } = _ref;\n  const newContact = {\n    id: FuseUtils.generateGUID(),\n    ...JSON.parse(data)\n  };\n  contactsDB.push(newContact);\n  return [200, newContact];\n});\nmock.onGet(/\\/api\\/contacts\\/(?!tags)[^/]+/).reply(config => {\n  const {\n    id\n  } = config.url.match(/\\/api\\/contacts\\/(?<id>[^/]+)/).groups;\n\n  const contact = _.find(contactsDB, {\n    id\n  });\n\n  if (contact) {\n    return [200, contact];\n  }\n\n  return [404, 'Requested task do not exist.'];\n});\nmock.onPut(/\\/api\\/contacts\\/[^/]+/).reply(_ref2 => {\n  let {\n    url,\n    data\n  } = _ref2;\n  const {\n    id\n  } = url.match(/\\/api\\/contacts\\/(?<id>[^/]+)/).groups;\n\n  _.assign(_.find(contactsDB, {\n    id\n  }), JSON.parse(data));\n\n  return [200, _.find(contactsDB, {\n    id\n  })];\n});\nmock.onDelete(/\\/api\\/contacts\\/[^/]+/).reply(config => {\n  const {\n    id\n  } = config.url.match(/\\/api\\/contacts\\/(?<id>[^/]+)/).groups;\n\n  _.remove(contactsDB, {\n    id\n  });\n\n  return [200, id];\n});\nmock.onGet('/api/contacts/tags').reply(config => {\n  return [200, tagsDB];\n});","map":{"version":3,"names":["_","FuseUtils","mockApi","mock","contactsDB","components","examples","contacts","value","tagsDB","contacts_tags","onGet","reply","config","onPost","data","newContact","id","generateGUID","JSON","parse","push","url","match","groups","contact","find","onPut","assign","onDelete","remove"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/@mock-api/api/contacts-api.js"],"sourcesContent":["import _ from '@lodash';\r\nimport FuseUtils from '@fuse/utils';\r\nimport mockApi from '../mock-api.json';\r\nimport mock from '../mock';\r\n\r\nconst contactsDB = mockApi.components.examples.contacts.value;\r\nconst tagsDB = mockApi.components.examples.contacts_tags.value;\r\n\r\nmock.onGet('/api/contacts').reply((config) => {\r\n  return [200, contactsDB];\r\n});\r\n\r\nmock.onPost('/api/contacts').reply(({ data }) => {\r\n  const newContact = { id: FuseUtils.generateGUID(), ...JSON.parse(data) };\r\n\r\n  contactsDB.push(newContact);\r\n\r\n  return [200, newContact];\r\n});\r\n\r\nmock.onGet(/\\/api\\/contacts\\/(?!tags)[^/]+/).reply((config) => {\r\n  const { id } = config.url.match(/\\/api\\/contacts\\/(?<id>[^/]+)/).groups;\r\n  const contact = _.find(contactsDB, { id });\r\n\r\n  if (contact) {\r\n    return [200, contact];\r\n  }\r\n\r\n  return [404, 'Requested task do not exist.'];\r\n});\r\n\r\nmock.onPut(/\\/api\\/contacts\\/[^/]+/).reply(({ url, data }) => {\r\n  const { id } = url.match(/\\/api\\/contacts\\/(?<id>[^/]+)/).groups;\r\n\r\n  _.assign(_.find(contactsDB, { id }), JSON.parse(data));\r\n\r\n  return [200, _.find(contactsDB, { id })];\r\n});\r\n\r\nmock.onDelete(/\\/api\\/contacts\\/[^/]+/).reply((config) => {\r\n  const { id } = config.url.match(/\\/api\\/contacts\\/(?<id>[^/]+)/).groups;\r\n\r\n  _.remove(contactsDB, { id });\r\n\r\n  return [200, id];\r\n});\r\n\r\nmock.onGet('/api/contacts/tags').reply((config) => {\r\n  return [200, tagsDB];\r\n});\r\n"],"mappings":"AAAA,OAAOA,CAAP,MAAc,SAAd;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,MAAMC,UAAU,GAAGF,OAAO,CAACG,UAAR,CAAmBC,QAAnB,CAA4BC,QAA5B,CAAqCC,KAAxD;AACA,MAAMC,MAAM,GAAGP,OAAO,CAACG,UAAR,CAAmBC,QAAnB,CAA4BI,aAA5B,CAA0CF,KAAzD;AAEAL,IAAI,CAACQ,KAAL,CAAW,eAAX,EAA4BC,KAA5B,CAAmCC,MAAD,IAAY;EAC5C,OAAO,CAAC,GAAD,EAAMT,UAAN,CAAP;AACD,CAFD;AAIAD,IAAI,CAACW,MAAL,CAAY,eAAZ,EAA6BF,KAA7B,CAAmC,QAAc;EAAA,IAAb;IAAEG;EAAF,CAAa;EAC/C,MAAMC,UAAU,GAAG;IAAEC,EAAE,EAAEhB,SAAS,CAACiB,YAAV,EAAN;IAAgC,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX;EAAnC,CAAnB;EAEAX,UAAU,CAACiB,IAAX,CAAgBL,UAAhB;EAEA,OAAO,CAAC,GAAD,EAAMA,UAAN,CAAP;AACD,CAND;AAQAb,IAAI,CAACQ,KAAL,CAAW,gCAAX,EAA6CC,KAA7C,CAAoDC,MAAD,IAAY;EAC7D,MAAM;IAAEI;EAAF,IAASJ,MAAM,CAACS,GAAP,CAAWC,KAAX,CAAiB,+BAAjB,EAAkDC,MAAjE;;EACA,MAAMC,OAAO,GAAGzB,CAAC,CAAC0B,IAAF,CAAOtB,UAAP,EAAmB;IAAEa;EAAF,CAAnB,CAAhB;;EAEA,IAAIQ,OAAJ,EAAa;IACX,OAAO,CAAC,GAAD,EAAMA,OAAN,CAAP;EACD;;EAED,OAAO,CAAC,GAAD,EAAM,8BAAN,CAAP;AACD,CATD;AAWAtB,IAAI,CAACwB,KAAL,CAAW,wBAAX,EAAqCf,KAArC,CAA2C,SAAmB;EAAA,IAAlB;IAAEU,GAAF;IAAOP;EAAP,CAAkB;EAC5D,MAAM;IAAEE;EAAF,IAASK,GAAG,CAACC,KAAJ,CAAU,+BAAV,EAA2CC,MAA1D;;EAEAxB,CAAC,CAAC4B,MAAF,CAAS5B,CAAC,CAAC0B,IAAF,CAAOtB,UAAP,EAAmB;IAAEa;EAAF,CAAnB,CAAT,EAAqCE,IAAI,CAACC,KAAL,CAAWL,IAAX,CAArC;;EAEA,OAAO,CAAC,GAAD,EAAMf,CAAC,CAAC0B,IAAF,CAAOtB,UAAP,EAAmB;IAAEa;EAAF,CAAnB,CAAN,CAAP;AACD,CAND;AAQAd,IAAI,CAAC0B,QAAL,CAAc,wBAAd,EAAwCjB,KAAxC,CAA+CC,MAAD,IAAY;EACxD,MAAM;IAAEI;EAAF,IAASJ,MAAM,CAACS,GAAP,CAAWC,KAAX,CAAiB,+BAAjB,EAAkDC,MAAjE;;EAEAxB,CAAC,CAAC8B,MAAF,CAAS1B,UAAT,EAAqB;IAAEa;EAAF,CAArB;;EAEA,OAAO,CAAC,GAAD,EAAMA,EAAN,CAAP;AACD,CAND;AAQAd,IAAI,CAACQ,KAAL,CAAW,oBAAX,EAAiCC,KAAjC,CAAwCC,MAAD,IAAY;EACjD,OAAO,CAAC,GAAD,EAAMJ,MAAN,CAAP;AACD,CAFD"},"metadata":{},"sourceType":"module"}