{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initRules = void 0;\n\nvar utils_1 = require(\"../utils\");\n\nfunction initRules(rules, config, type, oasVersion) {\n  return rules.flatMap(function (ruleset) {\n    return Object.keys(ruleset).map(function (ruleId) {\n      var rule = ruleset[ruleId];\n      var ruleSettings = type === 'rules' ? config.getRuleSettings(ruleId, oasVersion) : type === 'preprocessors' ? config.getPreprocessorSettings(ruleId, oasVersion) : config.getDecoratorSettings(ruleId, oasVersion);\n\n      if (ruleSettings.severity === 'off') {\n        return undefined;\n      }\n\n      var visitors = rule(ruleSettings);\n\n      if (Array.isArray(visitors)) {\n        return visitors.map(function (visitor) {\n          return {\n            severity: ruleSettings.severity,\n            ruleId: ruleId,\n            visitor: visitor\n          };\n        });\n      }\n\n      return {\n        severity: ruleSettings.severity,\n        ruleId: ruleId,\n        visitor: visitors // note: actually it is only one visitor object\n\n      };\n    });\n  }).flatMap(function (visitor) {\n    return visitor;\n  }).filter(utils_1.notUndefined);\n}\n\nexports.initRules = initRules;","map":null,"metadata":{},"sourceType":"script"}