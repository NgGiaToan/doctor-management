{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\app\\\\theme-layouts\\\\shared-components\\\\chatPanel\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport FuseScrollbars from '@fuse/core/FuseScrollbars';\nimport { styled } from '@mui/material/styles';\nimport IconButton from '@mui/material/IconButton';\nimport Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\nimport clsx from 'clsx';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport InputBase from '@mui/material/InputBase';\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\nimport { selectSelectedContactId } from './store/contactsSlice';\nimport { selectChat, sendMessage } from './store/chatSlice';\nimport { selectUser } from './store/userSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledMessageRow = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '&.contact': {\n      '& .bubble': {\n        backgroundColor: theme.palette.secondary.light,\n        color: theme.palette.secondary.contrastText,\n        borderTopLeftRadius: 5,\n        borderBottomLeftRadius: 5,\n        borderTopRightRadius: 20,\n        borderBottomRightRadius: 20,\n        '& .time': {\n          marginLeft: 12\n        }\n      },\n      '&.first-of-group': {\n        '& .bubble': {\n          borderTopLeftRadius: 20\n        }\n      },\n      '&.last-of-group': {\n        '& .bubble': {\n          borderBottomLeftRadius: 20\n        }\n      }\n    },\n    '&.me': {\n      paddingLeft: 40,\n      '& .bubble': {\n        marginLeft: 'auto',\n        backgroundColor: theme.palette.primary.light,\n        color: theme.palette.primary.contrastText,\n        borderTopLeftRadius: 20,\n        borderBottomLeftRadius: 20,\n        borderTopRightRadius: 5,\n        borderBottomRightRadius: 5,\n        '& .time': {\n          justifyContent: 'flex-end',\n          right: 0,\n          marginRight: 12\n        }\n      },\n      '&.first-of-group': {\n        '& .bubble': {\n          borderTopRightRadius: 20\n        }\n      },\n      '&.last-of-group': {\n        '& .bubble': {\n          borderBottomRightRadius: 20\n        }\n      }\n    },\n    '&.contact + .me, &.me + .contact': {\n      paddingTop: 20,\n      marginTop: 20\n    },\n    '&.first-of-group': {\n      '& .bubble': {\n        borderTopLeftRadius: 20,\n        paddingTop: 13\n      }\n    },\n    '&.last-of-group': {\n      '& .bubble': {\n        borderBottomLeftRadius: 20,\n        paddingBottom: 13,\n        '& .time': {\n          display: 'flex'\n        }\n      }\n    }\n  };\n});\n_c = StyledMessageRow;\n\nfunction Chat(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const selectedContactId = useSelector(selectSelectedContactId);\n  const chat = useSelector(selectChat);\n  const user = useSelector(selectUser);\n  const chatScroll = useRef(null);\n  const [messageText, setMessageText] = useState('');\n  useEffect(() => {\n    scrollToBottom();\n  }, [chat]);\n\n  function scrollToBottom() {\n    if (!chatScroll.current) {\n      return;\n    }\n\n    chatScroll.current.scrollTo({\n      top: chatScroll.current.scrollHeight,\n      behavior: 'smooth'\n    });\n  }\n\n  const onInputChange = ev => {\n    setMessageText(ev.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: clsx('flex flex-col relative pb-64 shadow', props.className),\n    sx: {\n      background: theme => theme.palette.background.default\n    },\n    children: [/*#__PURE__*/_jsxDEV(FuseScrollbars, {\n      ref: chatScroll,\n      className: \"flex flex-1 flex-col overflow-y-auto overscroll-contain\",\n      option: {\n        suppressScrollX: true,\n        wheelPropagation: false\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col pt-16\",\n        children: useMemo(() => {\n          function isFirstMessageOfGroup(item, i) {\n            return i === 0 || chat[i - 1] && chat[i - 1].contactId !== item.contactId;\n          }\n\n          function isLastMessageOfGroup(item, i) {\n            return i === chat.length - 1 || chat[i + 1] && chat[i + 1].contactId !== item.contactId;\n          }\n\n          return (chat === null || chat === void 0 ? void 0 : chat.length) > 0 ? chat.map((item, i) => {\n            return /*#__PURE__*/_jsxDEV(StyledMessageRow, {\n              className: clsx('flex flex-col grow-0 shrink-0 items-start justify-end relative px-16 pb-4', item.contactId === user.id ? 'me' : 'contact', {\n                'first-of-group': isFirstMessageOfGroup(item, i)\n              }, {\n                'last-of-group': isLastMessageOfGroup(item, i)\n              }, i + 1 === chat.length && 'pb-72'),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bubble flex relative items-center justify-center p-12 max-w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"leading-tight whitespace-pre-wrap\",\n                  children: item.value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  className: \"time absolute hidden w-full text-11 mt-8 -mb-24 ltr:left-0 rtl:right-0 bottom-0 whitespace-nowrap\",\n                  color: \"text.secondary\",\n                  children: formatDistanceToNow(new Date(item.createdAt), {\n                    addSuffix: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 23\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 21\n            }, this);\n          }) : null;\n        }, [chat, user === null || user === void 0 ? void 0 : user.id])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), (chat === null || chat === void 0 ? void 0 : chat.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col flex-1 items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n            size: 128,\n            color: \"disabled\",\n            children: \"heroicons-outline:chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"px-16 pb-24 text-center\",\n          color: \"text.secondary\",\n          children: \"Start a conversation by typing your message below.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), useMemo(() => {\n      const onMessageSubmit = ev => {\n        ev.preventDefault();\n\n        if (messageText === '') {\n          return;\n        }\n\n        dispatch(sendMessage({\n          messageText,\n          chatId: chat.id,\n          contactId: selectedContactId\n        })).then(() => {\n          setMessageText('');\n        });\n      };\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: chat && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onMessageSubmit,\n          className: \"pb-16 px-8 absolute bottom-0 left-0 right-0\",\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            className: \"rounded-24 flex items-center relative shadow\",\n            children: [/*#__PURE__*/_jsxDEV(InputBase, {\n              autoFocus: false,\n              id: \"message-input\",\n              className: \"flex flex-1 grow shrink-0 mx-16 ltr:mr-48 rtl:ml-48 my-8\",\n              placeholder: \"Type your message\",\n              onChange: onInputChange,\n              value: messageText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              className: \"absolute ltr:right-0 rtl:left-0 top-0\",\n              type: \"submit\",\n              size: \"large\",\n              children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                className: \"rotate-90\",\n                color: \"action\",\n                children: \"heroicons-outline:paper-airplane\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }, this)\n      }, void 0, false);\n    }, [chat, dispatch, messageText, selectedContactId])]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Chat, \"YTK7pBk1CqTDBiJc1fBU2XFDISQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c2 = Chat;\nexport default Chat;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledMessageRow\");\n$RefreshReg$(_c2, \"Chat\");","map":{"version":3,"names":["FuseScrollbars","styled","IconButton","Paper","Typography","clsx","formatDistanceToNow","useEffect","useMemo","useRef","useState","useDispatch","useSelector","InputBase","FuseSvgIcon","selectSelectedContactId","selectChat","sendMessage","selectUser","StyledMessageRow","theme","backgroundColor","palette","secondary","light","color","contrastText","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","marginLeft","paddingLeft","primary","justifyContent","right","marginRight","paddingTop","marginTop","paddingBottom","display","Chat","props","dispatch","selectedContactId","chat","user","chatScroll","messageText","setMessageText","scrollToBottom","current","scrollTo","top","scrollHeight","behavior","onInputChange","ev","target","value","className","background","default","suppressScrollX","wheelPropagation","isFirstMessageOfGroup","item","i","contactId","isLastMessageOfGroup","length","map","id","Date","createdAt","addSuffix","onMessageSubmit","preventDefault","chatId","then"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/theme-layouts/shared-components/chatPanel/Chat.js"],"sourcesContent":["import FuseScrollbars from '@fuse/core/FuseScrollbars';\r\nimport { styled } from '@mui/material/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport clsx from 'clsx';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport InputBase from '@mui/material/InputBase';\r\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\r\nimport { selectSelectedContactId } from './store/contactsSlice';\r\nimport { selectChat, sendMessage } from './store/chatSlice';\r\nimport { selectUser } from './store/userSlice';\r\n\r\nconst StyledMessageRow = styled('div')(({ theme }) => ({\r\n  '&.contact': {\r\n    '& .bubble': {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      color: theme.palette.secondary.contrastText,\r\n      borderTopLeftRadius: 5,\r\n      borderBottomLeftRadius: 5,\r\n      borderTopRightRadius: 20,\r\n      borderBottomRightRadius: 20,\r\n      '& .time': {\r\n        marginLeft: 12,\r\n      },\r\n    },\r\n    '&.first-of-group': {\r\n      '& .bubble': {\r\n        borderTopLeftRadius: 20,\r\n      },\r\n    },\r\n    '&.last-of-group': {\r\n      '& .bubble': {\r\n        borderBottomLeftRadius: 20,\r\n      },\r\n    },\r\n  },\r\n  '&.me': {\r\n    paddingLeft: 40,\r\n\r\n    '& .bubble': {\r\n      marginLeft: 'auto',\r\n      backgroundColor: theme.palette.primary.light,\r\n      color: theme.palette.primary.contrastText,\r\n      borderTopLeftRadius: 20,\r\n      borderBottomLeftRadius: 20,\r\n      borderTopRightRadius: 5,\r\n      borderBottomRightRadius: 5,\r\n      '& .time': {\r\n        justifyContent: 'flex-end',\r\n        right: 0,\r\n        marginRight: 12,\r\n      },\r\n    },\r\n    '&.first-of-group': {\r\n      '& .bubble': {\r\n        borderTopRightRadius: 20,\r\n      },\r\n    },\r\n\r\n    '&.last-of-group': {\r\n      '& .bubble': {\r\n        borderBottomRightRadius: 20,\r\n      },\r\n    },\r\n  },\r\n  '&.contact + .me, &.me + .contact': {\r\n    paddingTop: 20,\r\n    marginTop: 20,\r\n  },\r\n  '&.first-of-group': {\r\n    '& .bubble': {\r\n      borderTopLeftRadius: 20,\r\n      paddingTop: 13,\r\n    },\r\n  },\r\n  '&.last-of-group': {\r\n    '& .bubble': {\r\n      borderBottomLeftRadius: 20,\r\n      paddingBottom: 13,\r\n      '& .time': {\r\n        display: 'flex',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Chat(props) {\r\n  const dispatch = useDispatch();\r\n  const selectedContactId = useSelector(selectSelectedContactId);\r\n  const chat = useSelector(selectChat);\r\n  const user = useSelector(selectUser);\r\n\r\n  const chatScroll = useRef(null);\r\n  const [messageText, setMessageText] = useState('');\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [chat]);\r\n\r\n  function scrollToBottom() {\r\n    if (!chatScroll.current) {\r\n      return;\r\n    }\r\n    chatScroll.current.scrollTo({\r\n      top: chatScroll.current.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  const onInputChange = (ev) => {\r\n    setMessageText(ev.target.value);\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      className={clsx('flex flex-col relative pb-64 shadow', props.className)}\r\n      sx={{ background: (theme) => theme.palette.background.default }}\r\n    >\r\n      <FuseScrollbars\r\n        ref={chatScroll}\r\n        className=\"flex flex-1 flex-col overflow-y-auto overscroll-contain\"\r\n        option={{ suppressScrollX: true, wheelPropagation: false }}\r\n      >\r\n        <div className=\"flex flex-col pt-16\">\r\n          {useMemo(() => {\r\n            function isFirstMessageOfGroup(item, i) {\r\n              return i === 0 || (chat[i - 1] && chat[i - 1].contactId !== item.contactId);\r\n            }\r\n\r\n            function isLastMessageOfGroup(item, i) {\r\n              return (\r\n                i === chat.length - 1 || (chat[i + 1] && chat[i + 1].contactId !== item.contactId)\r\n              );\r\n            }\r\n\r\n            return chat?.length > 0\r\n              ? chat.map((item, i) => {\r\n                  return (\r\n                    <StyledMessageRow\r\n                      key={i}\r\n                      className={clsx(\r\n                        'flex flex-col grow-0 shrink-0 items-start justify-end relative px-16 pb-4',\r\n                        item.contactId === user.id ? 'me' : 'contact',\r\n                        { 'first-of-group': isFirstMessageOfGroup(item, i) },\r\n                        { 'last-of-group': isLastMessageOfGroup(item, i) },\r\n                        i + 1 === chat.length && 'pb-72'\r\n                      )}\r\n                    >\r\n                      <div className=\"bubble flex relative items-center justify-center p-12 max-w-full\">\r\n                        <div className=\"leading-tight whitespace-pre-wrap\">{item.value}</div>\r\n                        <Typography\r\n                          className=\"time absolute hidden w-full text-11 mt-8 -mb-24 ltr:left-0 rtl:right-0 bottom-0 whitespace-nowrap\"\r\n                          color=\"text.secondary\"\r\n                        >\r\n                          {formatDistanceToNow(new Date(item.createdAt), { addSuffix: true })}\r\n                        </Typography>\r\n                      </div>\r\n                    </StyledMessageRow>\r\n                  );\r\n                })\r\n              : null;\r\n          }, [chat, user?.id])}\r\n        </div>\r\n\r\n        {chat?.length === 0 && (\r\n          <div className=\"flex flex-col flex-1\">\r\n            <div className=\"flex flex-col flex-1 items-center justify-center\">\r\n              <FuseSvgIcon size={128} color=\"disabled\">\r\n                heroicons-outline:chat\r\n              </FuseSvgIcon>\r\n            </div>\r\n            <Typography className=\"px-16 pb-24 text-center\" color=\"text.secondary\">\r\n              Start a conversation by typing your message below.\r\n            </Typography>\r\n          </div>\r\n        )}\r\n      </FuseScrollbars>\r\n\r\n      {useMemo(() => {\r\n        const onMessageSubmit = (ev) => {\r\n          ev.preventDefault();\r\n          if (messageText === '') {\r\n            return;\r\n          }\r\n          dispatch(\r\n            sendMessage({\r\n              messageText,\r\n              chatId: chat.id,\r\n              contactId: selectedContactId,\r\n            })\r\n          ).then(() => {\r\n            setMessageText('');\r\n          });\r\n        };\r\n\r\n        return (\r\n          <>\r\n            {chat && (\r\n              <form\r\n                onSubmit={onMessageSubmit}\r\n                className=\"pb-16 px-8 absolute bottom-0 left-0 right-0\"\r\n              >\r\n                <Paper className=\"rounded-24 flex items-center relative shadow\">\r\n                  <InputBase\r\n                    autoFocus={false}\r\n                    id=\"message-input\"\r\n                    className=\"flex flex-1 grow shrink-0 mx-16 ltr:mr-48 rtl:ml-48 my-8\"\r\n                    placeholder=\"Type your message\"\r\n                    onChange={onInputChange}\r\n                    value={messageText}\r\n                  />\r\n                  <IconButton\r\n                    className=\"absolute ltr:right-0 rtl:left-0 top-0\"\r\n                    type=\"submit\"\r\n                    size=\"large\"\r\n                  >\r\n                    <FuseSvgIcon className=\"rotate-90\" color=\"action\">\r\n                      heroicons-outline:paper-airplane\r\n                    </FuseSvgIcon>\r\n                  </IconButton>\r\n                </Paper>\r\n              </form>\r\n            )}\r\n          </>\r\n        );\r\n      }, [chat, dispatch, messageText, selectedContactId])}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}