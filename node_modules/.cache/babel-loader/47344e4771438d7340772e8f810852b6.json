{"ast":null,"code":"import _toConsumableArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{orange}from'@mui/material/colors';import{lighten,styled}from'@mui/material/styles';import clsx from'clsx';import FuseUtils from'@fuse/utils';import{Controller,useFormContext}from'react-hook-form';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import Box from'@mui/material/Box';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Root=styled('div')(function(_ref){var theme=_ref.theme;return{'& .productImageFeaturedStar':{position:'absolute',top:0,right:0,color:orange[400],opacity:0},'& .productImageUpload':{transitionProperty:'box-shadow',transitionDuration:theme.transitions.duration.short,transitionTimingFunction:theme.transitions.easing.easeInOut},'& .productImageItem':{transitionProperty:'box-shadow',transitionDuration:theme.transitions.duration.short,transitionTimingFunction:theme.transitions.easing.easeInOut,'&:hover':{'& .productImageFeaturedStar':{opacity:0.8}},'&.featured':{pointerEvents:'none',boxShadow:theme.shadows[3],'& .productImageFeaturedStar':{opacity:1},'&:hover .productImageFeaturedStar':{opacity:1}}}};});function ProductImagesTab(props){var methods=useFormContext();var control=methods.control,watch=methods.watch;var images=watch('images');return/*#__PURE__*/_jsx(Root,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center sm:justify-start flex-wrap -mx-16\",children:[/*#__PURE__*/_jsx(Controller,{name:\"images\",control:control,render:function render(_ref2){var _ref2$field=_ref2.field,onChange=_ref2$field.onChange,value=_ref2$field.value;return/*#__PURE__*/_jsxs(Box,{sx:{backgroundColor:function backgroundColor(theme){return theme.palette.mode==='light'?lighten(theme.palette.background.default,0.4):lighten(theme.palette.background.default,0.02);}},component:\"label\",htmlFor:\"button-file\",className:\"productImageUpload flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer shadow hover:shadow-lg\",children:[/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",className:\"hidden\",id:\"button-file\",type:\"file\",onChange:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var readFileAsync,newImage;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:readFileAsync=function _readFileAsync(){return new Promise(function(resolve,reject){var file=e.target.files[0];if(!file){return;}var reader=new FileReader();reader.onload=function(){resolve({id:FuseUtils.generateGUID(),url:\"data:\".concat(file.type,\";base64,\").concat(btoa(reader.result)),type:'image'});};reader.onerror=reject;reader.readAsBinaryString(file);});};_context.next=3;return readFileAsync();case 3:newImage=_context.sent;onChange([newImage].concat(_toConsumableArray(value)));case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}()}),/*#__PURE__*/_jsx(FuseSvgIcon,{size:32,color:\"action\",children:\"heroicons-outline:upload\"})]});}}),/*#__PURE__*/_jsx(Controller,{name:\"featuredImageId\",control:control,defaultValue:\"\",render:function render(_ref4){var _ref4$field=_ref4.field,onChange=_ref4$field.onChange,value=_ref4$field.value;return images.map(function(media){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return onChange(media.id);},onKeyDown:function onKeyDown(){return onChange(media.id);},role:\"button\",tabIndex:0,className:clsx('productImageItem flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg',media.id===value&&'featured'),children:[/*#__PURE__*/_jsx(FuseSvgIcon,{className:\"productImageFeaturedStar\",children:\"heroicons-solid:star\"}),/*#__PURE__*/_jsx(\"img\",{className:\"max-w-none w-auto h-full\",src:media.url,alt:\"product\"})]},media.id);});}})]})});}export default ProductImagesTab;","map":null,"metadata":{},"sourceType":"module"}