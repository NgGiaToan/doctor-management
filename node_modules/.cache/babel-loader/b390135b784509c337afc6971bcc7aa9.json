{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NoUnusedComponents = void 0;\n\nconst NoUnusedComponents = () => {\n  let components = new Map();\n\n  function registerComponent(location, name) {\n    var _a;\n\n    components.set(location.absolutePointer, {\n      used: ((_a = components.get(location.absolutePointer)) === null || _a === void 0 ? void 0 : _a.used) || false,\n      location,\n      name\n    });\n  }\n\n  return {\n    ref(ref, _ref) {\n      let {\n        type,\n        resolve,\n        key,\n        location\n      } = _ref;\n\n      if (['Schema', 'Header', 'Parameter', 'Response', 'Example', 'RequestBody'].includes(type.name)) {\n        const resolvedRef = resolve(ref);\n        if (!resolvedRef.location) return;\n        components.set(resolvedRef.location.absolutePointer, {\n          used: true,\n          name: key.toString(),\n          location\n        });\n      }\n    },\n\n    DefinitionRoot: {\n      leave(_, _ref2) {\n        let {\n          report\n        } = _ref2;\n        components.forEach(usageInfo => {\n          if (!usageInfo.used) {\n            report({\n              message: `Component: \"${usageInfo.name}\" is never used.`,\n              location: usageInfo.location.key()\n            });\n          }\n        });\n      }\n\n    },\n    NamedSchemas: {\n      Schema(schema, _ref3) {\n        let {\n          location,\n          key\n        } = _ref3;\n\n        if (!schema.allOf) {\n          // FIXME: find a better way to detect possible discriminator\n          registerComponent(location, key.toString());\n        }\n      }\n\n    },\n    NamedParameters: {\n      Parameter(_parameter, _ref4) {\n        let {\n          location,\n          key\n        } = _ref4;\n        registerComponent(location, key.toString());\n      }\n\n    },\n    NamedResponses: {\n      Response(_response, _ref5) {\n        let {\n          location,\n          key\n        } = _ref5;\n        registerComponent(location, key.toString());\n      }\n\n    },\n    NamedExamples: {\n      Example(_example, _ref6) {\n        let {\n          location,\n          key\n        } = _ref6;\n        registerComponent(location, key.toString());\n      }\n\n    },\n    NamedRequestBodies: {\n      RequestBody(_requestBody, _ref7) {\n        let {\n          location,\n          key\n        } = _ref7;\n        registerComponent(location, key.toString());\n      }\n\n    },\n    NamedHeaders: {\n      Header(_header, _ref8) {\n        let {\n          location,\n          key\n        } = _ref8;\n        registerComponent(location, key.toString());\n      }\n\n    }\n  };\n};\n\nexports.NoUnusedComponents = NoUnusedComponents;","map":{"version":3,"names":["Object","defineProperty","exports","value","NoUnusedComponents","components","Map","registerComponent","location","name","_a","set","absolutePointer","used","get","ref","type","resolve","key","includes","resolvedRef","toString","DefinitionRoot","leave","_","report","forEach","usageInfo","message","NamedSchemas","Schema","schema","allOf","NamedParameters","Parameter","_parameter","NamedResponses","Response","_response","NamedExamples","Example","_example","NamedRequestBodies","RequestBody","_requestBody","NamedHeaders","Header","_header"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@redocly/openapi-core/lib/rules/oas3/no-unused-components.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoUnusedComponents = void 0;\nconst NoUnusedComponents = () => {\n    let components = new Map();\n    function registerComponent(location, name) {\n        var _a;\n        components.set(location.absolutePointer, {\n            used: ((_a = components.get(location.absolutePointer)) === null || _a === void 0 ? void 0 : _a.used) || false,\n            location,\n            name,\n        });\n    }\n    return {\n        ref(ref, { type, resolve, key, location }) {\n            if (['Schema', 'Header', 'Parameter', 'Response', 'Example', 'RequestBody'].includes(type.name)) {\n                const resolvedRef = resolve(ref);\n                if (!resolvedRef.location)\n                    return;\n                components.set(resolvedRef.location.absolutePointer, {\n                    used: true,\n                    name: key.toString(),\n                    location,\n                });\n            }\n        },\n        DefinitionRoot: {\n            leave(_, { report }) {\n                components.forEach((usageInfo) => {\n                    if (!usageInfo.used) {\n                        report({\n                            message: `Component: \"${usageInfo.name}\" is never used.`,\n                            location: usageInfo.location.key(),\n                        });\n                    }\n                });\n            },\n        },\n        NamedSchemas: {\n            Schema(schema, { location, key }) {\n                if (!schema.allOf) {\n                    // FIXME: find a better way to detect possible discriminator\n                    registerComponent(location, key.toString());\n                }\n            },\n        },\n        NamedParameters: {\n            Parameter(_parameter, { location, key }) {\n                registerComponent(location, key.toString());\n            },\n        },\n        NamedResponses: {\n            Response(_response, { location, key }) {\n                registerComponent(location, key.toString());\n            },\n        },\n        NamedExamples: {\n            Example(_example, { location, key }) {\n                registerComponent(location, key.toString());\n            },\n        },\n        NamedRequestBodies: {\n            RequestBody(_requestBody, { location, key }) {\n                registerComponent(location, key.toString());\n            },\n        },\n        NamedHeaders: {\n            Header(_header, { location, key }) {\n                registerComponent(location, key.toString());\n            },\n        },\n    };\n};\nexports.NoUnusedComponents = NoUnusedComponents;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}