{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useDeepCompareEffect}from'@fuse/hooks';import _ from'@lodash';import AppContext from'app/AppContext';import{generateSettings,selectFuseCurrentSettings,selectFuseDefaultSettings,setSettings}from'app/store/fuse/settingsSlice';import{memo,useCallback,useContext,useMemo,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{matchRoutes,useLocation}from'react-router-dom';import GlobalStyles from'@mui/material/GlobalStyles';import{alpha}from'@mui/material/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var inputGlobalStyles=/*#__PURE__*/_jsx(GlobalStyles,{styles:function styles(theme){return{html:{backgroundColor:\"\".concat(theme.palette.background.default,\"!important\"),color:\"\".concat(theme.palette.text.primary,\"!important\")},body:{backgroundColor:theme.palette.background.default,color:theme.palette.text.primary},/*  'code:not([class*=\"language-\"])': {\r\n        color: theme.palette.secondary.dark,\r\n        backgroundColor:\r\n          theme.palette.mode === 'light' ? 'rgba(255, 255, 255, .9)' : 'rgba(0, 0, 0, .9)',\r\n        padding: '2px 3px',\r\n        borderRadius: 2,\r\n        lineHeight: 1.7,\r\n      }, */'table.simple tbody tr td':{borderColor:theme.palette.divider},'table.simple thead tr th':{borderColor:theme.palette.divider},'a:not([role=button]):not(.MuiButtonBase-root)':{color:theme.palette.secondary.main,textDecoration:'underline','&:hover':{}},'a.link, a:not([role=button])[target=_blank]':{background:alpha(theme.palette.secondary.main,0.2),color:'inherit',borderBottom:\"1px solid \".concat(theme.palette.divider),textDecoration:'none','&:hover':{background:alpha(theme.palette.secondary.main,0.3),textDecoration:'none'}},'[class^=\"border\"]':{borderColor:theme.palette.divider},'[class*=\"border\"]':{borderColor:theme.palette.divider},'[class*=\"divide-\"] > :not([hidden]) ~ :not([hidden])':{borderColor:theme.palette.divider},hr:{borderColor:theme.palette.divider},'::-webkit-scrollbar-thumb':{boxShadow:\"inset 0 0 0 20px \".concat(theme.palette.mode==='light'?'rgba(0, 0, 0, 0.24)':'rgba(255, 255, 255, 0.24)')},'::-webkit-scrollbar-thumb:active':{boxShadow:\"inset 0 0 0 20px \".concat(theme.palette.mode==='light'?'rgba(0, 0, 0, 0.37)':'rgba(255, 255, 255, 0.37)')}};}});function FuseLayout(props){var layouts=props.layouts;var dispatch=useDispatch();var settings=useSelector(selectFuseCurrentSettings);var defaultSettings=useSelector(selectFuseDefaultSettings);var appContext=useContext(AppContext);var routes=appContext.routes;var location=useLocation();var pathname=location.pathname;var matchedRoutes=matchRoutes(routes,pathname);var matched=matchedRoutes?matchedRoutes[0]:false;var newSettings=useRef(null);var shouldAwaitRender=useCallback(function(){var _newSettings;/**\r\n     * On Path changed\r\n     */ // if (prevPathname !== pathname) {\nif(matched&&matched.route.settings){/**\r\n       * if matched route has settings\r\n       */var routeSettings=matched.route.settings;_newSettings=generateSettings(defaultSettings,routeSettings);}else if(!_.isEqual(newSettings.current,defaultSettings)){/**\r\n       * Reset to default settings on the new path\r\n       */_newSettings=_.merge({},defaultSettings);}else{_newSettings=newSettings.current;}if(!_.isEqual(newSettings.current,_newSettings)){newSettings.current=_newSettings;}},[defaultSettings,matched]);shouldAwaitRender();useDeepCompareEffect(function(){if(!_.isEqual(newSettings.current,settings)){dispatch(setSettings(newSettings.current));}},[dispatch,newSettings.current,settings]);// console.warn('::FuseLayout:: rendered');\nvar Layout=useMemo(function(){return layouts[settings.layout.style];},[layouts,settings.layout.style]);return _.isEqual(newSettings.current,settings)?/*#__PURE__*/_jsxs(_Fragment,{children:[inputGlobalStyles,/*#__PURE__*/_jsx(Layout,_objectSpread({},props))]}):null;}export default/*#__PURE__*/memo(FuseLayout);","map":null,"metadata":{},"sourceType":"module"}