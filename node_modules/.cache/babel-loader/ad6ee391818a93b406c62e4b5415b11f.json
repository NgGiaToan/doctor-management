{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{yupResolver}from'@hookform/resolvers/yup';import{Controller,useForm}from'react-hook-form';import ClickAwayListener from'@mui/material/ClickAwayListener';import IconButton from'@mui/material/IconButton';import InputAdornment from'@mui/material/InputAdornment';import TextField from'@mui/material/TextField';import Typography from'@mui/material/Typography';import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import*as yup from'yup';import _ from'@lodash';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import{selectBoard,updateBoard}from'../store/boardSlice';/**\r\n * Form Validation Schema\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({title:yup.string().required('You must enter a title')});function BoardTitle(props){var dispatch=useDispatch();var board=useSelector(selectBoard);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formOpen=_useState2[0],setFormOpen=_useState2[1];var _useForm=useForm({mode:'onChange',defaultValues:{title:board.title},resolver:yupResolver(schema)}),control=_useForm.control,formState=_useForm.formState,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var isValid=formState.isValid,dirtyFields=formState.dirtyFields,errors=formState.errors;useEffect(function(){if(!formOpen){reset({title:board.title});}},[formOpen,reset,board.title]);function handleOpenForm(ev){ev.stopPropagation();setFormOpen(true);}function handleCloseForm(){setFormOpen(false);}function onSubmit(data){dispatch(updateBoard(data));handleCloseForm();}return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center min-w-0\",children:formOpen?/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleCloseForm,children:/*#__PURE__*/_jsx(\"form\",{className:\"flex w-full\",onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsx(Controller,{name:\"title\",control:control,render:function render(_ref){var field=_ref.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{variant:\"filled\",margin:\"none\",autoFocus:true,hiddenLabel:true,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{type:\"submit\",disabled:_.isEmpty(dirtyFields)||!isValid,size:\"large\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:check\"})})})}}));}})})}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-12\",children:[/*#__PURE__*/_jsx(Typography,{className:\"text-14  sm:text-24 md:text-32 font-extrabold tracking-tight leading-none cursor-pointer\",onClick:handleOpenForm,color:\"inherit\",children:board.title}),(board===null||board===void 0?void 0:board.settings.subscribed)&&/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:eye\"})]})});}export default BoardTitle;","map":null,"metadata":{},"sourceType":"module"}