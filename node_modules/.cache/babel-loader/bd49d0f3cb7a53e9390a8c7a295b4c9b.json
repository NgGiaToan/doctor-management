{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giato\\\\Downloads\\\\Workspace\\\\.Net\\\\api\\\\doctor-management-fe\\\\src\\\\app\\\\main\\\\apps\\\\scrumboard\\\\board\\\\board-card\\\\BoardAddCard.js\",\n    _s = $RefreshSig$();\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Controller, useForm } from 'react-hook-form';\nimport Button from '@mui/material/Button';\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\nimport IconButton from '@mui/material/IconButton';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport * as yup from 'yup';\nimport _ from '@lodash';\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\nimport { newCard } from '../../store/cardsSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  title: ''\n};\n/**\r\n * Form Validation Schema\r\n */\n\nconst schema = yup.object().shape({\n  title: yup.string().required('You must enter a title')\n});\n\nfunction BoardAddCard(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [formOpen, setFormOpen] = useState(false);\n  const {\n    control,\n    formState,\n    handleSubmit,\n    reset\n  } = useForm({\n    mode: 'onChange',\n    defaultValues,\n    resolver: yupResolver(schema)\n  });\n  const {\n    isValid,\n    dirtyFields,\n    errors\n  } = formState;\n  useEffect(() => {\n    if (!formOpen) {\n      reset(defaultValues);\n    }\n  }, [formOpen, reset]);\n\n  function handleOpenForm(ev) {\n    ev.stopPropagation();\n    setFormOpen(true);\n  }\n\n  function handleCloseForm() {\n    setFormOpen(false);\n  }\n\n  function onSubmit(newData) {\n    dispatch(newCard({\n      listId: props.listId,\n      newData\n    })).then(() => {\n      props.onCardAdded();\n    });\n    handleCloseForm();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: formOpen ? /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n      onClickAway: handleCloseForm,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(Controller, {\n          name: \"title\",\n          control: control,\n          render: _ref => {\n            let {\n              field\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(TextField, {\n              className: \"mb-16\",\n              required: true,\n              fullWidth: true,\n              variant: \"filled\",\n              label: \"Card title\",\n              autoFocus: true,\n              InputProps: { ...field,\n                endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"end\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: handleCloseForm,\n                    size: \"large\",\n                    children: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n                      size: 18,\n                      children: \"heroicons-outline:x\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 23\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            type: \"submit\",\n            disabled: _.isEmpty(dirtyFields) || !isValid,\n            size: \"small\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleOpenForm,\n      classes: {\n        root: 'font-medium w-full rounded-lg p-24 justify-start'\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(FuseSvgIcon, {\n        children: \"heroicons-outline:plus-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 22\n      }, this),\n      sx: {\n        color: 'text.secondary'\n      },\n      children: \"Add another card\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BoardAddCard, \"rP+KIXZoxvWxXrZ42enuMEo3UxM=\", false, function () {\n  return [useDispatch, useForm];\n});\n\n_c = BoardAddCard;\nexport default BoardAddCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardAddCard\");","map":{"version":3,"names":["yupResolver","Controller","useForm","Button","ClickAwayListener","IconButton","InputAdornment","TextField","useEffect","useState","useDispatch","yup","_","FuseSvgIcon","newCard","defaultValues","title","schema","object","shape","string","required","BoardAddCard","props","dispatch","formOpen","setFormOpen","control","formState","handleSubmit","reset","mode","resolver","isValid","dirtyFields","errors","handleOpenForm","ev","stopPropagation","handleCloseForm","onSubmit","newData","listId","then","onCardAdded","field","endAdornment","isEmpty","root","color"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/scrumboard/board/board-card/BoardAddCard.js"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport Button from '@mui/material/Button';\r\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport * as yup from 'yup';\r\nimport _ from '@lodash';\r\nimport FuseSvgIcon from '@fuse/core/FuseSvgIcon';\r\nimport { newCard } from '../../store/cardsSlice';\r\n\r\nconst defaultValues = {\r\n  title: '',\r\n};\r\n\r\n/**\r\n * Form Validation Schema\r\n */\r\nconst schema = yup.object().shape({\r\n  title: yup.string().required('You must enter a title'),\r\n});\r\n\r\nfunction BoardAddCard(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const { control, formState, handleSubmit, reset } = useForm({\r\n    mode: 'onChange',\r\n    defaultValues,\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const { isValid, dirtyFields, errors } = formState;\r\n\r\n  useEffect(() => {\r\n    if (!formOpen) {\r\n      reset(defaultValues);\r\n    }\r\n  }, [formOpen, reset]);\r\n\r\n  function handleOpenForm(ev) {\r\n    ev.stopPropagation();\r\n    setFormOpen(true);\r\n  }\r\n\r\n  function handleCloseForm() {\r\n    setFormOpen(false);\r\n  }\r\n\r\n  function onSubmit(newData) {\r\n    dispatch(newCard({ listId: props.listId, newData })).then(() => {\r\n      props.onCardAdded();\r\n    });\r\n    handleCloseForm();\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      {formOpen ? (\r\n        <ClickAwayListener onClickAway={handleCloseForm}>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <Controller\r\n              name=\"title\"\r\n              control={control}\r\n              render={({ field }) => (\r\n                <TextField\r\n                  className=\"mb-16\"\r\n                  required\r\n                  fullWidth\r\n                  variant=\"filled\"\r\n                  label=\"Card title\"\r\n                  autoFocus\r\n                  InputProps={{\r\n                    ...field,\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton onClick={handleCloseForm} size=\"large\">\r\n                          <FuseSvgIcon size={18}>heroicons-outline:x</FuseSvgIcon>\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n\r\n            <div className=\"flex justify-between items-center\">\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                type=\"submit\"\r\n                disabled={_.isEmpty(dirtyFields) || !isValid}\r\n                size=\"small\"\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </ClickAwayListener>\r\n      ) : (\r\n        <Button\r\n          onClick={handleOpenForm}\r\n          classes={{\r\n            root: 'font-medium w-full rounded-lg p-24 justify-start',\r\n          }}\r\n          startIcon={<FuseSvgIcon>heroicons-outline:plus-circle</FuseSvgIcon>}\r\n          sx={{ color: 'text.secondary' }}\r\n        >\r\n          Add another card\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BoardAddCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}