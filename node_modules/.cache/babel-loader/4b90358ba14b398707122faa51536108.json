{"ast":null,"code":"import _objectSpread from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{yupResolver}from'@hookform/resolvers/yup';import{forwardRef,useEffect,useImperativeHandle,useState}from'react';import{Controller,useForm}from'react-hook-form';import ClickAwayListener from'@mui/material/ClickAwayListener';import IconButton from'@mui/material/IconButton';import InputAdornment from'@mui/material/InputAdornment';import TextField from'@mui/material/TextField';import Typography from'@mui/material/Typography';import*as yup from'yup';import _ from'@lodash';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';/**\r\n * Form Validation Schema\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object().shape({name:yup.string().required('You must enter a title')});var CardChecklistName=/*#__PURE__*/forwardRef(function CardChecklistName(props,ref){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formOpen=_useState2[0],setFormOpen=_useState2[1];var _useForm=useForm({mode:'onChange',defaultValues:{name:props.name},resolver:yupResolver(schema)}),control=_useForm.control,formState=_useForm.formState,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var isValid=formState.isValid,dirtyFields=formState.dirtyFields,errors=formState.errors;useEffect(function(){if(!formOpen){reset({name:props.name});}},[formOpen,reset,props.name]);useImperativeHandle(ref,function(){return{openForm:handleOpenForm};});function handleOpenForm(ev){ev.stopPropagation();setFormOpen(true);}function handleCloseForm(){setFormOpen(false);}function onSubmit(data){props.onNameChange(data.name);handleCloseForm();}return formOpen?/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleCloseForm,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsx(Controller,{name:\"name\",control:control,render:function render(_ref){var field=_ref.field;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{variant:\"outlined\",margin:\"dense\",autoFocus:true,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{type:\"submit\",disabled:_.isEmpty(dirtyFields)||!isValid,size:\"large\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:check\"})})})}}));}})})}):/*#__PURE__*/_jsx(Typography,{className:\"text-16 font-semibold cursor-pointer mx-8\",onClick:handleOpenForm,children:props.name});});export default CardChecklistName;","map":null,"metadata":{},"sourceType":"module"}