{"ast":null,"code":"import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const getProducts = createAsyncThunk('eCommerceApp/products/getProducts', async () => {\n  const response = await axios.get('/api/ecommerce/products');\n  const data = await response.data;\n  return data;\n});\nexport const removeProducts = createAsyncThunk('eCommerceApp/products', async (productIds, _ref) => {\n  let {\n    dispatch,\n    getState\n  } = _ref;\n  await axios.delete('/api/ecommerce/products', {\n    data: productIds\n  });\n  return productIds;\n});\nconst productsAdapter = createEntityAdapter({});\nexport const {\n  selectAll: selectProducts,\n  selectById: selectProductById\n} = productsAdapter.getSelectors(state => state.eCommerceApp.products);\nconst productsSlice = createSlice({\n  name: 'eCommerceApp/products',\n  initialState: productsAdapter.getInitialState({\n    searchText: ''\n  }),\n  reducers: {\n    setProductsSearchText: {\n      reducer: (state, action) => {\n        state.searchText = action.payload;\n      },\n      prepare: event => ({\n        payload: event.target.value || ''\n      })\n    }\n  },\n  extraReducers: {\n    [getProducts.fulfilled]: productsAdapter.setAll,\n    [removeProducts.fulfilled]: (state, action) => productsAdapter.removeMany(state, action.payload)\n  }\n});\nexport const {\n  setProductsSearchText\n} = productsSlice.actions;\nexport const selectProductsSearchText = _ref2 => {\n  let {\n    eCommerceApp\n  } = _ref2;\n  return eCommerceApp.products.searchText;\n};\nexport default productsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createEntityAdapter","createSlice","axios","getProducts","response","get","data","removeProducts","productIds","dispatch","getState","delete","productsAdapter","selectAll","selectProducts","selectById","selectProductById","getSelectors","state","eCommerceApp","products","productsSlice","name","initialState","getInitialState","searchText","reducers","setProductsSearchText","reducer","action","payload","prepare","event","target","value","extraReducers","fulfilled","setAll","removeMany","actions","selectProductsSearchText"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/e-commerce/store/productsSlice.js"],"sourcesContent":["import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const getProducts = createAsyncThunk('eCommerceApp/products/getProducts', async () => {\r\n  const response = await axios.get('/api/ecommerce/products');\r\n  const data = await response.data;\r\n\r\n  return data;\r\n});\r\n\r\nexport const removeProducts = createAsyncThunk(\r\n  'eCommerceApp/products',\r\n  async (productIds, { dispatch, getState }) => {\r\n    await axios.delete('/api/ecommerce/products', { data: productIds });\r\n\r\n    return productIds;\r\n  }\r\n);\r\n\r\nconst productsAdapter = createEntityAdapter({});\r\n\r\nexport const { selectAll: selectProducts, selectById: selectProductById } =\r\n  productsAdapter.getSelectors((state) => state.eCommerceApp.products);\r\n\r\nconst productsSlice = createSlice({\r\n  name: 'eCommerceApp/products',\r\n  initialState: productsAdapter.getInitialState({\r\n    searchText: '',\r\n  }),\r\n  reducers: {\r\n    setProductsSearchText: {\r\n      reducer: (state, action) => {\r\n        state.searchText = action.payload;\r\n      },\r\n      prepare: (event) => ({ payload: event.target.value || '' }),\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getProducts.fulfilled]: productsAdapter.setAll,\r\n    [removeProducts.fulfilled]: (state, action) =>\r\n      productsAdapter.removeMany(state, action.payload),\r\n  },\r\n});\r\n\r\nexport const { setProductsSearchText } = productsSlice.actions;\r\n\r\nexport const selectProductsSearchText = ({ eCommerceApp }) => eCommerceApp.products.searchText;\r\n\r\nexport default productsSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,mBAA3B,EAAgDC,WAAhD,QAAmE,kBAAnE;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CAAC,mCAAD,EAAsC,YAAY;EAC3F,MAAMK,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAU,yBAAV,CAAvB;EACA,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAA5B;EAEA,OAAOA,IAAP;AACD,CAL0C,CAApC;AAOP,OAAO,MAAMC,cAAc,GAAGR,gBAAgB,CAC5C,uBAD4C,EAE5C,OAAOS,UAAP,WAA8C;EAAA,IAA3B;IAAEC,QAAF;IAAYC;EAAZ,CAA2B;EAC5C,MAAMR,KAAK,CAACS,MAAN,CAAa,yBAAb,EAAwC;IAAEL,IAAI,EAAEE;EAAR,CAAxC,CAAN;EAEA,OAAOA,UAAP;AACD,CAN2C,CAAvC;AASP,MAAMI,eAAe,GAAGZ,mBAAmB,CAAC,EAAD,CAA3C;AAEA,OAAO,MAAM;EAAEa,SAAS,EAAEC,cAAb;EAA6BC,UAAU,EAAEC;AAAzC,IACXJ,eAAe,CAACK,YAAhB,CAA8BC,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBC,QAA3D,CADK;AAGP,MAAMC,aAAa,GAAGpB,WAAW,CAAC;EAChCqB,IAAI,EAAE,uBAD0B;EAEhCC,YAAY,EAAEX,eAAe,CAACY,eAAhB,CAAgC;IAC5CC,UAAU,EAAE;EADgC,CAAhC,CAFkB;EAKhCC,QAAQ,EAAE;IACRC,qBAAqB,EAAE;MACrBC,OAAO,EAAE,CAACV,KAAD,EAAQW,MAAR,KAAmB;QAC1BX,KAAK,CAACO,UAAN,GAAmBI,MAAM,CAACC,OAA1B;MACD,CAHoB;MAIrBC,OAAO,EAAGC,KAAD,KAAY;QAAEF,OAAO,EAAEE,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsB;MAAjC,CAAZ;IAJY;EADf,CALsB;EAahCC,aAAa,EAAE;IACb,CAAChC,WAAW,CAACiC,SAAb,GAAyBxB,eAAe,CAACyB,MAD5B;IAEb,CAAC9B,cAAc,CAAC6B,SAAhB,GAA4B,CAAClB,KAAD,EAAQW,MAAR,KAC1BjB,eAAe,CAAC0B,UAAhB,CAA2BpB,KAA3B,EAAkCW,MAAM,CAACC,OAAzC;EAHW;AAbiB,CAAD,CAAjC;AAoBA,OAAO,MAAM;EAAEH;AAAF,IAA4BN,aAAa,CAACkB,OAAhD;AAEP,OAAO,MAAMC,wBAAwB,GAAG;EAAA,IAAC;IAAErB;EAAF,CAAD;EAAA,OAAsBA,YAAY,CAACC,QAAb,CAAsBK,UAA5C;AAAA,CAAjC;AAEP,eAAeJ,aAAa,CAACO,OAA7B"},"metadata":{},"sourceType":"module"}