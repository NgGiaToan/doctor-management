{"ast":null,"code":"import List from'@mui/material/List';import ListItem from'@mui/material/ListItem';import ListItemIcon from'@mui/material/ListItemIcon';import ListItemSecondaryAction from'@mui/material/ListItemSecondaryAction';import ListItemText from'@mui/material/ListItemText';import Switch from'@mui/material/Switch';import{useDispatch,useSelector}from'react-redux';import FuseSvgIcon from'@fuse/core/FuseSvgIcon';import IconButton from'@mui/material/IconButton';import Typography from'@mui/material/Typography';import Toolbar from'@mui/material/Toolbar';import{Controller,useForm}from'react-hook-form';import{useEffect}from'react';import _ from'@lodash';import{useDebounce,useDeepCompareEffect}from'@fuse/hooks';import{lighten}from'@mui/material/styles';import Box from'@mui/material/Box';import{deleteBoard,selectBoard,updateBoard}from'../../../store/boardSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BoardSettingsSidebar(props){var dispatch=useDispatch();var board=useSelector(selectBoard);var _useForm=useForm({mode:'onChange',defaultValues:board.settings}),watch=_useForm.watch,control=_useForm.control,reset=_useForm.reset;var boardSettingsForm=watch();var updateBoardData=useDebounce(function(data){dispatch(updateBoard(data));},600);useDeepCompareEffect(function(){if(_.isEmpty(boardSettingsForm)||!(board!==null&&board!==void 0&&board.settings)){return;}if(!_.isEqual(board.settings,boardSettingsForm)){updateBoardData({settings:boardSettingsForm});}},[board,boardSettingsForm,updateBoardData]);useEffect(function(){if(!board){return;}reset(board.settings);},[board,reset]);if(_.isEmpty(boardSettingsForm)){return null;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Box,{sx:{backgroundColor:function backgroundColor(theme){return theme.palette.mode==='light'?lighten(theme.palette.background.default,0.4):lighten(theme.palette.background.default,0.02);}},className:\"border-b-1\",children:/*#__PURE__*/_jsxs(Toolbar,{className:\"flex items-center px-4\",children:[/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return props.onSetSidebarOpen(false);},color:\"inherit\",size:\"large\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:x\"})}),/*#__PURE__*/_jsx(Typography,{className:\"px-4 font-medium text-16\",color:\"inherit\",variant:\"subtitle1\",children:\"Settings\"})]})}),/*#__PURE__*/_jsxs(List,{className:\"py-24\",children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{className:\"min-w-40\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:photograph\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Card Cover Images\"}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(Controller,{name:\"cardCoverImages\",control:control,render:function render(_ref){var _ref$field=_ref.field,_onChange=_ref$field.onChange,value=_ref$field.value;return/*#__PURE__*/_jsx(Switch,{onChange:function onChange(ev){_onChange(ev.target.checked);},checked:value});}})})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{className:\"min-w-40\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:eye-off\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Subscribe\"}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(Controller,{name:\"subscribed\",control:control,render:function render(_ref2){var _ref2$field=_ref2.field,_onChange2=_ref2$field.onChange,value=_ref2$field.value;return/*#__PURE__*/_jsx(Switch,{onChange:function onChange(ev){_onChange2(ev.target.checked);},checked:value});}})})]}),/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:function onClick(){return dispatch(deleteBoard(board.id));},children:[/*#__PURE__*/_jsx(ListItemIcon,{className:\"min-w-40\",children:/*#__PURE__*/_jsx(FuseSvgIcon,{children:\"heroicons-outline:trash\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Delete Board\"})]})]})]});}export default BoardSettingsSidebar;","map":null,"metadata":{},"sourceType":"module"}