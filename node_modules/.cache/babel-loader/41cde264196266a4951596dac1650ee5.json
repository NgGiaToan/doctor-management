{"ast":null,"code":"const fontSizes = {\n  1: {\n    fontSize: 14,\n    lineHeight: 19\n  },\n  2: {\n    fontSize: 18,\n    lineHeight: 28\n  },\n  3: {\n    fontSize: 24,\n    lineHeight: 36\n  },\n  4: {\n    fontSize: 36,\n    lineHeight: 48\n  },\n  5: {\n    fontSize: 48,\n    lineHeight: 60\n  }\n};\n\nfunction setDescriptionStyle(sentence, refEl, enabled) {\n  if (!refEl) {\n    return;\n  }\n\n  refEl.style.fontSize = null;\n  refEl.style.lineHeight = null;\n  const refElWidth = refEl.clientWidth;\n\n  if (refElWidth === 0) {\n    return;\n  }\n\n  if (!enabled) {\n    return;\n  }\n\n  const tmp = document.createElement('div');\n  tmp.style.display = 'inline-block';\n  tmp.style.fontSize = '10px';\n  tmp.style.fontWeight = '600';\n  tmp.style.lineHeight = '10px';\n  tmp.style.position = 'absolute';\n  tmp.style.whiteSpace = 'pre-wrap';\n  tmp.style.wordWrap = 'break-word';\n  tmp.style.pointerEvents = 'none';\n  tmp.style.visibility = 'hidden';\n  document.body.appendChild(tmp);\n  let size;\n  const words = sentence.split(' ');\n  const wordLengths = words.map(word => {\n    tmp.textContent = word.toString();\n    return tmp.clientWidth;\n  });\n  const maxWordLength = Math.max(...wordLengths);\n  const maxPx = Math.floor(refElWidth * 10 / maxWordLength);\n\n  if (maxPx < 18) {\n    size = 1;\n  } else if (maxPx >= 18 && maxPx < 24) {\n    size = 2;\n  } else if (maxPx >= 24 && maxPx < 36) {\n    size = 3;\n  } else if (maxPx >= 36 && maxPx < 48) {\n    size = 4;\n  } else if (maxPx >= 48) {\n    size = 5;\n  }\n\n  let {\n    lineHeight,\n    fontSize\n  } = fontSizes[size];\n  tmp.textContent = sentence;\n  tmp.style.width = `${refElWidth}px`;\n  tmp.style.fontSize = `${fontSize}px`;\n  tmp.style.lineHeight = `${lineHeight}px`;\n  const lineCount = tmp.clientHeight / lineHeight;\n\n  if (lineCount > 4 && lineCount < 6) {\n    size = 4;\n  } else if (lineCount >= 6 && lineCount < 9) {\n    size = 3;\n  } else if (lineCount >= 9 && lineCount < 11) {\n    size = 2;\n  } else if (lineCount >= 11) {\n    size = 1;\n  }\n\n  document.body.removeChild(tmp);\n  lineHeight = fontSizes[size].lineHeight;\n  fontSize = fontSizes[size].fontSize;\n  refEl.style.fontSize = `${fontSize}px`;\n  refEl.style.lineHeight = `${lineHeight}px`;\n}\n\nexport default setDescriptionStyle;","map":{"version":3,"names":["fontSizes","fontSize","lineHeight","setDescriptionStyle","sentence","refEl","enabled","style","refElWidth","clientWidth","tmp","document","createElement","display","fontWeight","position","whiteSpace","wordWrap","pointerEvents","visibility","body","appendChild","size","words","split","wordLengths","map","word","textContent","toString","maxWordLength","Math","max","maxPx","floor","width","lineCount","clientHeight","removeChild"],"sources":["C:/Users/giato/Downloads/Workspace/.Net/api/doctor-management-fe/src/app/main/apps/notes/setDescriptionStyle.js"],"sourcesContent":["const fontSizes = {\r\n  1: {\r\n    fontSize: 14,\r\n    lineHeight: 19,\r\n  },\r\n  2: {\r\n    fontSize: 18,\r\n    lineHeight: 28,\r\n  },\r\n  3: {\r\n    fontSize: 24,\r\n    lineHeight: 36,\r\n  },\r\n  4: {\r\n    fontSize: 36,\r\n    lineHeight: 48,\r\n  },\r\n  5: {\r\n    fontSize: 48,\r\n    lineHeight: 60,\r\n  },\r\n};\r\n\r\nfunction setDescriptionStyle(sentence, refEl, enabled) {\r\n  if (!refEl) {\r\n    return;\r\n  }\r\n\r\n  refEl.style.fontSize = null;\r\n  refEl.style.lineHeight = null;\r\n  const refElWidth = refEl.clientWidth;\r\n\r\n  if (refElWidth === 0) {\r\n    return;\r\n  }\r\n\r\n  if (!enabled) {\r\n    return;\r\n  }\r\n\r\n  const tmp = document.createElement('div');\r\n  tmp.style.display = 'inline-block';\r\n  tmp.style.fontSize = '10px';\r\n  tmp.style.fontWeight = '600';\r\n  tmp.style.lineHeight = '10px';\r\n  tmp.style.position = 'absolute';\r\n  tmp.style.whiteSpace = 'pre-wrap';\r\n  tmp.style.wordWrap = 'break-word';\r\n  tmp.style.pointerEvents = 'none';\r\n  tmp.style.visibility = 'hidden';\r\n  document.body.appendChild(tmp);\r\n\r\n  let size;\r\n\r\n  const words = sentence.split(' ');\r\n\r\n  const wordLengths = words.map((word) => {\r\n    tmp.textContent = word.toString();\r\n    return tmp.clientWidth;\r\n  });\r\n\r\n  const maxWordLength = Math.max(...wordLengths);\r\n  const maxPx = Math.floor((refElWidth * 10) / maxWordLength);\r\n\r\n  if (maxPx < 18) {\r\n    size = 1;\r\n  } else if (maxPx >= 18 && maxPx < 24) {\r\n    size = 2;\r\n  } else if (maxPx >= 24 && maxPx < 36) {\r\n    size = 3;\r\n  } else if (maxPx >= 36 && maxPx < 48) {\r\n    size = 4;\r\n  } else if (maxPx >= 48) {\r\n    size = 5;\r\n  }\r\n\r\n  let { lineHeight, fontSize } = fontSizes[size];\r\n\r\n  tmp.textContent = sentence;\r\n  tmp.style.width = `${refElWidth}px`;\r\n  tmp.style.fontSize = `${fontSize}px`;\r\n  tmp.style.lineHeight = `${lineHeight}px`;\r\n\r\n  const lineCount = tmp.clientHeight / lineHeight;\r\n\r\n  if (lineCount > 4 && lineCount < 6) {\r\n    size = 4;\r\n  } else if (lineCount >= 6 && lineCount < 9) {\r\n    size = 3;\r\n  } else if (lineCount >= 9 && lineCount < 11) {\r\n    size = 2;\r\n  } else if (lineCount >= 11) {\r\n    size = 1;\r\n  }\r\n\r\n  document.body.removeChild(tmp);\r\n\r\n  lineHeight = fontSizes[size].lineHeight;\r\n  fontSize = fontSizes[size].fontSize;\r\n  refEl.style.fontSize = `${fontSize}px`;\r\n  refEl.style.lineHeight = `${lineHeight}px`;\r\n}\r\n\r\nexport default setDescriptionStyle;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}